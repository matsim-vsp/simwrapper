async function s(a,o){const i=a.context.deck.canvas.toDataURL("image/png"),t=o?.toDataURL("image/png"),e=[];t&&e.push(t),e.push(i);const c=await d({width:a.context.deck.canvas.width,height:a.context.deck.canvas.height,imageDataURLs:e});var n=document.createElement("a");n.setAttribute("href",c),n.setAttribute("download","screenshot.png"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function d(a){return new Promise((o,i)=>{var t=document.createElement("canvas");t.width=a.width,t.height=a.height,Promise.all(a.imageDataURLs.map(e=>g(t,e))).then(()=>{const e=t.getContext("2d"),c=t.width-152,n=t.height-8;e.beginPath(),e.rect(c-4,n-14,158,22),e.fillStyle="#ffffff44",e.fill(),e.font="11px Arial",e.fillStyle="#888",e.fillText("© Mapbox  © OpenStreetMap",c,n),o(t.toDataURL("image/png"))})})}function g(a,o){return new Promise((i,t)=>{a||t(),o||t();var e=new Image;e.onload=function(){a.getContext("2d").drawImage(this,0,0),i(!0)},e.src=o})}const m={savePNG:s};export{m as s};
