import{d as Lt,n as Tt,g as ut,m as na,h as rr,c as ia,C as ra}from"./index-D_sw2g-2.js";import{p as or,b as oa,l as aa}from"./turf.es-BzqbG201.js";import{a as la,D as ca}from"./DashboardDataManager-mkjvCydQ.js";import{c as ua}from"./index-B9fw0f6a.js";import{d as da}from"./index-CCqgbF9K.js";import{P as fa}from"./papaparse.min-DWLWhEfa.js";import{Y as ha}from"./index-DFKcNkqO.js";import{m as pa,n as ar,H as ma}from"./HTTPFileSystem-ChhivMzi.js";import{C as ga}from"./CollapsiblePanel-DSPRew5z.js";import{W as ya}from"./NewXmlFetcher.worker-DdEXgVTv.js";import{D as va}from"./DrawingTool-C9sJ7itr.js";import{Z as _a}from"./ZoomButtons-B4PrQ7mG.js";import{L as ba,O as lr}from"./LineOffsetLayer-BT_eFkEQ.js";import{e as cr,d as ka}from"./threeDBuildings-eDgufgS4.js";import{b as gr}from"./cubehelix-BzW-tINw.js";import{M as Sa}from"./mapbox-overlay-HS93bZkL.js";import{K as ur}from"./layer-T9N9JmIf.js";import{G as Ca,d as wa}from"./geojson-layer-DvtTfj7b.js";import{W as xa}from"./GzipFetcher.worker-BhGsThTA.js";import{B as La}from"./BackgroundLayers-Dp9DDZZa.js";import"./group-hI8ly2Wr.js";import"./index-_doEQLKC.js";import"./fxp-DjoqftHf.js";import"./line-layer-BJTc6V-8.js";import"./Coords-C-Mhj230.js";import"./ColorsAndWidths-D0mbSer2.js";import"./threshold-CrWFx_nu.js";import"./rainbow-DNS2KC2A.js";import"./geo-utils-DZRrIAx0.js";import"./sequential-pySAYR1V.js";import"./pow-RbZoge3Z.js";import"./precisionRound-CRsIqO1V.js";const Ta=Lt({name:"LeftDataPanel",props:{title:String},data:()=>({isHidden:!1,isLeaving:!1}),methods:{toggleHidePanel(){this.isHidden?this.isHidden=!this.isHidden:(this.isLeaving=!0,setTimeout(()=>{this.isHidden=!0,this.isLeaving=!1},300))}}});var Oa=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{attrs:{id:"datapanel"}},[u("div",{staticClass:"content-area",class:{"is-hidden":o.isHidden,bye:o.isLeaving}},[o.title?u("div",{staticClass:"info-header"},[u("h3",{staticStyle:{padding:"0.5rem 3rem","font-size":"1rem","font-weight":"normal",color:"white"}},[o._v(o._s(o.title))])]):o._e(),u("div",{staticClass:"top-area"},[o._t("default")],2)]),u("div",{staticClass:"restore-button",class:{"add-margin":!o.isHidden}},[u("button",{staticClass:"button is-small hide-button",on:{click:o.toggleHidePanel}},[o.isHidden?o._e():u("i",{staticClass:"fa fa-arrow-left"}),o.isHidden?u("i",{staticClass:"fa fa-arrow-right"}):o._e()])])])},$a=[],Da=Tt(Ta,Oa,$a,!1,null,"51117d95");const Pa=Da.exports;function Ia(l){return new Worker("/simwrapper/assets/TransitSupplyHelper.worker-D8crPrmD.js",{name:l?.name})}const dr="/simwrapper/",Ra=Lt({name:"TransitDeckComponent",props:{handleClickEvent:{type:Function,required:!0},isAtlantis:{type:Boolean,required:!0},links:{type:Object,required:!0},pieSlider:{type:Number,required:!0},selectedFeatures:{type:Array,required:!0},stopMarkers:{type:Array,required:!0},transitLines:{type:Object,required:!0},viewId:{type:Number,required:!0},vizDetails:{type:Object,required:!0},widthSlider:{type:Number,required:!0},bgLayers:{type:Object},show3dBuildings:{type:Boolean,required:!1,default:!1}},data(){return{mymap:null,deckOverlay:null,globalState:ut.state,tooltipHTML:"",tooltipStyle:{position:"absolute",padding:"4px 8px",display:"block",top:0,left:0,color:ut.state.isDarkMode?"#ccc":"#223",backgroundColor:ut.state.isDarkMode?"#2a3c4f":"white",zIndex:2e4}}},watch:{layers(){this.deckOverlay?.setProps({layers:this.layers})},"globalState.isDarkMode"(){let l;this.isAtlantis?l={version:8,sources:{},layers:[]}:l=`${dr}map-styles/${this.globalState.isDarkMode?"dark":"positron"}.json`,this.mymap?.setStyle(l)},show3dBuildings(){!this.mymap||!this.hasBackgroundMap||(this.show3dBuildings?cr(this.mymap):ka(this.mymap))},"globalState.viewState"(){const l=this.globalState.viewState,o=this.mymap?.getCenter();(l.longitude!==o.lng||l.latitude!==o.lat||l.zoom!==this.mymap?.getZoom()||l.pitch!==this.mymap?.getPitch()||l.bearing!==this.mymap?.getBearing())&&(console.log(l.zoom,l.longitude,l.latitude,l.center),this.mymap?.jumpTo(Object.assign({center:{lng:l.longitude,lat:l.latitude}},l)))}},computed:{dark(){return this.globalState.isDarkMode},locale(){return this.globalState.locale},hasBackgroundMap(){return!this.isAtlantis},power(){return 1-(100-this.widthSlider)/100},scale(){return 1},data(){return this.links.features.map(o=>({source:[...o.geometry.coordinates[0],o.properties.sort],target:[...o.geometry.coordinates[1],o.properties.sort],color:o.properties.currentColor,width:Math.pow(o.properties.width,this.power)}))},slices(){if(!this.vizDetails?.demand)return[];if(!this.stopMarkers.length||this.stopMarkers[0].boardings==null)return[];if(this.stopMarkers.length>1e4)return[];const l=this.stopMarkers.map(u=>{let h=0,c=0;const L=u.ptLines;return L&&Object.values(L).forEach(w=>{this.transitLines[w.name]&&(h+=w.b,c+=w.a)}),{center:u.xy,radius:2e-5*this.pieSlider*Math.sqrt(h+c),slices:[{label:"boardings",color:"gold",value:h},{label:"alightings",color:"darkmagenta",value:c}]}});return this.calculatePieSlicePaths(l)},layers(){const l=[],o=this.bgLayers?.layers();return o&&l.push(...o.layersBelow),l.push(new ba({id:"linkLayer",data:this.data,getSourcePosition:u=>u.source,getTargetPosition:u=>u.target,getColor:u=>u.color,getWidth:u=>u.width,widthUnits:"pixels",widthScale:this.scale,widthMinPixels:1,coordinateSystem:ur.DEFAULT,widthMaxPixels:100,pickable:!0,opacity:1,antialiasing:!0,autoHighlight:!1,offsetDirection:lr.RIGHT,parameters:{depthTest:!0},transitions:{getColor:200,getWidth:200}})),this.selectedFeatures.length&&l.push(new Ca({id:"selected-links",data:this.selectedFeatures,getLineColor:this.colorToRGB(this.dark?"#fbff66":"#ccff66"),getLineWidth:1,lineWidthUnits:"pixels",stroked:!0,filled:!1,pickable:!1,opacity:1,coordinateSystem:ur.DEFAULT,autoHighlight:!1,offsetDirection:lr.RIGHT,parameters:{depthTest:!0}})),l.push(new wa({id:`stop-pie-charts-layer-${this.pieSlider}-${this.stopMarkers.length}`,data:this.slices,getPolygon:u=>u.polygon,getFillColor:u=>u.color,stroked:!1,filled:!0,pickable:!0,extruded:!1,opacity:1,sizeScale:1,autoHighlight:!1,parameters:{depthTest:!0}})),o&&l.push(...o.layersOnTop),l}},mounted(){let l;this.isAtlantis?l={version:8,sources:{},layers:[]}:l=`${dr}map-styles/${this.globalState.isDarkMode?"dark":"positron"}.json`;const o=`map-${this.viewId}`,u=this.globalState.viewState.center,h=this.globalState.viewState.zoom||8;this.mymap=new na.Map({container:o,style:l,center:u,zoom:h}),this.mymap.on("move",this.handleMove),this.mymap.on("style.load",()=>{this.hasBackgroundMap&&this.show3dBuildings&&this.mymap&&cr(this.mymap),this.deckOverlay=new Sa({interleaved:!1,useDevicePixels:!0,layers:this.layers,pickingRadius:2,onClick:this.handleClick,onHover:this.getTooltip,getCursor:c=>c.isHovering?"pointer":"grab"}),this.mymap?.addControl(this.deckOverlay)})},beforeDestroy(){this.deckOverlay&&this.mymap?.removeControl(this.deckOverlay),this.mymap?.remove()},methods:{calculatePieSlicePaths(l,o){const u=[],h=o||.05;for(const L of l){const{center:w,radius:C,slices:T}=L,j=C*h;let P=Math.PI/2,A=P;const te=48,oe=Math.cos(w[1]*Math.PI/180),Me=T.reduce((F,ce)=>F+ce.value,0);T.forEach(F=>{F.percent=F.value/Me});const fe=T.reduce((F,ce)=>(F[ce.label]=ce.value,F),{}),se=[],et=j*1.02;for(let F=0;F<=te*2;F++)A=P+F/(te*2)*Math.PI*2,se.push([w[0]+et*Math.cos(A)/oe,w[1]+et*Math.sin(A)]);const Ce=ut.state.isDarkMode;u.push([{polygon:se,color:this.colorToRGB(Ce?"black":"white"),width:j+1e-5,values:fe}]);const Ot=T.map(F=>{const ce=[w];for(let ve=0;ve<=te;ve++){const ft=F.percent||0;A=P+ve/te*ft*Math.PI*2,ce.push([w[0]+j*Math.cos(A)/oe,w[1]+j*Math.sin(A)])}ce.push(w),P=A;const dt=Array.isArray(F.color)?F.color:this.colorToRGB(F.color);return{polygon:ce,color:dt,width:j,values:fe}});u.push(Ot)}const c=u.flat();return c.sort((L,w)=>L.width<=w.width?1:-1),c},colorToRGB(l){try{const o=gr(l);return o?[o.r,o.g,o.b]:[0,0,0]}catch{return[0,0,0]}},handleMove(){const l=this.mymap?.getCenter(),o={latitude:l.lat,longitude:l.lng,zoom:this.mymap?.getZoom(),bearing:this.mymap?.getBearing(),pitch:this.mymap?.getPitch(),jump:!0};ut.commit("setMapCamera",o)},getTooltip(l){if(l.index==-1){this.tooltipHTML="";return}const{x:o,y:u,index:h,object:c,layer:L}=l;if(h==-1||!c)return;if(L.id.startsWith("stop-pie-charts-layer")){let C='<div class="map-popup">';const{boardings:T,alightings:j}=c.values;c.values.total=T+j;for(const[P,A]of Object.entries(c.values))C+=`
        <div style="display: flex">
          <div>${P}:&nbsp;&nbsp;</div>
          <b style="margin-left: auto; text-align: right">${A}</b>
        </div>`;C+="</div>",this.tooltipHTML=C,this.tooltipStyle={top:u+"px",left:o+"px"}}const w=[{field:"pax",name_en:"Passengers",name_de:"Passagiere"},{field:"departures",name_en:"Departures",name_de:"Abfahrten"},{field:"cap",name_en:"Capacity",name_de:"Kapazität"},{field:"loadfac",name_en:"Load factor",name_de:"Load factor"}];try{let C='<div class="map-popup">';const T=this.links.features[h].properties;if(T.sort==0)return null;for(const j of w){let P=this.locale=="de"?j.name_de:j.name_en;P=P.replaceAll(" ","&nbsp;"),Number.isFinite(T[j.field])&&(C+=`
            <div style="display: flex">
              <div>${P}:&nbsp;&nbsp;</div>
              <b style="margin-left: auto; text-align: right">${T[j.field]}</b>
            </div>`)}C+="</div>",this.tooltipHTML=C,this.tooltipStyle={top:u+"px",left:o+"px"}}catch{return this.tooltipHTML="",null}},handleClick(l){console.log("click!"),this.handleClickEvent&&this.handleClickEvent(l)}}});var Ea=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"deck-map flex-col"},[u("div",{staticClass:"map-container",attrs:{id:`map-${o.viewId}`}}),o.tooltipHTML?u("div",{staticClass:"deck-tooltip",style:o.tooltipStyle,domProps:{innerHTML:o._s(o.tooltipHTML)}}):o._e()])},Ma=[],Aa=Tt(Ra,Ea,Ma,!1,null,null);const za=Aa.exports,ja=Lt({name:"LegendBox",props:{rows:{type:Array,required:!0}},methods:{handleClick(l){this.$emit("item-clicked",l)}}});var Fa=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"legend-container"},[u("p",{staticClass:"control-label"},[o._v("Legend")]),o._l(o.rows,function(h){return u("div",{key:h[0],staticClass:"legend-item",on:{click:function(c){return o.handleClick(h)}}},[u("div",{staticClass:"legend-col-1",style:{"background-color":h[0]}}),u("span",{staticClass:"legend-col-2"},[o._v(o._s(h[1]))])])})],2)},Na=[],Ba=Tt(ja,Fa,Na,!1,null,"fbd46ee2");const Ha=Ba.exports,qa=Lt({name:"RouteDropdown",components:{},props:{source:{type:Object,required:!0},index:{type:Number,required:!0},selectedRoutes:{type:Array,required:!0},searchTerm:{type:String,required:!0},activeTransitLines:{type:Object,required:!0},color:String,cbToggleLineOpen:{type:Function,required:!0},cbToggleLineChecked:{type:Function,required:!0},cbToggleRouteChecked:{type:Function,required:!0}},data(){return{lineCheck:0,isChecked:!1,isOpen:!1,isPartial:!1,checkStates:{},stats:{departures:0,pax:0,loadfac:0}}},mounted(){this.isPartial=!1,this.isChecked=this.line.checked,this.isOpen=this.line.isOpen,this.selectedRoutes.forEach(l=>this.checkStates[l]=!0);for(const l of this.line.transitRoutes)l.departures&&(this.stats.departures+=l.departures),l.pax&&(this.stats.pax+=l.pax),l.loadfac&&(this.stats.loadfac+=l.loadfac);this.stats.loadfac=.001*Math.round(1e3*this.stats.loadfac),this.setRouteCheckmarks()},computed:{lineCheckActive(){return this.lineCheck!==0},line(){return this.source}},watch:{activeTransitLines(){this.line.id in this.activeTransitLines&&(this.stats=this.activeTransitLines[this.line.id].stats)},selectedRoutes(){this.setRouteCheckmarks(),this.selectedRoutes.length||(this.isChecked=!1)}},methods:{setRouteCheckmarks(){let l=0;this.isPartial=!1,this.checkStates={},this.line.transitRoutes.forEach(o=>{this.selectedRoutes.indexOf(o.id)>-1&&(this.checkStates[o.id]=!0,l++)}),this.lineCheck=0,l&&l==this.line.transitRoutes.length&&(this.isChecked=!0,this.lineCheck=2),l&&l<this.line.transitRoutes.length&&(this.lineCheck=1,this.isPartial=!0)},toggleCheck(){this.isChecked=!this.isChecked,this.cbToggleLineChecked({offset:this.line.offset,isChecked:this.isChecked})},toggleOpen(){this.isOpen=!this.isOpen,this.setRouteCheckmarks(),this.cbToggleLineOpen({offset:this.line.offset,isOpen:this.isOpen})},toggleRoute(l){this.cbToggleRouteChecked({route:l,offset:this.line.offset,isChecked:this.checkStates[l]})}}});var Ua=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"route-dropdown flex-col",class:{"is-open":o.isOpen}},[u("div",{staticClass:"title-panel flex-row"},[u("div",{staticClass:"leftside flex-row flex1",on:{click:function(h){return h.preventDefault(),o.toggleCheck.apply(null,arguments)}}},[u("div",{staticClass:"mode-color-strip"}),u("b-checkbox",{staticClass:"fade",class:{faded:o.isPartial},attrs:{size:"is-small"},model:{value:o.lineCheckActive,callback:function(h){o.lineCheckActive=h},expression:"lineCheckActive"}}),u("div",{staticClass:"text-area flex-col"},[o.line.name?u("div",{staticClass:"line-title flex-row"},[o._v(o._s(o.line.name)),u("div",{staticClass:"span",staticStyle:{"font-weight":"normal"}},[o._v("  /  "+o._s(o.line.id))])]):u("div",{staticClass:"line-title"},[o._v(o._s(o.line.id))]),u("div",{staticClass:"metrics flex-row"},[u("div",{staticClass:"stat"},[o._v(o._s(o.stats.departures)+" deps")]),o.stats.pax?u("div",{staticClass:"stat"},[o._v(o._s(o.stats.pax)+" pax")]):o._e(),o.stats.loadfac?u("div",{staticClass:"stat"},[o._v(o._s(o.stats.loadfac.toFixed(3))+" Lfac")]):o._e()])])],1),u("div",{staticClass:"rightside flex-row"},[u("a",{staticClass:"card-header-icon",on:{click:o.toggleOpen}},[u("b-icon",{staticClass:"icon-reveal",attrs:{size:"is-small",icon:o.isOpen?"menu-down":"menu-up"}})],1)])]),o.isOpen?u("div",{staticClass:"card-details flex-col"},o._l(this.line.transitRoutes,function(h){return u("div",{key:h.id,staticClass:"route flex-row"},[u("div",{staticClass:"stuff flex-col"},[u("b-checkbox",{staticClass:"route-checkbox",attrs:{size:"is-small"},on:{input:function(c){return o.toggleRoute(h.id)}},model:{value:o.checkStates[h.id],callback:function(c){o.$set(o.checkStates,h.id,c)},expression:"checkStates[route.id]"}},[u("div",{staticClass:"route-title"},[o._v(o._s(h.id))])]),u("div",{staticClass:"service-period"},[o._v(o._s(h.firstDeparture)+" — "+o._s(h.lastDeparture))]),u("div",{staticClass:"detail flex-row"},[u("div",{staticClass:"deps"},[o._v("Deps: "+o._s(h.departures))]),h.pax?u("div",{staticClass:"deps clink"},[o._v("Pax: "+o._s(h.pax))]):o._e(),h.pax?u("div",{staticClass:"deps clink"},[o._v("Lfac: "+o._s(h.loadfac.toFixed(3)))]):o._e(),h.cap?u("div",{staticClass:"deps clink"},[o._v("Cap: "+o._s(h.cap))]):o._e()])],1)])}),0):o._e()])},Wa=[],Va=Tt(qa,Ua,Wa,!1,null,"dea5530d");const gs=Va.exports;var ms={exports:{}},hn={exports:{}},pn={exports:{}},fr;function Xa(){if(fr)return pn.exports;fr=1;var l={};/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 *//*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */const o=Object.freeze({}),u=Array.isArray;function h(e){return e==null}function c(e){return e!=null}function L(e){return e===!0}function w(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function C(e){return typeof e=="function"}function T(e){return e!==null&&typeof e=="object"}const j=Object.prototype.toString;function P(e){return j.call(e)==="[object Object]"}function A(e){const t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function te(e){return c(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function oe(e){return e==null?"":Array.isArray(e)||P(e)&&e.toString===j?JSON.stringify(e,Me,2):String(e)}function Me(e,t){return t&&t.__v_isRef?t.value:t}function fe(e){const t=parseFloat(e);return isNaN(t)?e:t}function se(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>s[i.toLowerCase()]:i=>s[i]}const et=se("key,ref,slot,slot-scope,is");function Ce(e,t){const s=e.length;if(s){if(t===e[s-1])return void(e.length=s-1);const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}const Ot=Object.prototype.hasOwnProperty;function F(e,t){return Ot.call(e,t)}function ce(e){const t=Object.create(null);return function(s){return t[s]||(t[s]=e(s))}}const dt=/-(\w)/g,ve=ce((e=>e.replace(dt,((t,s)=>s?s.toUpperCase():"")))),ft=ce((e=>e.charAt(0).toUpperCase()+e.slice(1))),tt=/\B([A-Z])/g,De=ce((e=>e.replace(tt,"-$1").toLowerCase())),Bt=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function s(n){const i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return s._length=e.length,s};function x(e,t){t=t||0;let s=e.length-t;const n=new Array(s);for(;s--;)n[s]=e[s+t];return n}function p(e,t){for(const s in t)e[s]=t[s];return e}function v(e){const t={};for(let s=0;s<e.length;s++)e[s]&&p(t,e[s]);return t}function k(e,t,s){}const M=(e,t,s)=>!1,J=e=>e;function Q(e,t){if(e===t)return!0;const s=T(e),n=T(t);if(!s||!n)return!s&&!n&&String(e)===String(t);try{const i=Array.isArray(e),r=Array.isArray(t);if(i&&r)return e.length===t.length&&e.every(((a,d)=>Q(a,t[d])));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||r)return!1;{const a=Object.keys(e),d=Object.keys(t);return a.length===d.length&&a.every((f=>Q(e[f],t[f])))}}catch{return!1}}function _e(e,t){for(let s=0;s<e.length;s++)if(Q(e[s],t))return s;return-1}function be(e){let t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function Ae(e,t){return e===t?e===0&&1/e!=1/t:e==e||t==t}const Ue="data-server-rendered",Te=["component","directive","filter"],ze=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"];var Oe={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:k,parsePlatformTagName:J,mustUseProp:M,async:!0,_lifecycleHooks:ze};function ht(e){const t=(e+"").charCodeAt(0);return t===36||t===95}function Z(e,t,s,n){Object.defineProperty(e,t,{value:s,enumerable:!1,writable:!0,configurable:!0})}const Pe=new RegExp(`[^${/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source}.$_\\d]`),We="__proto__"in{},ae=typeof window<"u",ge=ae&&window.navigator.userAgent.toLowerCase(),je=ge&&/msie|trident/.test(ge),Ve=ge&&ge.indexOf("msie 9.0")>0,mn=ge&&ge.indexOf("edge/")>0;ge&&ge.indexOf("android");const yr=ge&&/iphone|ipad|ipod|ios/.test(ge),gn=ge&&ge.match(/firefox\/(\d+)/),ys={}.watch;let vs,yn=!1;if(ae)try{const e={};Object.defineProperty(e,"passive",{get(){yn=!0}}),window.addEventListener("test-passive",null,e)}catch{}const Xe=()=>(vs===void 0&&(vs=!ae&&typeof rr<"u"&&rr.process&&l.VUE_ENV==="server"),vs);function pt(e){return typeof e=="function"&&/native code/.test(e.toString())}const $t=typeof Symbol<"u"&&pt(Symbol)&&typeof Reflect<"u"&&pt(Reflect.ownKeys);let Ht;Ht=typeof Set<"u"&&pt(Set)?Set:class{constructor(){this.set=Object.create(null)}has(e){return this.set[e]===!0}add(e){this.set[e]=!0}clear(){this.set=Object.create(null)}};let ee=null;function Ke(e=null){e||ee&&ee._scope.off(),ee=e,e&&e._scope.on()}class we{constructor(t,s,n,i,r,a,d,f){this.tag=t,this.data=s,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=s&&s.key,this.componentOptions=d,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=f,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}get child(){return this.componentInstance}}const st=(e="")=>{const t=new we;return t.text=e,t.isComment=!0,t};function mt(e){return new we(void 0,void 0,void 0,String(e))}function _s(e){const t=new we(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}let vr=0;const qt=[],_r=()=>{for(let e=0;e<qt.length;e++){const t=qt[e];t.subs=t.subs.filter((s=>s)),t._pending=!1}qt.length=0};class ke{constructor(){this._pending=!1,this.id=vr++,this.subs=[]}addSub(t){this.subs.push(t)}removeSub(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,qt.push(this))}depend(t){ke.target&&ke.target.addDep(this)}notify(t){const s=this.subs.filter((n=>n));for(let n=0,i=s.length;n<i;n++)s[n].update()}}ke.target=null;const Ut=[];function gt(e){Ut.push(e),ke.target=e}function yt(){Ut.pop(),ke.target=Ut[Ut.length-1]}const vn=Array.prototype,Wt=Object.create(vn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){const t=vn[e];Z(Wt,e,(function(...s){const n=t.apply(this,s),i=this.__ob__;let r;switch(e){case"push":case"unshift":r=s;break;case"splice":r=s.slice(2)}return r&&i.observeArray(r),i.dep.notify(),n}))}));const _n=Object.getOwnPropertyNames(Wt),bn={};let bs=!0;function Ye(e){bs=e}const br={notify:k,depend:k,addSub:k,removeSub:k};class kn{constructor(t,s=!1,n=!1){if(this.value=t,this.shallow=s,this.mock=n,this.dep=n?br:new ke,this.vmCount=0,Z(t,"__ob__",this),u(t)){if(!n)if(We)t.__proto__=Wt;else for(let i=0,r=_n.length;i<r;i++){const a=_n[i];Z(t,a,Wt[a])}s||this.observeArray(t)}else{const i=Object.keys(t);for(let r=0;r<i.length;r++)Ge(t,i[r],bn,void 0,s,n)}}observeArray(t){for(let s=0,n=t.length;s<n;s++)Fe(t[s],!1,this.mock)}}function Fe(e,t,s){return e&&F(e,"__ob__")&&e.__ob__ instanceof kn?e.__ob__:!bs||!s&&Xe()||!u(e)&&!P(e)||!Object.isExtensible(e)||e.__v_skip||he(e)||e instanceof we?void 0:new kn(e,t,s)}function Ge(e,t,s,n,i,r,a=!1){const d=new ke,f=Object.getOwnPropertyDescriptor(e,t);if(f&&f.configurable===!1)return;const m=f&&f.get,g=f&&f.set;m&&!g||s!==bn&&arguments.length!==2||(s=e[t]);let S=i?s&&s.__ob__:Fe(s,!1,r);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){const b=m?m.call(e):s;return ke.target&&(d.depend(),S&&(S.dep.depend(),u(b)&&Sn(b))),he(b)&&!i?b.value:b},set:function(b){const O=m?m.call(e):s;if(Ae(O,b)){if(g)g.call(e,b);else{if(m)return;if(!i&&he(O)&&!he(b))return void(O.value=b);s=b}S=i?b&&b.__ob__:Fe(b,!1,r),d.notify()}}}),d}function Vt(e,t,s){if(it(e))return;const n=e.__ob__;return u(e)&&A(t)?(e.length=Math.max(e.length,t),e.splice(t,1,s),n&&!n.shallow&&n.mock&&Fe(s,!1,!0),s):t in e&&!(t in Object.prototype)?(e[t]=s,s):e._isVue||n&&n.vmCount?s:n?(Ge(n.value,t,s,void 0,n.shallow,n.mock),n.dep.notify(),s):(e[t]=s,s)}function ks(e,t){if(u(e)&&A(t))return void e.splice(t,1);const s=e.__ob__;e._isVue||s&&s.vmCount||it(e)||F(e,t)&&(delete e[t],s&&s.dep.notify())}function Sn(e){for(let t,s=0,n=e.length;s<n;s++)t=e[s],t&&t.__ob__&&t.__ob__.dep.depend(),u(t)&&Sn(t)}function Ss(e){return Cn(e,!0),Z(e,"__v_isShallow",!0),e}function Cn(e,t){it(e)||Fe(e,t,Xe())}function nt(e){return it(e)?nt(e.__v_raw):!(!e||!e.__ob__)}function Xt(e){return!(!e||!e.__v_isShallow)}function it(e){return!(!e||!e.__v_isReadonly)}const Dt="__v_isRef";function he(e){return!(!e||e.__v_isRef!==!0)}function wn(e,t){if(he(e))return e;const s={};return Z(s,Dt,!0),Z(s,"__v_isShallow",t),Z(s,"dep",Ge(s,"value",e,null,t,Xe())),s}function Kt(e,t,s){Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>{const n=t[s];if(he(n))return n.value;{const i=n&&n.__ob__;return i&&i.dep.depend(),n}},set:n=>{const i=t[s];he(i)&&!he(n)?i.value=n:t[s]=n}})}function xn(e,t,s){const n=e[t];if(he(n))return n;const i={get value(){const r=e[t];return r===void 0?s:r},set value(r){e[t]=r}};return Z(i,Dt,!0),i}const kr="__v_rawToReadonly",Sr="__v_rawToShallowReadonly";function Ln(e){return Tn(e,!1)}function Tn(e,t){if(!P(e)||it(e))return e;const s=t?Sr:kr,n=e[s];if(n)return n;const i=Object.create(Object.getPrototypeOf(e));Z(e,s,i),Z(i,"__v_isReadonly",!0),Z(i,"__v_raw",e),he(e)&&Z(i,Dt,!0),(t||Xt(e))&&Z(i,"__v_isShallow",!0);const r=Object.keys(e);for(let a=0;a<r.length;a++)Cr(i,e,r[a],t);return i}function Cr(e,t,s,n){Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get(){const i=t[s];return n||!P(i)?i:Ln(i)},set(){}})}const Yt="watcher",On=`${Yt} callback`,$n=`${Yt} getter`,wr=`${Yt} cleanup`;function Dn(e,t){return Gt(e,null,{flush:"post"})}const Pn={};function Gt(e,t,{immediate:s,deep:n,flush:i="pre",onTrack:r,onTrigger:a}=o){const d=ee,f=(I,z,B=null)=>{const W=Ne(I,null,B,d,z);return n&&W&&W.__ob__&&W.__ob__.dep.depend(),W};let m,g,S=!1,b=!1;if(he(e)?(m=()=>e.value,S=Xt(e)):nt(e)?(m=()=>(e.__ob__.dep.depend(),e),n=!0):u(e)?(b=!0,S=e.some((I=>nt(I)||Xt(I))),m=()=>e.map((I=>he(I)?I.value:nt(I)?(I.__ob__.dep.depend(),vt(I)):C(I)?f(I,$n):void 0))):m=C(e)?t?()=>f(e,$n):()=>{if(!d||!d._isDestroyed)return g&&g(),f(e,Yt,[O])}:k,t&&n){const I=m;m=()=>vt(I())}let O=I=>{g=$.onStop=()=>{f(I,wr)}};if(Xe())return O=k,t?s&&f(t,On,[m(),b?[]:void 0,O]):m(),k;const $=new At(ee,m,k,{lazy:!0});$.noRecurse=!t;let R=b?[]:Pn;return $.run=()=>{if($.active)if(t){const I=$.get();(n||S||(b?I.some(((z,B)=>Ae(z,R[B]))):Ae(I,R)))&&(g&&g(),f(t,On,[I,R===Pn?void 0:R,O]),R=I)}else $.get()},i==="sync"?$.update=$.run:i==="post"?($.post=!0,$.update=()=>zs($)):$.update=()=>{if(d&&d===ee&&!d._isMounted){const I=d._preWatchers||(d._preWatchers=[]);I.indexOf($)<0&&I.push($)}else zs($)},t?s?$.run():R=$.get():i==="post"&&d?d.$once("hook:mounted",(()=>$.get())):$.get(),()=>{$.teardown()}}let pe;class Cs{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=pe,!t&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}run(t){if(this.active){const s=pe;try{return pe=this,t()}finally{pe=s}}}on(){pe=this}off(){pe=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].teardown();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function In(){return pe}function Rn(e){const t=e._provided,s=e.$parent&&e.$parent._provided;return s===t?e._provided=Object.create(s):t}const En=ce((e=>{const t=e.charAt(0)==="&",s=(e=t?e.slice(1):e).charAt(0)==="~",n=(e=s?e.slice(1):e).charAt(0)==="!";return{name:e=n?e.slice(1):e,once:s,capture:n,passive:t}}));function ws(e,t){function s(){const n=s.fns;if(!u(n))return Ne(n,null,arguments,t,"v-on handler");{const i=n.slice();for(let r=0;r<i.length;r++)Ne(i[r],null,arguments,t,"v-on handler")}}return s.fns=e,s}function Mn(e,t,s,n,i,r){let a,d,f,m;for(a in e)d=e[a],f=t[a],m=En(a),h(d)||(h(f)?(h(d.fns)&&(d=e[a]=ws(d,r)),L(m.once)&&(d=e[a]=i(m.name,d,m.capture)),s(m.name,d,m.capture,m.passive,m.params)):d!==f&&(f.fns=d,e[a]=f));for(a in t)h(e[a])&&(m=En(a),n(m.name,t[a],m.capture))}function Ze(e,t,s){let n;e instanceof we&&(e=e.data.hook||(e.data.hook={}));const i=e[t];function r(){s.apply(this,arguments),Ce(n.fns,r)}h(i)?n=ws([r]):c(i.fns)&&L(i.merged)?(n=i,n.fns.push(r)):n=ws([i,r]),n.merged=!0,e[t]=n}function An(e,t,s,n,i){if(c(t)){if(F(t,s))return e[s]=t[s],i||delete t[s],!0;if(F(t,n))return e[s]=t[n],i||delete t[n],!0}return!1}function xs(e){return w(e)?[mt(e)]:u(e)?zn(e):void 0}function Pt(e){return c(e)&&c(e.text)&&e.isComment===!1}function zn(e,t){const s=[];let n,i,r,a;for(n=0;n<e.length;n++)i=e[n],h(i)||typeof i=="boolean"||(r=s.length-1,a=s[r],u(i)?i.length>0&&(i=zn(i,`${t||""}_${n}`),Pt(i[0])&&Pt(a)&&(s[r]=mt(a.text+i[0].text),i.shift()),s.push.apply(s,i)):w(i)?Pt(a)?s[r]=mt(a.text+i):i!==""&&s.push(mt(i)):Pt(i)&&Pt(a)?s[r]=mt(a.text+i.text):(L(e._isVList)&&c(i.tag)&&h(i.key)&&c(t)&&(i.key=`__vlist${t}_${n}__`),s.push(i)));return s}function xr(e,t){let s,n,i,r,a=null;if(u(e)||typeof e=="string")for(a=new Array(e.length),s=0,n=e.length;s<n;s++)a[s]=t(e[s],s);else if(typeof e=="number")for(a=new Array(e),s=0;s<e;s++)a[s]=t(s+1,s);else if(T(e))if($t&&e[Symbol.iterator]){a=[];const d=e[Symbol.iterator]();let f=d.next();for(;!f.done;)a.push(t(f.value,a.length)),f=d.next()}else for(i=Object.keys(e),a=new Array(i.length),s=0,n=i.length;s<n;s++)r=i[s],a[s]=t(e[r],r,s);return c(a)||(a=[]),a._isVList=!0,a}function Lr(e,t,s,n){const i=this.$scopedSlots[e];let r;i?(s=s||{},n&&(s=p(p({},n),s)),r=i(s)||(C(t)?t():t)):r=this.$slots[e]||(C(t)?t():t);const a=s&&s.slot;return a?this.$createElement("template",{slot:a},r):r}function Tr(e){return rs(this.$options,"filters",e)||J}function jn(e,t){return u(e)?e.indexOf(t)===-1:e!==t}function Or(e,t,s,n,i){const r=Oe.keyCodes[t]||s;return i&&n&&!Oe.keyCodes[t]?jn(i,n):r?jn(r,e):n?De(n)!==t:e===void 0}function $r(e,t,s,n,i){if(s&&T(s)){let r;u(s)&&(s=v(s));for(const a in s){if(a==="class"||a==="style"||et(a))r=e;else{const m=e.attrs&&e.attrs.type;r=n||Oe.mustUseProp(t,m,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}const d=ve(a),f=De(a);!(d in r)&&!(f in r)&&(r[a]=s[a],i)&&((e.on||(e.on={}))[`update:${a}`]=function(m){s[a]=m})}}return e}function Dr(e,t){const s=this._staticTrees||(this._staticTrees=[]);let n=s[e];return n&&!t||(n=s[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),Fn(n,`__static__${e}`,!1)),n}function Pr(e,t,s){return Fn(e,`__once__${t}${s?`_${s}`:""}`,!0),e}function Fn(e,t,s){if(u(e))for(let n=0;n<e.length;n++)e[n]&&typeof e[n]!="string"&&Nn(e[n],`${t}_${n}`,s);else Nn(e,t,s)}function Nn(e,t,s){e.isStatic=!0,e.key=t,e.isOnce=s}function Ir(e,t){if(t&&P(t)){const s=e.on=e.on?p({},e.on):{};for(const n in t){const i=s[n],r=t[n];s[n]=i?[].concat(i,r):r}}return e}function Bn(e,t,s,n){t=t||{$stable:!s};for(let i=0;i<e.length;i++){const r=e[i];u(r)?Bn(r,t,s):r&&(r.proxy&&(r.fn.proxy=!0),t[r.key]=r.fn)}return n&&(t.$key=n),t}function Rr(e,t){for(let s=0;s<t.length;s+=2){const n=t[s];typeof n=="string"&&n&&(e[t[s]]=t[s+1])}return e}function Er(e,t){return typeof e=="string"?t+e:e}function Hn(e){e._o=Pr,e._n=fe,e._s=oe,e._l=xr,e._t=Lr,e._q=Q,e._i=_e,e._m=Dr,e._f=Tr,e._k=Or,e._b=$r,e._v=mt,e._e=st,e._u=Bn,e._g=Ir,e._d=Rr,e._p=Er}function Ls(e,t){if(!e||!e.length)return{};const s={};for(let n=0,i=e.length;n<i;n++){const r=e[n],a=r.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,r.context!==t&&r.fnContext!==t||!a||a.slot==null)(s.default||(s.default=[])).push(r);else{const d=a.slot,f=s[d]||(s[d]=[]);r.tag==="template"?f.push.apply(f,r.children||[]):f.push(r)}}for(const n in s)s[n].every(Mr)&&delete s[n];return s}function Mr(e){return e.isComment&&!e.asyncFactory||e.text===" "}function It(e){return e.isComment&&e.asyncFactory}function Rt(e,t,s,n){let i;const r=Object.keys(s).length>0,a=t?!!t.$stable:!r,d=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==o&&d===n.$key&&!r&&!n.$hasNormal)return n;i={};for(const f in t)t[f]&&f[0]!=="$"&&(i[f]=Ar(e,s,f,t[f]))}else i={};for(const f in s)f in i||(i[f]=zr(s,f));return t&&Object.isExtensible(t)&&(t._normalized=i),Z(i,"$stable",a),Z(i,"$key",d),Z(i,"$hasNormal",r),i}function Ar(e,t,s,n){const i=function(){const r=ee;Ke(e);let a=arguments.length?n.apply(null,arguments):n({});a=a&&typeof a=="object"&&!u(a)?[a]:xs(a);const d=a&&a[0];return Ke(r),a&&(!d||a.length===1&&d.isComment&&!It(d))?void 0:a};return n.proxy&&Object.defineProperty(t,s,{get:i,enumerable:!0,configurable:!0}),i}function zr(e,t){return()=>e[t]}function qn(e){return{get attrs(){if(!e._attrsProxy){const t=e._attrsProxy={};Z(t,"_v_attr_proxy",!0),Zt(t,e.$attrs,o,e,"$attrs")}return e._attrsProxy},get listeners(){return e._listenersProxy||Zt(e._listenersProxy={},e.$listeners,o,e,"$listeners"),e._listenersProxy},get slots(){return(function(t){return t._slotsProxy||Un(t._slotsProxy={},t.$scopedSlots),t._slotsProxy})(e)},emit:Bt(e.$emit,e),expose(t){t&&Object.keys(t).forEach((s=>Kt(e,t,s)))}}}function Zt(e,t,s,n,i){let r=!1;for(const a in t)a in e?t[a]!==s[a]&&(r=!0):(r=!0,jr(e,a,n,i));for(const a in e)a in t||(r=!0,delete e[a]);return r}function jr(e,t,s,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>s[n][t]})}function Un(e,t){for(const s in t)e[s]=t[s];for(const s in e)s in t||delete e[s]}function Ts(){const e=ee;return e._setupContext||(e._setupContext=qn(e))}let Jt=null;function Os(e,t){return(e.__esModule||$t&&e[Symbol.toStringTag]==="Module")&&(e=e.default),T(e)?t.extend(e):e}function Wn(e){if(u(e))for(let t=0;t<e.length;t++){const s=e[t];if(c(s)&&(c(s.componentOptions)||It(s)))return s}}const Fr=1,Vn=2;function Et(e,t,s,n,i,r){return(u(s)||w(s))&&(i=n,n=s,s=void 0),L(r)&&(i=Vn),(function(a,d,f,m,g){if(c(f)&&c(f.__ob__)||(c(f)&&c(f.is)&&(d=f.is),!d))return st();u(m)&&C(m[0])&&((f=f||{}).scopedSlots={default:m[0]},m.length=0),g===Vn?m=xs(m):g===Fr&&(m=(function(O){for(let $=0;$<O.length;$++)if(u(O[$]))return Array.prototype.concat.apply([],O);return O})(m));let S,b;if(typeof d=="string"){let O;b=a.$vnode&&a.$vnode.ns||Oe.getTagNamespace(d),S=f&&f.pre||!c(O=rs(a.$options,"components",d))?new we(d,f,m,void 0,void 0,a):oi(O,f,a,m,d)}else S=oi(d,f,a,m);return u(S)?S:c(S)?(c(b)&&Xn(S,b),c(f)&&(function(O){T(O.style)&&vt(O.style),T(O.class)&&vt(O.class)})(f),S):st()})(e,t,s,n,i)}function Xn(e,t,s){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,s=!0),c(e.children))for(let n=0,i=e.children.length;n<i;n++){const r=e.children[n];c(r.tag)&&(h(r.ns)||L(s)&&r.tag!=="svg")&&Xn(r,t,s)}}function rt(e,t,s){gt();try{if(t){let n=t;for(;n=n.$parent;){const i=n.$options.errorCaptured;if(i)for(let r=0;r<i.length;r++)try{if(i[r].call(n,e,t,s)===!1)return}catch(a){Kn(a,n,"errorCaptured hook")}}}Kn(e,t,s)}finally{yt()}}function Ne(e,t,s,n,i){let r;try{r=s?e.apply(t,s):e.call(t),r&&!r._isVue&&te(r)&&!r._handled&&(r.catch((a=>rt(a,n,i+" (Promise/async)"))),r._handled=!0)}catch(a){rt(a,n,i)}return r}function Kn(e,t,s){Nr(e)}function Nr(e,t,s){if(!ae||typeof console>"u")throw e;console.error(e)}let $s=!1;const Ds=[];let Qt,Ps=!1;function es(){Ps=!1;const e=Ds.slice(0);Ds.length=0;for(let t=0;t<e.length;t++)e[t]()}if(typeof Promise<"u"&&pt(Promise)){const e=Promise.resolve();Qt=()=>{e.then(es),yr&&setTimeout(k)},$s=!0}else if(je||typeof MutationObserver>"u"||!pt(MutationObserver)&&MutationObserver.toString()!=="[object MutationObserverConstructor]")Qt=typeof setImmediate<"u"&&pt(setImmediate)?()=>{setImmediate(es)}:()=>{setTimeout(es,0)};else{let e=1;const t=new MutationObserver(es),s=document.createTextNode(String(e));t.observe(s,{characterData:!0}),Qt=()=>{e=(e+1)%2,s.data=String(e)},$s=!0}function ts(e,t){let s;if(Ds.push((()=>{if(e)try{e.call(t)}catch(n){rt(n,t,"nextTick")}else s&&s(t)})),Ps||(Ps=!0,Qt()),!e&&typeof Promise<"u")return new Promise((n=>{s=n}))}function xe(e){return(t,s=ee)=>{if(s)return(function(n,i,r){const a=n.$options;a[i]=li(a[i],r)})(s,e,t)}}const Br=xe("beforeMount"),Hr=xe("mounted"),qr=xe("beforeUpdate"),Ur=xe("updated"),Wr=xe("beforeDestroy"),Vr=xe("destroyed"),Xr=xe("activated"),Kr=xe("deactivated"),Yr=xe("serverPrefetch"),Gr=xe("renderTracked"),Zr=xe("renderTriggered"),Jr=xe("errorCaptured"),Yn="2.7.16";var Qr=Object.freeze({__proto__:null,version:Yn,defineComponent:function(e){return e},ref:function(e){return wn(e,!1)},shallowRef:function(e){return wn(e,!0)},isRef:he,toRef:xn,toRefs:function(e){const t=u(e)?new Array(e.length):{};for(const s in e)t[s]=xn(e,s);return t},unref:function(e){return he(e)?e.value:e},proxyRefs:function(e){if(nt(e))return e;const t={},s=Object.keys(e);for(let n=0;n<s.length;n++)Kt(t,e,s[n]);return t},customRef:function(e){const t=new ke,{get:s,set:n}=e((()=>{t.depend()}),(()=>{t.notify()})),i={get value(){return s()},set value(r){n(r)}};return Z(i,Dt,!0),i},triggerRef:function(e){e.dep&&e.dep.notify()},reactive:function(e){return Cn(e,!1),e},isReactive:nt,isReadonly:it,isShallow:Xt,isProxy:function(e){return nt(e)||it(e)},shallowReactive:Ss,markRaw:function(e){return Object.isExtensible(e)&&Z(e,"__v_skip",!0),e},toRaw:function e(t){const s=t&&t.__v_raw;return s?e(s):t},readonly:Ln,shallowReadonly:function(e){return Tn(e,!0)},computed:function(e,t){let s,n;const i=C(e);i?(s=e,n=k):(s=e.get,n=e.set);const r=Xe()?null:new At(ee,s,k,{lazy:!0}),a={effect:r,get value(){return r?(r.dirty&&r.evaluate(),ke.target&&r.depend(),r.value):s()},set value(d){n(d)}};return Z(a,Dt,!0),Z(a,"__v_isReadonly",i),a},watch:function(e,t,s){return Gt(e,t,s)},watchEffect:function(e,t){return Gt(e,null,t)},watchPostEffect:Dn,watchSyncEffect:function(e,t){return Gt(e,null,{flush:"sync"})},EffectScope:Cs,effectScope:function(e){return new Cs(e)},onScopeDispose:function(e){pe&&pe.cleanups.push(e)},getCurrentScope:In,provide:function(e,t){ee&&(Rn(ee)[e]=t)},inject:function(e,t,s=!1){const n=ee;if(n){const i=n.$parent&&n.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return s&&C(t)?t.call(n):t}},h:function(e,t,s){return Et(ee,e,t,s,2,!0)},getCurrentInstance:function(){return ee&&{proxy:ee}},useSlots:function(){return Ts().slots},useAttrs:function(){return Ts().attrs},useListeners:function(){return Ts().listeners},mergeDefaults:function(e,t){const s=u(e)?e.reduce(((n,i)=>(n[i]={},n)),{}):e;for(const n in t){const i=s[n];i?u(i)||C(i)?s[n]={type:i,default:t[n]}:i.default=t[n]:i===null&&(s[n]={default:t[n]})}return s},nextTick:ts,set:Vt,del:ks,useCssModule:function(e="$style"){return ee&&ee[e]||o},useCssVars:function(e){if(!ae)return;const t=ee;t&&Dn((()=>{const s=t.$el,n=e(t,t._setupProxy);if(s&&s.nodeType===1){const i=s.style;for(const r in n)i.setProperty(`--${r}`,n[r])}}))},defineAsyncComponent:function(e){C(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:n,delay:i=200,timeout:r,suspensible:a=!1,onError:d}=e;let f=null,m=0;const g=()=>{let S;return f||(S=f=t().catch((b=>{if(b=b instanceof Error?b:new Error(String(b)),d)return new Promise(((O,$)=>{d(b,(()=>O((m++,f=null,g()))),(()=>$(b)),m+1)}));throw b})).then((b=>S!==f&&f?f:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),b))))};return()=>({component:g(),delay:i,timeout:r,error:n,loading:s})},onBeforeMount:Br,onMounted:Hr,onBeforeUpdate:qr,onUpdated:Ur,onBeforeUnmount:Wr,onUnmounted:Vr,onActivated:Xr,onDeactivated:Kr,onServerPrefetch:Yr,onRenderTracked:Gr,onRenderTriggered:Zr,onErrorCaptured:function(e,t=ee){Jr(e,t)}});const Gn=new Ht;function vt(e){return ss(e,Gn),Gn.clear(),e}function ss(e,t){let s,n;const i=u(e);if(!(!i&&!T(e)||e.__v_skip||Object.isFrozen(e)||e instanceof we)){if(e.__ob__){const r=e.__ob__.dep.id;if(t.has(r))return;t.add(r)}if(i)for(s=e.length;s--;)ss(e[s],t);else if(he(e))ss(e.value,t);else for(n=Object.keys(e),s=n.length;s--;)ss(e[n[s]],t)}}let Mt,eo=0;class At{constructor(t,s,n,i,r){(function(a,d=pe){d&&d.active&&d.effects.push(a)})(this,pe&&!pe._vm?pe:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++eo,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Ht,this.newDepIds=new Ht,this.expression="",C(s)?this.getter=s:(this.getter=(function(a){if(Pe.test(a))return;const d=a.split(".");return function(f){for(let m=0;m<d.length;m++){if(!f)return;f=f[d[m]]}return f}})(s),this.getter||(this.getter=k)),this.value=this.lazy?void 0:this.get()}get(){let t;gt(this);const s=this.vm;try{t=this.getter.call(s,s)}catch(n){if(!this.user)throw n;rt(n,s,`getter for watcher "${this.expression}"`)}finally{this.deep&&vt(t),yt(),this.cleanupDeps()}return t}addDep(t){const s=t.id;this.newDepIds.has(s)||(this.newDepIds.add(s),this.newDeps.push(t),this.depIds.has(s)||t.addSub(this))}cleanupDeps(){let t=this.deps.length;for(;t--;){const n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}let s=this.depIds;this.depIds=this.newDepIds,this.newDepIds=s,this.newDepIds.clear(),s=this.deps,this.deps=this.newDeps,this.newDeps=s,this.newDeps.length=0}update(){this.lazy?this.dirty=!0:this.sync?this.run():zs(this)}run(){if(this.active){const t=this.get();if(t!==this.value||T(t)||this.deep){const s=this.value;if(this.value=t,this.user){const n=`callback for watcher "${this.expression}"`;Ne(this.cb,this.vm,[t,s],this.vm,n)}else this.cb.call(this.vm,t,s)}}}evaluate(){this.value=this.get(),this.dirty=!1}depend(){let t=this.deps.length;for(;t--;)this.deps[t].depend()}teardown(){if(this.vm&&!this.vm._isBeingDestroyed&&Ce(this.vm._scope.effects,this),this.active){let t=this.deps.length;for(;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}}}function to(e,t){Mt.$on(e,t)}function so(e,t){Mt.$off(e,t)}function no(e,t){const s=Mt;return function n(){t.apply(null,arguments)!==null&&s.$off(e,n)}}function Zn(e,t,s){Mt=e,Mn(t,s||{},to,so,no,e),Mt=void 0}let ot=null;function Jn(e){const t=ot;return ot=e,()=>{ot=t}}function Qn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Is(e,t){if(t){if(e._directInactive=!1,Qn(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(let s=0;s<e.$children.length;s++)Is(e.$children[s]);$e(e,"activated")}}function ei(e,t){if(!(t&&(e._directInactive=!0,Qn(e))||e._inactive)){e._inactive=!0;for(let s=0;s<e.$children.length;s++)ei(e.$children[s]);$e(e,"deactivated")}}function $e(e,t,s,n=!0){gt();const i=ee,r=In();n&&Ke(e);const a=e.$options[t],d=`${t} hook`;if(a)for(let f=0,m=a.length;f<m;f++)Ne(a[f],e,null,e,d);e._hasHookEvent&&e.$emit("hook:"+t),n&&(Ke(i),r&&r.on()),yt()}const Be=[],Rs=[];let ns={},Es=!1,Ms=!1,_t=0,ti=0,As=Date.now;if(ae&&!je){const e=window.performance;e&&typeof e.now=="function"&&As()>document.createEvent("Event").timeStamp&&(As=()=>e.now())}const io=(e,t)=>{if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function ro(){let e,t;for(ti=As(),Ms=!0,Be.sort(io),_t=0;_t<Be.length;_t++)e=Be[_t],e.before&&e.before(),t=e.id,ns[t]=null,e.run();const s=Rs.slice(),n=Be.slice();_t=Be.length=Rs.length=0,ns={},Es=Ms=!1,(function(i){for(let r=0;r<i.length;r++)i[r]._inactive=!0,Is(i[r],!0)})(s),(function(i){let r=i.length;for(;r--;){const a=i[r],d=a.vm;d&&d._watcher===a&&d._isMounted&&!d._isDestroyed&&$e(d,"updated")}})(n),_r()}function zs(e){const t=e.id;if(ns[t]==null&&(e!==ke.target||!e.noRecurse)){if(ns[t]=!0,Ms){let s=Be.length-1;for(;s>_t&&Be[s].id>e.id;)s--;Be.splice(s+1,0,e)}else Be.push(e);Es||(Es=!0,ts(ro))}}function si(e,t){if(e){const s=Object.create(null),n=$t?Reflect.ownKeys(e):Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];if(r==="__ob__")continue;const a=e[r].from;if(a in t._provided)s[r]=t._provided[a];else if("default"in e[r]){const d=e[r].default;s[r]=C(d)?d.call(t):d}}return s}}function js(e,t,s,n,i){const r=i.options;let a;F(n,"_uid")?(a=Object.create(n),a._original=n):(a=n,n=n._original);const d=L(r._compiled),f=!d;this.data=e,this.props=t,this.children=s,this.parent=n,this.listeners=e.on||o,this.injections=si(r.inject,n),this.slots=()=>(this.$slots||Rt(n,e.scopedSlots,this.$slots=Ls(s,n)),this.$slots),Object.defineProperty(this,"scopedSlots",{enumerable:!0,get(){return Rt(n,e.scopedSlots,this.slots())}}),d&&(this.$options=r,this.$slots=this.slots(),this.$scopedSlots=Rt(n,e.scopedSlots,this.$slots)),r._scopeId?this._c=(m,g,S,b)=>{const O=Et(a,m,g,S,b,f);return O&&!u(O)&&(O.fnScopeId=r._scopeId,O.fnContext=n),O}:this._c=(m,g,S,b)=>Et(a,m,g,S,b,f)}function ni(e,t,s,n,i){const r=_s(e);return r.fnContext=s,r.fnOptions=n,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function ii(e,t){for(const s in t)e[ve(s)]=t[s]}function is(e){return e.name||e.__name||e._componentTag}Hn(js.prototype);const Fs={init(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){const s=e;Fs.prepatch(s,s)}else(e.componentInstance=(function(s,n){const i={_isComponent:!0,_parentVnode:s,parent:n},r=s.data.inlineTemplate;return c(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns),new s.componentOptions.Ctor(i)})(e,ot)).$mount(t?e.elm:void 0,t)},prepatch(e,t){const s=t.componentOptions;(function(n,i,r,a,d){const f=a.data.scopedSlots,m=n.$scopedSlots,g=!!(f&&!f.$stable||m!==o&&!m.$stable||f&&n.$scopedSlots.$key!==f.$key||!f&&n.$scopedSlots.$key);let S=!!(d||n.$options._renderChildren||g);const b=n.$vnode;n.$options._parentVnode=a,n.$vnode=a,n._vnode&&(n._vnode.parent=a),n.$options._renderChildren=d;const O=a.data.attrs||o;n._attrsProxy&&Zt(n._attrsProxy,O,b.data&&b.data.attrs||o,n,"$attrs")&&(S=!0),n.$attrs=O,r=r||o;const $=n.$options._parentListeners;if(n._listenersProxy&&Zt(n._listenersProxy,r,$||o,n,"$listeners"),n.$listeners=n.$options._parentListeners=r,Zn(n,r,$),i&&n.$options.props){Ye(!1);const R=n._props,I=n.$options._propKeys||[];for(let z=0;z<I.length;z++){const B=I[z],W=n.$options.props;R[B]=Ns(B,W,i,n)}Ye(!0),n.$options.propsData=i}S&&(n.$slots=Ls(d,a.context),n.$forceUpdate())})(t.componentInstance=e.componentInstance,s.propsData,s.listeners,t,s.children)},insert(e){const{context:t,componentInstance:s}=e;var n;s._isMounted||(s._isMounted=!0,$e(s,"mounted")),e.data.keepAlive&&(t._isMounted?((n=s)._inactive=!1,Rs.push(n)):Is(s,!0))},destroy(e){const{componentInstance:t}=e;t._isDestroyed||(e.data.keepAlive?ei(t,!0):t.$destroy())}},ri=Object.keys(Fs);function oi(e,t,s,n,i){if(h(e))return;const r=s.$options._base;if(T(e)&&(e=r.extend(e)),typeof e!="function")return;let a;if(h(e.cid)&&(a=e,e=(function(g,S){if(L(g.error)&&c(g.errorComp))return g.errorComp;if(c(g.resolved))return g.resolved;const b=Jt;if(b&&c(g.owners)&&g.owners.indexOf(b)===-1&&g.owners.push(b),L(g.loading)&&c(g.loadingComp))return g.loadingComp;if(b&&!c(g.owners)){const O=g.owners=[b];let $=!0,R=null,I=null;b.$on("hook:destroyed",(()=>Ce(O,b)));const z=Le=>{for(let ue=0,y=O.length;ue<y;ue++)O[ue].$forceUpdate();Le&&(O.length=0,R!==null&&(clearTimeout(R),R=null),I!==null&&(clearTimeout(I),I=null))},B=be((Le=>{g.resolved=Os(Le,S),$?O.length=0:z(!0)})),W=be((Le=>{c(g.errorComp)&&(g.error=!0,z(!0))})),K=g(B,W);return T(K)&&(te(K)?h(g.resolved)&&K.then(B,W):te(K.component)&&(K.component.then(B,W),c(K.error)&&(g.errorComp=Os(K.error,S)),c(K.loading)&&(g.loadingComp=Os(K.loading,S),K.delay===0?g.loading=!0:R=setTimeout((()=>{R=null,h(g.resolved)&&h(g.error)&&(g.loading=!0,z(!1))}),K.delay||200)),c(K.timeout)&&(I=setTimeout((()=>{I=null,h(g.resolved)&&W(null)}),K.timeout)))),$=!1,g.loading?g.loadingComp:g.resolved}})(a,r),e===void 0))return(function(g,S,b,O,$){const R=st();return R.asyncFactory=g,R.asyncMeta={data:S,context:b,children:O,tag:$},R})(a,t,s,n,i);t=t||{},Us(e),c(t.model)&&(function(g,S){const b=g.model&&g.model.prop||"value",O=g.model&&g.model.event||"input";(S.attrs||(S.attrs={}))[b]=S.model.value;const $=S.on||(S.on={}),R=$[O],I=S.model.callback;c(R)?(u(R)?R.indexOf(I)===-1:R!==I)&&($[O]=[I].concat(R)):$[O]=I})(e.options,t);const d=(function(g,S,b){const O=S.options.props;if(h(O))return;const $={},{attrs:R,props:I}=g;if(c(R)||c(I))for(const z in O){const B=De(z);An($,I,z,B,!0)||An($,R,z,B,!1)}return $})(t,e);if(L(e.options.functional))return(function(g,S,b,O,$){const R=g.options,I={},z=R.props;if(c(z))for(const K in z)I[K]=Ns(K,z,S||o);else c(b.attrs)&&ii(I,b.attrs),c(b.props)&&ii(I,b.props);const B=new js(b,I,$,O,g),W=R.render.call(null,B._c,B);if(W instanceof we)return ni(W,b,B.parent,R);if(u(W)){const K=xs(W)||[],Le=new Array(K.length);for(let ue=0;ue<K.length;ue++)Le[ue]=ni(K[ue],b,B.parent,R);return Le}})(e,d,t,s,n);const f=t.on;if(t.on=t.nativeOn,L(e.options.abstract)){const g=t.slot;t={},g&&(t.slot=g)}(function(g){const S=g.hook||(g.hook={});for(let b=0;b<ri.length;b++){const O=ri[b],$=S[O],R=Fs[O];$===R||$&&$._merged||(S[O]=$?oo(R,$):R)}})(t);const m=is(e.options)||i;return new we(`vue-component-${e.cid}${m?`-${m}`:""}`,t,void 0,void 0,void 0,s,{Ctor:e,propsData:d,listeners:f,tag:i,children:n},a)}function oo(e,t){const s=(n,i)=>{e(n,i),t(n,i)};return s._merged=!0,s}let ao=k;const Ie=Oe.optionMergeStrategies;function zt(e,t,s=!0){if(!t)return e;let n,i,r;const a=$t?Reflect.ownKeys(t):Object.keys(t);for(let d=0;d<a.length;d++)n=a[d],n!=="__ob__"&&(i=e[n],r=t[n],s&&F(e,n)?i!==r&&P(i)&&P(r)&&zt(i,r):Vt(e,n,r));return e}function ai(e,t,s){return s?function(){const n=C(t)?t.call(s,s):t,i=C(e)?e.call(s,s):e;return n?zt(n,i):i}:t?e?function(){return zt(C(t)?t.call(this,this):t,C(e)?e.call(this,this):e)}:t:e}function li(e,t){const s=t?e?e.concat(t):u(t)?t:[t]:e;return s&&(function(n){const i=[];for(let r=0;r<n.length;r++)i.indexOf(n[r])===-1&&i.push(n[r]);return i})(s)}function lo(e,t,s,n){const i=Object.create(e||null);return t?p(i,t):i}Ie.data=function(e,t,s){return s?ai(e,t,s):t&&typeof t!="function"?e:ai(e,t)},ze.forEach((e=>{Ie[e]=li})),Te.forEach((function(e){Ie[e+"s"]=lo})),Ie.watch=function(e,t,s,n){if(e===ys&&(e=void 0),t===ys&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;const i={};p(i,e);for(const r in t){let a=i[r];const d=t[r];a&&!u(a)&&(a=[a]),i[r]=a?a.concat(d):u(d)?d:[d]}return i},Ie.props=Ie.methods=Ie.inject=Ie.computed=function(e,t,s,n){if(!e)return t;const i=Object.create(null);return p(i,e),t&&p(i,t),i},Ie.provide=function(e,t){return e?function(){const s=Object.create(null);return zt(s,C(e)?e.call(this):e),t&&zt(s,C(t)?t.call(this):t,!1),s}:t};const co=function(e,t){return t===void 0?e:t};function at(e,t,s){if(C(t)&&(t=t.options),(function(a,d){const f=a.props;if(!f)return;const m={};let g,S,b;if(u(f))for(g=f.length;g--;)S=f[g],typeof S=="string"&&(b=ve(S),m[b]={type:null});else if(P(f))for(const O in f)S=f[O],b=ve(O),m[b]=P(S)?S:{type:S};a.props=m})(t),(function(a,d){const f=a.inject;if(!f)return;const m=a.inject={};if(u(f))for(let g=0;g<f.length;g++)m[f[g]]={from:f[g]};else if(P(f))for(const g in f){const S=f[g];m[g]=P(S)?p({from:g},S):{from:S}}})(t),(function(a){const d=a.directives;if(d)for(const f in d){const m=d[f];C(m)&&(d[f]={bind:m,update:m})}})(t),!t._base&&(t.extends&&(e=at(e,t.extends,s)),t.mixins))for(let a=0,d=t.mixins.length;a<d;a++)e=at(e,t.mixins[a],s);const n={};let i;for(i in e)r(i);for(i in t)F(e,i)||r(i);function r(a){const d=Ie[a]||co;n[a]=d(e[a],t[a],s,a)}return n}function rs(e,t,s,n){if(typeof s!="string")return;const i=e[t];if(F(i,s))return i[s];const r=ve(s);if(F(i,r))return i[r];const a=ft(r);return F(i,a)?i[a]:i[s]||i[r]||i[a]}function Ns(e,t,s,n){const i=t[e],r=!F(s,e);let a=s[e];const d=ui(Boolean,i.type);if(d>-1){if(r&&!F(i,"default"))a=!1;else if(a===""||a===De(e)){const f=ui(String,i.type);(f<0||d<f)&&(a=!0)}}if(a===void 0){a=(function(m,g,S){if(!F(g,"default"))return;const b=g.default;return m&&m.$options.propsData&&m.$options.propsData[S]===void 0&&m._props[S]!==void 0?m._props[S]:C(b)&&Bs(g.type)!=="Function"?b.call(m):b})(n,i,e);const f=bs;Ye(!0),Fe(a),Ye(f)}return a}const uo=/^\s*function (\w+)/;function Bs(e){const t=e&&e.toString().match(uo);return t?t[1]:""}function ci(e,t){return Bs(e)===Bs(t)}function ui(e,t){if(!u(t))return ci(t,e)?0:-1;for(let s=0,n=t.length;s<n;s++)if(ci(t[s],e))return s;return-1}const Je={enumerable:!0,configurable:!0,get:k,set:k};function Hs(e,t,s){Je.get=function(){return this[t][s]},Je.set=function(n){this[t][s]=n},Object.defineProperty(e,s,Je)}function fo(e){const t=e.$options;if(t.props&&(function(s,n){const i=s.$options.propsData||{},r=s._props=Ss({}),a=s.$options._propKeys=[];!s.$parent||Ye(!1);for(const f in n)a.push(f),Ge(r,f,Ns(f,n,i,s),void 0,!0),f in s||Hs(s,"_props",f);Ye(!0)})(e,t.props),(function(s){const n=s.$options,i=n.setup;if(i){const r=s._setupContext=qn(s);Ke(s),gt();const a=Ne(i,null,[s._props||Ss({}),r],s,"setup");if(yt(),Ke(),C(a))n.render=a;else if(T(a))if(s._setupState=a,a.__sfc){const d=s._setupProxy={};for(const f in a)f!=="__sfc"&&Kt(d,a,f)}else for(const d in a)ht(d)||Kt(s,a,d)}})(e),t.methods&&(function(s,n){s.$options.props;for(const i in n)s[i]=typeof n[i]!="function"?k:Bt(n[i],s)})(e,t.methods),t.data)(function(s){let n=s.$options.data;n=s._data=C(n)?(function(f,m){gt();try{return f.call(m,m)}catch(g){return rt(g,m,"data()"),{}}finally{yt()}})(n,s):n||{},P(n)||(n={});const i=Object.keys(n),r=s.$options.props;s.$options.methods;let a=i.length;for(;a--;){const f=i[a];r&&F(r,f)||ht(f)||Hs(s,"_data",f)}const d=Fe(n);d&&d.vmCount++})(e);else{const s=Fe(e._data={});s&&s.vmCount++}t.computed&&(function(s,n){const i=s._computedWatchers=Object.create(null),r=Xe();for(const a in n){const d=n[a],f=C(d)?d:d.get;r||(i[a]=new At(s,f||k,k,ho)),a in s||di(s,a,d)}})(e,t.computed),t.watch&&t.watch!==ys&&(function(s,n){for(const i in n){const r=n[i];if(u(r))for(let a=0;a<r.length;a++)qs(s,i,r[a]);else qs(s,i,r)}})(e,t.watch)}const ho={lazy:!0};function di(e,t,s){const n=!Xe();C(s)?(Je.get=n?fi(t):hi(s),Je.set=k):(Je.get=s.get?n&&s.cache!==!1?fi(t):hi(s.get):k,Je.set=s.set||k),Object.defineProperty(e,t,Je)}function fi(e){return function(){const t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ke.target&&t.depend(),t.value}}function hi(e){return function(){return e.call(this,this)}}function qs(e,t,s,n){return P(s)&&(n=s,s=s.handler),typeof s=="string"&&(s=e[s]),e.$watch(t,s,n)}let po=0;function Us(e){let t=e.options;if(e.super){const s=Us(e.super);if(s!==e.superOptions){e.superOptions=s;const n=(function(i){let r;const a=i.options,d=i.sealedOptions;for(const f in a)a[f]!==d[f]&&(r||(r={}),r[f]=a[f]);return r})(e);n&&p(e.extendOptions,n),t=e.options=at(s,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function ne(e){this._init(e)}function mo(e){e.cid=0;let t=1;e.extend=function(s){s=s||{};const n=this,i=n.cid,r=s._Ctor||(s._Ctor={});if(r[i])return r[i];const a=is(s)||is(n.options),d=function(f){this._init(f)};return(d.prototype=Object.create(n.prototype)).constructor=d,d.cid=t++,d.options=at(n.options,s),d.super=n,d.options.props&&(function(f){const m=f.options.props;for(const g in m)Hs(f.prototype,"_props",g)})(d),d.options.computed&&(function(f){const m=f.options.computed;for(const g in m)di(f.prototype,g,m[g])})(d),d.extend=n.extend,d.mixin=n.mixin,d.use=n.use,Te.forEach((function(f){d[f]=n[f]})),a&&(d.options.components[a]=d),d.superOptions=n.options,d.extendOptions=s,d.sealedOptions=p({},d.options),r[i]=d,d}}function pi(e){return e&&(is(e.Ctor.options)||e.tag)}function os(e,t){return u(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:(s=e,j.call(s)==="[object RegExp]"&&e.test(t));var s}function mi(e,t){const{cache:s,keys:n,_vnode:i,$vnode:r}=e;for(const a in s){const d=s[a];if(d){const f=d.name;f&&!t(f)&&Ws(s,a,n,i)}}r.componentOptions.children=void 0}function Ws(e,t,s,n){const i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,Ce(s,t)}(function(e){e.prototype._init=function(t){const s=this;s._uid=po++,s._isVue=!0,s.__v_skip=!0,s._scope=new Cs(!0),s._scope.parent=void 0,s._scope._vm=!0,t&&t._isComponent?(function(n,i){const r=n.$options=Object.create(n.constructor.options),a=i._parentVnode;r.parent=i.parent,r._parentVnode=a;const d=a.componentOptions;r.propsData=d.propsData,r._parentListeners=d.listeners,r._renderChildren=d.children,r._componentTag=d.tag,i.render&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns)})(s,t):s.$options=at(Us(s.constructor),t||{},s),s._renderProxy=s,s._self=s,(function(n){const i=n.$options;let r=i.parent;if(r&&!i.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(n)}n.$parent=r,n.$root=r?r.$root:n,n.$children=[],n.$refs={},n._provided=r?r._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1})(s),(function(n){n._events=Object.create(null),n._hasHookEvent=!1;const i=n.$options._parentListeners;i&&Zn(n,i)})(s),(function(n){n._vnode=null,n._staticTrees=null;const i=n.$options,r=n.$vnode=i._parentVnode,a=r&&r.context;n.$slots=Ls(i._renderChildren,a),n.$scopedSlots=r?Rt(n.$parent,r.data.scopedSlots,n.$slots):o,n._c=(f,m,g,S)=>Et(n,f,m,g,S,!1),n.$createElement=(f,m,g,S)=>Et(n,f,m,g,S,!0);const d=r&&r.data;Ge(n,"$attrs",d&&d.attrs||o,null,!0),Ge(n,"$listeners",i._parentListeners||o,null,!0)})(s),$e(s,"beforeCreate",void 0,!1),(function(n){const i=si(n.$options.inject,n);i&&(Ye(!1),Object.keys(i).forEach((r=>{Ge(n,r,i[r])})),Ye(!0))})(s),fo(s),(function(n){const i=n.$options.provide;if(i){const r=C(i)?i.call(n):i;if(!T(r))return;const a=Rn(n),d=$t?Reflect.ownKeys(r):Object.keys(r);for(let f=0;f<d.length;f++){const m=d[f];Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(r,m))}}})(s),$e(s,"created"),s.$options.el&&s.$mount(s.$options.el)}})(ne),(function(e){const t={get:function(){return this._data}},s={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",s),e.prototype.$set=Vt,e.prototype.$delete=ks,e.prototype.$watch=function(n,i,r){const a=this;if(P(i))return qs(a,n,i,r);(r=r||{}).user=!0;const d=new At(a,n,i,r);if(r.immediate){const f=`callback for immediate watcher "${d.expression}"`;gt(),Ne(i,a,[d.value],a,f),yt()}return function(){d.teardown()}}})(ne),(function(e){const t=/^hook:/;e.prototype.$on=function(s,n){const i=this;if(u(s))for(let r=0,a=s.length;r<a;r++)i.$on(s[r],n);else(i._events[s]||(i._events[s]=[])).push(n),t.test(s)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(s,n){const i=this;function r(){i.$off(s,r),n.apply(i,arguments)}return r.fn=n,i.$on(s,r),i},e.prototype.$off=function(s,n){const i=this;if(!arguments.length)return i._events=Object.create(null),i;if(u(s)){for(let f=0,m=s.length;f<m;f++)i.$off(s[f],n);return i}const r=i._events[s];if(!r)return i;if(!n)return i._events[s]=null,i;let a,d=r.length;for(;d--;)if(a=r[d],a===n||a.fn===n){r.splice(d,1);break}return i},e.prototype.$emit=function(s){const n=this;let i=n._events[s];if(i){i=i.length>1?x(i):i;const r=x(arguments,1),a=`event handler for "${s}"`;for(let d=0,f=i.length;d<f;d++)Ne(i[d],n,r,n,a)}return n}})(ne),(function(e){e.prototype._update=function(t,s){const n=this,i=n.$el,r=n._vnode,a=Jn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,s,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);let d=n;for(;d&&d.$vnode&&d.$parent&&d.$vnode===d.$parent._vnode;)d.$parent.$el=d.$el,d=d.$parent},e.prototype.$forceUpdate=function(){const t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){const t=this;if(t._isBeingDestroyed)return;$e(t,"beforeDestroy"),t._isBeingDestroyed=!0;const s=t.$parent;!s||s._isBeingDestroyed||t.$options.abstract||Ce(s.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),$e(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}})(ne),(function(e){Hn(e.prototype),e.prototype.$nextTick=function(t){return ts(t,this)},e.prototype._render=function(){const t=this,{render:s,_parentVnode:n}=t.$options;n&&t._isMounted&&(t.$scopedSlots=Rt(t.$parent,n.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Un(t._slotsProxy,t.$scopedSlots)),t.$vnode=n;const i=ee,r=Jt;let a;try{Ke(t),Jt=t,a=s.call(t._renderProxy,t.$createElement)}catch(d){rt(d,t,"render"),a=t._vnode}finally{Jt=r,Ke(i)}return u(a)&&a.length===1&&(a=a[0]),a instanceof we||(a=st()),a.parent=n,a}})(ne);const gi=[String,RegExp,Array];var go={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:gi,exclude:gi,max:[String,Number]},methods:{cacheVNode(){const{cache:e,keys:t,vnodeToCache:s,keyToCache:n}=this;if(s){const{tag:i,componentInstance:r,componentOptions:a}=s;e[n]={name:pi(a),tag:i,componentInstance:r},t.push(n),this.max&&t.length>parseInt(this.max)&&Ws(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created(){this.cache=Object.create(null),this.keys=[]},destroyed(){for(const e in this.cache)Ws(this.cache,e,this.keys)},mounted(){this.cacheVNode(),this.$watch("include",(e=>{mi(this,(t=>os(e,t)))})),this.$watch("exclude",(e=>{mi(this,(t=>!os(e,t)))}))},updated(){this.cacheVNode()},render(){const e=this.$slots.default,t=Wn(e),s=t&&t.componentOptions;if(s){const n=pi(s),{include:i,exclude:r}=this;if(i&&(!n||!os(i,n))||r&&n&&os(r,n))return t;const{cache:a,keys:d}=this,f=t.key==null?s.Ctor.cid+(s.tag?`::${s.tag}`:""):t.key;a[f]?(t.componentInstance=a[f].componentInstance,Ce(d,f),d.push(f)):(this.vnodeToCache=t,this.keyToCache=f),t.data.keepAlive=!0}return t||e&&e[0]}}};(function(e){Object.defineProperty(e,"config",{get:()=>Oe}),e.util={warn:ao,extend:p,mergeOptions:at,defineReactive:Ge},e.set=Vt,e.delete=ks,e.nextTick=ts,e.observable=s=>(Fe(s),s),e.options=Object.create(null),Te.forEach((s=>{e.options[s+"s"]=Object.create(null)})),e.options._base=e,p(e.options.components,go),(function(s){s.use=function(n){const i=this._installedPlugins||(this._installedPlugins=[]);if(i.indexOf(n)>-1)return this;const r=x(arguments,1);return r.unshift(this),C(n.install)?n.install.apply(n,r):C(n)&&n.apply(null,r),i.push(n),this}})(e),(function(s){s.mixin=function(n){return this.options=at(this.options,n),this}})(e),mo(e),(function(s){Te.forEach((n=>{s[n]=function(i,r){return r?(n==="component"&&P(r)&&(r.name=r.name||i,r=this.options._base.extend(r)),n==="directive"&&C(r)&&(r={bind:r,update:r}),this.options[n+"s"][i]=r,r):this.options[n+"s"][i]}}))})(e)})(ne),Object.defineProperty(ne.prototype,"$isServer",{get:Xe}),Object.defineProperty(ne.prototype,"$ssrContext",{get(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ne,"FunctionalRenderContext",{value:js}),ne.version=Yn;const yo=se("style,class"),vo=se("input,textarea,option,select,progress"),yi=se("contenteditable,draggable,spellcheck"),_o=se("events,caret,typing,plaintext-only"),bo=(e,t)=>as(t)||t==="false"?"false":e==="contenteditable"&&_o(t)?t:"true",ko=se("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Vs="http://www.w3.org/1999/xlink",Xs=e=>e.charAt(5)===":"&&e.slice(0,5)==="xlink",vi=e=>Xs(e)?e.slice(6,e.length):"",as=e=>e==null||e===!1;function So(e){let t=e.data,s=e,n=e;for(;c(n.componentInstance);)n=n.componentInstance._vnode,n&&n.data&&(t=_i(n.data,t));for(;c(s=s.parent);)s&&s.data&&(t=_i(t,s.data));return(function(i,r){return c(i)||c(r)?Ks(i,Ys(r)):""})(t.staticClass,t.class)}function _i(e,t){return{staticClass:Ks(e.staticClass,t.staticClass),class:c(e.class)?[e.class,t.class]:t.class}}function Ks(e,t){return e?t?e+" "+t:e:t||""}function Ys(e){return Array.isArray(e)?(function(t){let s,n="";for(let i=0,r=t.length;i<r;i++)c(s=Ys(t[i]))&&s!==""&&(n&&(n+=" "),n+=s);return n})(e):T(e)?(function(t){let s="";for(const n in t)t[n]&&(s&&(s+=" "),s+=n);return s})(e):typeof e=="string"?e:""}const Co={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},wo=se("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gs=se("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),bi=e=>wo(e)||Gs(e),ls=Object.create(null),Zs=se("text,number,password,search,email,tel,url");var xo=Object.freeze({__proto__:null,createElement:function(e,t){const s=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&s.setAttribute("multiple","multiple"),s},createElementNS:function(e,t){return document.createElementNS(Co[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,s){e.insertBefore(t,s)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Lo={create(e,t){bt(t)},update(e,t){e.data.ref!==t.data.ref&&(bt(e,!0),bt(t))},destroy(e){bt(e,!0)}};function bt(e,t){const s=e.data.ref;if(!c(s))return;const n=e.context,i=e.componentInstance||e.elm,r=t?null:i,a=t?void 0:i;if(C(s))return void Ne(s,n,[r],n,"template ref function");const d=e.data.refInFor,f=typeof s=="string"||typeof s=="number",m=he(s),g=n.$refs;if(f||m){if(d){const S=f?g[s]:s.value;t?u(S)&&Ce(S,i):u(S)?S.includes(i)||S.push(i):f?(g[s]=[i],ki(n,s,g[s])):s.value=[i]}else if(f){if(t&&g[s]!==i)return;g[s]=a,ki(n,s,r)}else if(m){if(t&&s.value!==i)return;s.value=r}}}function ki({_setupState:e},t,s){e&&F(e,t)&&(he(e[t])?e[t].value=s:e[t]=s)}const Qe=new we("",{},[]),jt=["create","activate","update","remove","destroy"];function lt(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&c(e.data)===c(t.data)&&(function(s,n){if(s.tag!=="input")return!0;let i;const r=c(i=s.data)&&c(i=i.attrs)&&i.type,a=c(i=n.data)&&c(i=i.attrs)&&i.type;return r===a||Zs(r)&&Zs(a)})(e,t)||L(e.isAsyncPlaceholder)&&h(t.asyncFactory.error))}function To(e,t,s){let n,i;const r={};for(n=t;n<=s;++n)i=e[n].key,c(i)&&(r[i]=n);return r}var Oo={create:Js,update:Js,destroy:function(e){Js(e,Qe)}};function Js(e,t){(e.data.directives||t.data.directives)&&(function(s,n){const i=s===Qe,r=n===Qe,a=Si(s.data.directives,s.context),d=Si(n.data.directives,n.context),f=[],m=[];let g,S,b;for(g in d)S=a[g],b=d[g],S?(b.oldValue=S.value,b.oldArg=S.arg,Ft(b,"update",n,s),b.def&&b.def.componentUpdated&&m.push(b)):(Ft(b,"bind",n,s),b.def&&b.def.inserted&&f.push(b));if(f.length){const O=()=>{for(let $=0;$<f.length;$++)Ft(f[$],"inserted",n,s)};i?Ze(n,"insert",O):O()}if(m.length&&Ze(n,"postpatch",(()=>{for(let O=0;O<m.length;O++)Ft(m[O],"componentUpdated",n,s)})),!i)for(g in a)d[g]||Ft(a[g],"unbind",s,s,r)})(e,t)}const $o=Object.create(null);function Si(e,t){const s=Object.create(null);if(!e)return s;let n,i;for(n=0;n<e.length;n++){if(i=e[n],i.modifiers||(i.modifiers=$o),s[Do(i)]=i,t._setupState&&t._setupState.__sfc){const r=i.def||rs(t,"_setupState","v-"+i.name);i.def=typeof r=="function"?{bind:r,update:r}:r}i.def=i.def||rs(t.$options,"directives",i.name)}return s}function Do(e){return e.rawName||`${e.name}.${Object.keys(e.modifiers||{}).join(".")}`}function Ft(e,t,s,n,i){const r=e.def&&e.def[t];if(r)try{r(s.elm,e,s,n,i)}catch(a){rt(a,s.context,`directive ${e.name} ${t} hook`)}}var Po=[Lo,Oo];function Ci(e,t){const s=t.componentOptions;if(c(s)&&s.Ctor.options.inheritAttrs===!1||h(e.data.attrs)&&h(t.data.attrs))return;let n,i,r;const a=t.elm,d=e.data.attrs||{};let f=t.data.attrs||{};for(n in(c(f.__ob__)||L(f._v_attr_proxy))&&(f=t.data.attrs=p({},f)),f)i=f[n],r=d[n],r!==i&&wi(a,n,i,t.data.pre);for(n in(je||mn)&&f.value!==d.value&&wi(a,"value",f.value),d)h(f[n])&&(Xs(n)?a.removeAttributeNS(Vs,vi(n)):yi(n)||a.removeAttribute(n))}function wi(e,t,s,n){n||e.tagName.indexOf("-")>-1?xi(e,t,s):ko(t)?as(s)?e.removeAttribute(t):(s=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,s)):yi(t)?e.setAttribute(t,bo(t,s)):Xs(t)?as(s)?e.removeAttributeNS(Vs,vi(t)):e.setAttributeNS(Vs,t,s):xi(e,t,s)}function xi(e,t,s){if(as(s))e.removeAttribute(t);else{if(je&&!Ve&&e.tagName==="TEXTAREA"&&t==="placeholder"&&s!==""&&!e.__ieph){const n=i=>{i.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,s)}}var Io={create:Ci,update:Ci};function Li(e,t){const s=t.elm,n=t.data,i=e.data;if(h(n.staticClass)&&h(n.class)&&(h(i)||h(i.staticClass)&&h(i.class)))return;let r=So(t);const a=s._transitionClasses;c(a)&&(r=Ks(r,Ys(a))),r!==s._prevClass&&(s.setAttribute("class",r),s._prevClass=r)}var Ro={create:Li,update:Li};const Qs="__r",en="__c";let Nt;function Eo(e,t,s){const n=Nt;return function i(){t.apply(null,arguments)!==null&&Ti(e,i,s,n)}}const Mo=$s&&!(gn&&Number(gn[1])<=53);function Ao(e,t,s,n){if(Mo){const i=ti,r=t;t=r._wrapper=function(a){if(a.target===a.currentTarget||a.timeStamp>=i||a.timeStamp<=0||a.target.ownerDocument!==document)return r.apply(this,arguments)}}Nt.addEventListener(e,t,yn?{capture:s,passive:n}:s)}function Ti(e,t,s,n){(n||Nt).removeEventListener(e,t._wrapper||t,s)}function tn(e,t){if(h(e.data.on)&&h(t.data.on))return;const s=t.data.on||{},n=e.data.on||{};Nt=t.elm||e.elm,(function(i){if(c(i[Qs])){const r=je?"change":"input";i[r]=[].concat(i[Qs],i[r]||[]),delete i[Qs]}c(i[en])&&(i.change=[].concat(i[en],i.change||[]),delete i[en])})(s),Mn(s,n,Ao,Ti,Eo,t.context),Nt=void 0}var zo={create:tn,update:tn,destroy:e=>tn(e,Qe)};let cs;function Oi(e,t){if(h(e.data.domProps)&&h(t.data.domProps))return;let s,n;const i=t.elm,r=e.data.domProps||{};let a=t.data.domProps||{};for(s in(c(a.__ob__)||L(a._v_attr_proxy))&&(a=t.data.domProps=p({},a)),r)s in a||(i[s]="");for(s in a){if(n=a[s],s==="textContent"||s==="innerHTML"){if(t.children&&(t.children.length=0),n===r[s])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(s==="value"&&i.tagName!=="PROGRESS"){i._value=n;const d=h(n)?"":String(n);jo(i,d)&&(i.value=d)}else if(s==="innerHTML"&&Gs(i.tagName)&&h(i.innerHTML)){cs=cs||document.createElement("div"),cs.innerHTML=`<svg>${n}</svg>`;const d=cs.firstChild;for(;i.firstChild;)i.removeChild(i.firstChild);for(;d.firstChild;)i.appendChild(d.firstChild)}else if(n!==r[s])try{i[s]=n}catch{}}}function jo(e,t){return!e.composing&&(e.tagName==="OPTION"||(function(s,n){let i=!0;try{i=document.activeElement!==s}catch{}return i&&s.value!==n})(e,t)||(function(s,n){const i=s.value,r=s._vModifiers;if(c(r)){if(r.number)return fe(i)!==fe(n);if(r.trim)return i.trim()!==n.trim()}return i!==n})(e,t))}var Fo={create:Oi,update:Oi};const No=ce((function(e){const t={},s=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(n){if(n){const i=n.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function sn(e){const t=$i(e.style);return e.staticStyle?p(e.staticStyle,t):t}function $i(e){return Array.isArray(e)?v(e):typeof e=="string"?No(e):e}const Bo=/^--/,Di=/\s*!important$/,Pi=(e,t,s)=>{if(Bo.test(t))e.style.setProperty(t,s);else if(Di.test(s))e.style.setProperty(De(t),s.replace(Di,""),"important");else{const n=Ho(t);if(Array.isArray(s))for(let i=0,r=s.length;i<r;i++)e.style[n]=s[i];else e.style[n]=s}},Ii=["Webkit","Moz","ms"];let us;const Ho=ce((function(e){if(us=us||document.createElement("div").style,(e=ve(e))!=="filter"&&e in us)return e;const t=e.charAt(0).toUpperCase()+e.slice(1);for(let s=0;s<Ii.length;s++){const n=Ii[s]+t;if(n in us)return n}}));function Ri(e,t){const s=t.data,n=e.data;if(h(s.staticStyle)&&h(s.style)&&h(n.staticStyle)&&h(n.style))return;let i,r;const a=t.elm,d=n.staticStyle,f=n.normalizedStyle||n.style||{},m=d||f,g=$i(t.data.style)||{};t.data.normalizedStyle=c(g.__ob__)?p({},g):g;const S=(function(b,O){const $={};let R;{let z=b;for(;z.componentInstance;)z=z.componentInstance._vnode,z&&z.data&&(R=sn(z.data))&&p($,R)}(R=sn(b.data))&&p($,R);let I=b;for(;I=I.parent;)I.data&&(R=sn(I.data))&&p($,R);return $})(t);for(r in m)h(S[r])&&Pi(a,r,"");for(r in S)i=S[r],Pi(a,r,i??"")}var qo={create:Ri,update:Ri};const Ei=/\s+/;function Mi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((s=>e.classList.add(s))):e.classList.add(t);else{const s=` ${e.getAttribute("class")||""} `;s.indexOf(" "+t+" ")<0&&e.setAttribute("class",(s+t).trim())}}function Ai(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((s=>e.classList.remove(s))):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{let s=` ${e.getAttribute("class")||""} `;const n=" "+t+" ";for(;s.indexOf(n)>=0;)s=s.replace(n," ");s=s.trim(),s?e.setAttribute("class",s):e.removeAttribute("class")}}function zi(e){if(e){if(typeof e=="object"){const t={};return e.css!==!1&&p(t,ji(e.name||"v")),p(t,e),t}return typeof e=="string"?ji(e):void 0}}const ji=ce((e=>({enterClass:`${e}-enter`,enterToClass:`${e}-enter-to`,enterActiveClass:`${e}-enter-active`,leaveClass:`${e}-leave`,leaveToClass:`${e}-leave-to`,leaveActiveClass:`${e}-leave-active`}))),Fi=ae&&!Ve,kt="transition",nn="animation";let ds="transition",fs="transitionend",rn="animation",Ni="animationend";Fi&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(ds="WebkitTransition",fs="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(rn="WebkitAnimation",Ni="webkitAnimationEnd"));const Bi=ae?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:e=>e();function Hi(e){Bi((()=>{Bi(e)}))}function ct(e,t){const s=e._transitionClasses||(e._transitionClasses=[]);s.indexOf(t)<0&&(s.push(t),Mi(e,t))}function He(e,t){e._transitionClasses&&Ce(e._transitionClasses,t),Ai(e,t)}function qi(e,t,s){const{type:n,timeout:i,propCount:r}=Ui(e,t);if(!n)return s();const a=n===kt?fs:Ni;let d=0;const f=()=>{e.removeEventListener(a,m),s()},m=g=>{g.target===e&&++d>=r&&f()};setTimeout((()=>{d<r&&f()}),i+1),e.addEventListener(a,m)}const Uo=/\b(transform|all)(,|$)/;function Ui(e,t){const s=window.getComputedStyle(e),n=(s[ds+"Delay"]||"").split(", "),i=(s[ds+"Duration"]||"").split(", "),r=Wi(n,i),a=(s[rn+"Delay"]||"").split(", "),d=(s[rn+"Duration"]||"").split(", "),f=Wi(a,d);let m,g=0,S=0;return t===kt?r>0&&(m=kt,g=r,S=i.length):t===nn?f>0&&(m=nn,g=f,S=d.length):(g=Math.max(r,f),m=g>0?r>f?kt:nn:null,S=m?m===kt?i.length:d.length:0),{type:m,timeout:g,propCount:S,hasTransform:m===kt&&Uo.test(s[ds+"Property"])}}function Wi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(((s,n)=>Vi(s)+Vi(e[n]))))}function Vi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function on(e,t){const s=e.elm;c(s._leaveCb)&&(s._leaveCb.cancelled=!0,s._leaveCb());const n=zi(e.data.transition);if(h(n)||c(s._enterCb)||s.nodeType!==1)return;const{css:i,type:r,enterClass:a,enterToClass:d,enterActiveClass:f,appearClass:m,appearToClass:g,appearActiveClass:S,beforeEnter:b,enter:O,afterEnter:$,enterCancelled:R,beforeAppear:I,appear:z,afterAppear:B,appearCancelled:W,duration:K}=n;let Le=ot,ue=ot.$vnode;for(;ue&&ue.parent;)Le=ue.context,ue=ue.parent;const y=!Le._isMounted||!e.isRootInsert;if(y&&!z&&z!=="")return;const _=y&&m?m:a,D=y&&S?S:f,E=y&&g?g:d,H=y&&I||b,Y=y&&C(z)?z:O,V=y&&B||$,U=y&&W||R,ie=fe(T(K)?K.enter:K),G=i!==!1&&!Ve,q=an(Y),le=s._enterCb=be((()=>{G&&(He(s,E),He(s,D)),le.cancelled?(G&&He(s,_),U&&U(s)):V&&V(s),s._enterCb=null}));e.data.show||Ze(e,"insert",(()=>{const X=s.parentNode,N=X&&X._pending&&X._pending[e.key];N&&N.tag===e.tag&&N.elm._leaveCb&&N.elm._leaveCb(),Y&&Y(s,le)})),H&&H(s),G&&(ct(s,_),ct(s,D),Hi((()=>{He(s,_),le.cancelled||(ct(s,E),q||(Ki(ie)?setTimeout(le,ie):qi(s,r,le)))}))),e.data.show&&(t&&t(),Y&&Y(s,le)),G||q||le()}function Xi(e,t){const s=e.elm;c(s._enterCb)&&(s._enterCb.cancelled=!0,s._enterCb());const n=zi(e.data.transition);if(h(n)||s.nodeType!==1)return t();if(c(s._leaveCb))return;const{css:i,type:r,leaveClass:a,leaveToClass:d,leaveActiveClass:f,beforeLeave:m,leave:g,afterLeave:S,leaveCancelled:b,delayLeave:O,duration:$}=n,R=i!==!1&&!Ve,I=an(g),z=fe(T($)?$.leave:$),B=s._leaveCb=be((()=>{s.parentNode&&s.parentNode._pending&&(s.parentNode._pending[e.key]=null),R&&(He(s,d),He(s,f)),B.cancelled?(R&&He(s,a),b&&b(s)):(t(),S&&S(s)),s._leaveCb=null}));function W(){B.cancelled||(!e.data.show&&s.parentNode&&((s.parentNode._pending||(s.parentNode._pending={}))[e.key]=e),m&&m(s),R&&(ct(s,a),ct(s,f),Hi((()=>{He(s,a),B.cancelled||(ct(s,d),I||(Ki(z)?setTimeout(B,z):qi(s,r,B)))}))),g&&g(s,B),R||I||B())}O?O(W):W()}function Ki(e){return typeof e=="number"&&!isNaN(e)}function an(e){if(h(e))return!1;const t=e.fns;return c(t)?an(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Yi(e,t){t.data.show!==!0&&on(t)}const Wo=(function(e){let t,s;const n={},{modules:i,nodeOps:r}=e;for(t=0;t<jt.length;++t)for(n[jt[t]]=[],s=0;s<i.length;++s)c(i[s][jt[t]])&&n[jt[t]].push(i[s][jt[t]]);function a(y){const _=r.parentNode(y);c(_)&&r.removeChild(_,y)}function d(y,_,D,E,H,Y,V){if(c(y.elm)&&c(Y)&&(y=Y[V]=_s(y)),y.isRootInsert=!H,(function(q,le,X,N){let re=q.data;if(c(re)){const dn=c(q.componentInstance)&&re.keepAlive;if(c(re=re.hook)&&c(re=re.init)&&re(q,!1),c(q.componentInstance))return f(q,le),m(X,q.elm,N),L(dn)&&(function(St,Ct,wt,ps){let me,de=St;for(;de.componentInstance;)if(de=de.componentInstance._vnode,c(me=de.data)&&c(me=me.transition)){for(me=0;me<n.activate.length;++me)n.activate[me](Qe,de);Ct.push(de);break}m(wt,St.elm,ps)})(q,le,X,N),!0}})(y,_,D,E))return;const U=y.data,ie=y.children,G=y.tag;c(G)?(y.elm=y.ns?r.createElementNS(y.ns,G):r.createElement(G,y),O(y),g(y,ie,_),c(U)&&b(y,_),m(D,y.elm,E)):L(y.isComment)?(y.elm=r.createComment(y.text),m(D,y.elm,E)):(y.elm=r.createTextNode(y.text),m(D,y.elm,E))}function f(y,_){c(y.data.pendingInsert)&&(_.push.apply(_,y.data.pendingInsert),y.data.pendingInsert=null),y.elm=y.componentInstance.$el,S(y)?(b(y,_),O(y)):(bt(y),_.push(y))}function m(y,_,D){c(y)&&(c(D)?r.parentNode(D)===y&&r.insertBefore(y,_,D):r.appendChild(y,_))}function g(y,_,D){if(u(_))for(let E=0;E<_.length;++E)d(_[E],D,y.elm,null,!0,_,E);else w(y.text)&&r.appendChild(y.elm,r.createTextNode(String(y.text)))}function S(y){for(;y.componentInstance;)y=y.componentInstance._vnode;return c(y.tag)}function b(y,_){for(let D=0;D<n.create.length;++D)n.create[D](Qe,y);t=y.data.hook,c(t)&&(c(t.create)&&t.create(Qe,y),c(t.insert)&&_.push(y))}function O(y){let _;if(c(_=y.fnScopeId))r.setStyleScope(y.elm,_);else{let D=y;for(;D;)c(_=D.context)&&c(_=_.$options._scopeId)&&r.setStyleScope(y.elm,_),D=D.parent}c(_=ot)&&_!==y.context&&_!==y.fnContext&&c(_=_.$options._scopeId)&&r.setStyleScope(y.elm,_)}function $(y,_,D,E,H,Y){for(;E<=H;++E)d(D[E],Y,y,_,!1,D,E)}function R(y){let _,D;const E=y.data;if(c(E))for(c(_=E.hook)&&c(_=_.destroy)&&_(y),_=0;_<n.destroy.length;++_)n.destroy[_](y);if(c(_=y.children))for(D=0;D<y.children.length;++D)R(y.children[D])}function I(y,_,D){for(;_<=D;++_){const E=y[_];c(E)&&(c(E.tag)?(z(E),R(E)):a(E.elm))}}function z(y,_){if(c(_)||c(y.data)){let D;const E=n.remove.length+1;for(c(_)?_.listeners+=E:_=(function(H,Y){function V(){--V.listeners==0&&a(H)}return V.listeners=Y,V})(y.elm,E),c(D=y.componentInstance)&&c(D=D._vnode)&&c(D.data)&&z(D,_),D=0;D<n.remove.length;++D)n.remove[D](y,_);c(D=y.data.hook)&&c(D=D.remove)?D(y,_):_()}else a(y.elm)}function B(y,_,D,E){for(let H=D;H<E;H++){const Y=_[H];if(c(Y)&&lt(y,Y))return H}}function W(y,_,D,E,H,Y){if(y===_)return;c(_.elm)&&c(E)&&(_=E[H]=_s(_));const V=_.elm=y.elm;if(L(y.isAsyncPlaceholder))return void(c(_.asyncFactory.resolved)?ue(y.elm,_,D):_.isAsyncPlaceholder=!0);if(L(_.isStatic)&&L(y.isStatic)&&_.key===y.key&&(L(_.isCloned)||L(_.isOnce)))return void(_.componentInstance=y.componentInstance);let U;const ie=_.data;c(ie)&&c(U=ie.hook)&&c(U=U.prepatch)&&U(y,_);const G=y.children,q=_.children;if(c(ie)&&S(_)){for(U=0;U<n.update.length;++U)n.update[U](y,_);c(U=ie.hook)&&c(U=U.update)&&U(y,_)}h(_.text)?c(G)&&c(q)?G!==q&&(function(le,X,N,re,dn){let St,Ct,wt,ps,me=0,de=0,qe=X.length-1,Se=X[0],Re=X[qe],Ee=N.length-1,ye=N[0],xt=N[Ee];const fn=!dn;for(;me<=qe&&de<=Ee;)h(Se)?Se=X[++me]:h(Re)?Re=X[--qe]:lt(Se,ye)?(W(Se,ye,re,N,de),Se=X[++me],ye=N[++de]):lt(Re,xt)?(W(Re,xt,re,N,Ee),Re=X[--qe],xt=N[--Ee]):lt(Se,xt)?(W(Se,xt,re,N,Ee),fn&&r.insertBefore(le,Se.elm,r.nextSibling(Re.elm)),Se=X[++me],xt=N[--Ee]):lt(Re,ye)?(W(Re,ye,re,N,de),fn&&r.insertBefore(le,Re.elm,Se.elm),Re=X[--qe],ye=N[++de]):(h(St)&&(St=To(X,me,qe)),Ct=c(ye.key)?St[ye.key]:B(ye,X,me,qe),h(Ct)?d(ye,re,le,Se.elm,!1,N,de):(wt=X[Ct],lt(wt,ye)?(W(wt,ye,re,N,de),X[Ct]=void 0,fn&&r.insertBefore(le,wt.elm,Se.elm)):d(ye,re,le,Se.elm,!1,N,de)),ye=N[++de]);me>qe?(ps=h(N[Ee+1])?null:N[Ee+1].elm,$(le,ps,N,de,Ee,re)):de>Ee&&I(X,me,qe)})(V,G,q,D,Y):c(q)?(c(y.text)&&r.setTextContent(V,""),$(V,null,q,0,q.length-1,D)):c(G)?I(G,0,G.length-1):c(y.text)&&r.setTextContent(V,""):y.text!==_.text&&r.setTextContent(V,_.text),c(ie)&&c(U=ie.hook)&&c(U=U.postpatch)&&U(y,_)}function K(y,_,D){if(L(D)&&c(y.parent))y.parent.data.pendingInsert=_;else for(let E=0;E<_.length;++E)_[E].data.hook.insert(_[E])}const Le=se("attrs,class,staticClass,staticStyle,key");function ue(y,_,D,E){let H;const{tag:Y,data:V,children:U}=_;if(E=E||V&&V.pre,_.elm=y,L(_.isComment)&&c(_.asyncFactory))return _.isAsyncPlaceholder=!0,!0;if(c(V)&&(c(H=V.hook)&&c(H=H.init)&&H(_,!0),c(H=_.componentInstance)))return f(_,D),!0;if(c(Y)){if(c(U))if(y.hasChildNodes())if(c(H=V)&&c(H=H.domProps)&&c(H=H.innerHTML)){if(H!==y.innerHTML)return!1}else{let ie=!0,G=y.firstChild;for(let q=0;q<U.length;q++){if(!G||!ue(G,U[q],D,E)){ie=!1;break}G=G.nextSibling}if(!ie||G)return!1}else g(_,U,D);if(c(V)){let ie=!1;for(const G in V)if(!Le(G)){ie=!0,b(_,D);break}!ie&&V.class&&vt(V.class)}}else y.data!==_.text&&(y.data=_.text);return!0}return function(y,_,D,E){if(h(_))return void(c(y)&&R(y));let H=!1;const Y=[];if(h(y))H=!0,d(_,Y);else{const U=c(y.nodeType);if(!U&&lt(y,_))W(y,_,Y,null,null,E);else{if(U){if(y.nodeType===1&&y.hasAttribute(Ue)&&(y.removeAttribute(Ue),D=!0),L(D)&&ue(y,_,Y))return K(_,Y,!0),y;V=y,y=new we(r.tagName(V).toLowerCase(),{},[],void 0,V)}const ie=y.elm,G=r.parentNode(ie);if(d(_,Y,ie._leaveCb?null:G,r.nextSibling(ie)),c(_.parent)){let q=_.parent;const le=S(_);for(;q;){for(let X=0;X<n.destroy.length;++X)n.destroy[X](q);if(q.elm=_.elm,le){for(let N=0;N<n.create.length;++N)n.create[N](Qe,q);const X=q.data.hook.insert;if(X.merged){const N=X.fns.slice(1);for(let re=0;re<N.length;re++)N[re]()}}else bt(q);q=q.parent}}c(G)?I([y],0,0):c(y.tag)&&R(y)}}var V;return K(_,Y,H),_.elm}})({nodeOps:xo,modules:[Io,Ro,zo,Fo,qo,ae?{create:Yi,activate:Yi,remove(e,t){e.data.show!==!0?Xi(e,t):t()}}:{}].concat(Po)});Ve&&document.addEventListener("selectionchange",(()=>{const e=document.activeElement;e&&e.vmodel&&ln(e,"input")}));const Gi={inserted(e,t,s,n){s.tag==="select"?(n.elm&&!n.elm._vOptions?Ze(s,"postpatch",(()=>{Gi.componentUpdated(e,t,s)})):Zi(e,t,s.context),e._vOptions=[].map.call(e.options,hs)):(s.tag==="textarea"||Zs(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Vo),e.addEventListener("compositionend",er),e.addEventListener("change",er),Ve&&(e.vmodel=!0)))},componentUpdated(e,t,s){if(s.tag==="select"){Zi(e,t,s.context);const n=e._vOptions,i=e._vOptions=[].map.call(e.options,hs);i.some(((r,a)=>!Q(r,n[a])))&&(e.multiple?t.value.some((r=>Qi(r,i))):t.value!==t.oldValue&&Qi(t.value,i))&&ln(e,"change")}}};function Zi(e,t,s){Ji(e,t),(je||mn)&&setTimeout((()=>{Ji(e,t)}),0)}function Ji(e,t,s){const n=t.value,i=e.multiple;if(i&&!Array.isArray(n))return;let r,a;for(let d=0,f=e.options.length;d<f;d++)if(a=e.options[d],i)r=_e(n,hs(a))>-1,a.selected!==r&&(a.selected=r);else if(Q(hs(a),n))return void(e.selectedIndex!==d&&(e.selectedIndex=d));i||(e.selectedIndex=-1)}function Qi(e,t){return t.every((s=>!Q(s,e)))}function hs(e){return"_value"in e?e._value:e.value}function Vo(e){e.target.composing=!0}function er(e){e.target.composing&&(e.target.composing=!1,ln(e.target,"input"))}function ln(e,t){const s=document.createEvent("HTMLEvents");s.initEvent(t,!0,!0),e.dispatchEvent(s)}function cn(e){return!e.componentInstance||e.data&&e.data.transition?e:cn(e.componentInstance._vnode)}var Xo={bind(e,{value:t},s){const n=(s=cn(s)).data&&s.data.transition,i=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;t&&n?(s.data.show=!0,on(s,(()=>{e.style.display=i}))):e.style.display=t?i:"none"},update(e,{value:t,oldValue:s},n){!t!=!s&&((n=cn(n)).data&&n.data.transition?(n.data.show=!0,t?on(n,(()=>{e.style.display=e.__vOriginalDisplay})):Xi(n,(()=>{e.style.display="none"}))):e.style.display=t?e.__vOriginalDisplay:"none")},unbind(e,t,s,n,i){i||(e.style.display=e.__vOriginalDisplay)}},Ko={model:Gi,show:Xo};const tr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function un(e){const t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?un(Wn(t.children)):e}function sr(e){const t={},s=e.$options;for(const i in s.propsData)t[i]=e[i];const n=s._parentListeners;for(const i in n)t[ve(i)]=n[i];return t}function nr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}const Yo=e=>e.tag||It(e),Go=e=>e.name==="show";var Zo={name:"transition",props:tr,abstract:!0,render(e){let t=this.$slots.default;if(!t||(t=t.filter(Yo),!t.length))return;const s=this.mode,n=t[0];if((function(m){for(;m=m.parent;)if(m.data.transition)return!0})(this.$vnode))return n;const i=un(n);if(!i)return n;if(this._leaving)return nr(e,n);const r=`__transition-${this._uid}-`;i.key=i.key==null?i.isComment?r+"comment":r+i.tag:w(i.key)?String(i.key).indexOf(r)===0?i.key:r+i.key:i.key;const a=(i.data||(i.data={})).transition=sr(this),d=this._vnode,f=un(d);if(i.data.directives&&i.data.directives.some(Go)&&(i.data.show=!0),f&&f.data&&!(function(m,g){return g.key===m.key&&g.tag===m.tag})(i,f)&&!It(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){const m=f.data.transition=p({},a);if(s==="out-in")return this._leaving=!0,Ze(m,"afterLeave",(()=>{this._leaving=!1,this.$forceUpdate()})),nr(e,n);if(s==="in-out"){if(It(i))return d;let g;const S=()=>{g()};Ze(a,"afterEnter",S),Ze(a,"enterCancelled",S),Ze(m,"delayLeave",(b=>{g=b}))}}return n}};const ir=p({tag:String,moveClass:String},tr);delete ir.mode;var Jo={props:ir,beforeMount(){const e=this._update;this._update=(t,s)=>{const n=Jn(this);this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept,n(),e.call(this,t,s)}},render(e){const t=this.tag||this.$vnode.data.tag||"span",s=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=sr(this);for(let d=0;d<i.length;d++){const f=i[d];f.tag&&f.key!=null&&String(f.key).indexOf("__vlist")!==0&&(r.push(f),s[f.key]=f,(f.data||(f.data={})).transition=a)}if(n){const d=[],f=[];for(let m=0;m<n.length;m++){const g=n[m];g.data.transition=a,g.data.pos=g.elm.getBoundingClientRect(),s[g.key]?d.push(g):f.push(g)}this.kept=e(t,null,d),this.removed=f}return e(t,null,r)},updated(){const e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Qo),e.forEach(ea),e.forEach(ta),this._reflow=document.body.offsetHeight,e.forEach((s=>{if(s.data.moved){const n=s.elm,i=n.style;ct(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(fs,n._moveCb=function r(a){a&&a.target!==n||a&&!/transform$/.test(a.propertyName)||(n.removeEventListener(fs,r),n._moveCb=null,He(n,t))})}})))},methods:{hasMove(e,t){if(!Fi)return!1;if(this._hasMove)return this._hasMove;const s=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((i=>{Ai(s,i)})),Mi(s,t),s.style.display="none",this.$el.appendChild(s);const n=Ui(s);return this.$el.removeChild(s),this._hasMove=n.hasTransform}}};function Qo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ea(e){e.data.newPos=e.elm.getBoundingClientRect()}function ta(e){const t=e.data.pos,s=e.data.newPos,n=t.left-s.left,i=t.top-s.top;if(n||i){e.data.moved=!0;const r=e.elm.style;r.transform=r.WebkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s"}}var sa={Transition:Zo,TransitionGroup:Jo};return ne.config.mustUseProp=(e,t,s)=>s==="value"&&vo(e)&&t!=="button"||s==="selected"&&e==="option"||s==="checked"&&e==="input"||s==="muted"&&e==="video",ne.config.isReservedTag=bi,ne.config.isReservedAttr=yo,ne.config.getTagNamespace=function(e){return Gs(e)?"svg":e==="math"?"math":void 0},ne.config.isUnknownElement=function(e){if(!ae)return!0;if(bi(e))return!1;if(e=e.toLowerCase(),ls[e]!=null)return ls[e];const t=document.createElement(e);return e.indexOf("-")>-1?ls[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ls[e]=/HTMLUnknownElement/.test(t.toString())},p(ne.options.directives,Ko),p(ne.options.components,sa),ne.prototype.__patch__=ae?Wo:k,ne.prototype.$mount=function(e,t){return(function(s,n,i){let r;s.$el=n,s.$options.render||(s.$options.render=st),$e(s,"beforeMount"),r=()=>{s._update(s._render(),i)},new At(s,r,k,{before(){s._isMounted&&!s._isDestroyed&&$e(s,"beforeUpdate")}},!0),i=!1;const a=s._preWatchers;if(a)for(let d=0;d<a.length;d++)a[d].run();return s.$vnode==null&&(s._isMounted=!0,$e(s,"mounted")),s})(this,e=e&&ae?(function(s){return typeof s=="string"?document.querySelector(s)||document.createElement("div"):s})(e):void 0,t)},ae&&setTimeout((()=>{}),0),p(ne,Qr),pn.exports=ne,pn.exports}var hr;function Ka(){return hr||(hr=1,hn.exports=Xa()),hn.exports}/*!
 * vue-virtual-scroll-list v2.3.4
 * open source under the MIT license
 * https://github.com/tangbc/vue-virtual-scroll-list#readme
 */var Ya=ms.exports,pr;function Ga(){return pr||(pr=1,(function(l,o){(function(u,h){l.exports=h(Ka())})(Ya,(function(u){u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;function h(x,p){var v=Object.keys(x);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(x);p&&(k=k.filter(function(M){return Object.getOwnPropertyDescriptor(x,M).enumerable})),v.push.apply(v,k)}return v}function c(x){for(var p=1;p<arguments.length;p++){var v=arguments[p]!=null?arguments[p]:{};p%2?h(Object(v),!0).forEach(function(k){T(x,k,v[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(k){Object.defineProperty(x,k,Object.getOwnPropertyDescriptor(v,k))})}return x}function L(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function w(x,p){for(var v=0;v<p.length;v++){var k=p[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}function C(x,p,v){return p&&w(x.prototype,p),Object.defineProperty(x,"prototype",{writable:!1}),x}function T(x,p,v){return p in x?Object.defineProperty(x,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[p]=v,x}function j(x){return P(x)||A(x)||te(x)||Me()}function P(x){if(Array.isArray(x))return oe(x)}function A(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function te(x,p){if(x){if(typeof x=="string")return oe(x,p);var v=Object.prototype.toString.call(x).slice(8,-1);if(v==="Object"&&x.constructor&&(v=x.constructor.name),v==="Map"||v==="Set")return Array.from(x);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return oe(x,p)}}function oe(x,p){(p==null||p>x.length)&&(p=x.length);for(var v=0,k=new Array(p);v<p;v++)k[v]=x[v];return k}function Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe={FRONT:"FRONT",BEHIND:"BEHIND"},se={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},et=0,Ce=(function(){function x(p,v){L(this,x),this.init(p,v)}return C(x,[{key:"init",value:function(v,k){this.param=v,this.callUpdate=k,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.fixedSizeValue=0,this.calcType=se.INIT,this.offset=0,this.direction="",this.range=Object.create(null),v&&this.checkRange(0,v.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var v=Object.create(null);return v.start=this.range.start,v.end=this.range.end,v.padFront=this.range.padFront,v.padBehind=this.range.padBehind,v}},{key:"isBehind",value:function(){return this.direction===fe.BEHIND}},{key:"isFront",value:function(){return this.direction===fe.FRONT}},{key:"getOffset",value:function(v){return(v<1?0:this.getIndexOffset(v))+this.param.slotHeaderSize}},{key:"updateParam",value:function(v,k){var M=this;this.param&&v in this.param&&(v==="uniqueIds"&&this.sizes.forEach(function(J,Q){k.includes(Q)||M.sizes.delete(Q)}),this.param[v]=k)}},{key:"saveSize",value:function(v,k){this.sizes.set(v,k),this.calcType===se.INIT?(this.fixedSizeValue=k,this.calcType=se.FIXED):this.calcType===se.FIXED&&this.fixedSizeValue!==k&&(this.calcType=se.DYNAMIC,delete this.fixedSizeValue),this.calcType!==se.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=j(this.sizes.values()).reduce(function(M,J){return M+J},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var v=this.range.start;this.isFront()?v=v-et:this.isBehind()&&(v=v+et),v=Math.max(v,0),this.updateRange(this.range.start,this.getEndByStart(v))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(v){this.direction=v<this.offset||v===0?fe.FRONT:fe.BEHIND,this.offset=v,this.param&&(this.direction===fe.FRONT?this.handleFront():this.direction===fe.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var v=this.getScrollOvers();if(!(v>this.range.start)){var k=Math.max(v-this.param.buffer,0);this.checkRange(k,this.getEndByStart(k))}}},{key:"handleBehind",value:function(){var v=this.getScrollOvers();v<this.range.start+this.param.buffer||this.checkRange(v,this.getEndByStart(v))}},{key:"getScrollOvers",value:function(){var v=this.offset-this.param.slotHeaderSize;if(v<=0)return 0;if(this.isFixedType())return Math.floor(v/this.fixedSizeValue);for(var k=0,M=0,J=0,Q=this.param.uniqueIds.length;k<=Q;){if(M=k+Math.floor((Q-k)/2),J=this.getIndexOffset(M),J===v)return M;J<v?k=M+1:J>v&&(Q=M-1)}return k>0?--k:0}},{key:"getIndexOffset",value:function(v){if(!v)return 0;for(var k=0,M=0,J=0;J<v;J++)M=this.sizes.get(this.param.uniqueIds[J]),k=k+(typeof M=="number"?M:this.getEstimateSize());return k}},{key:"isFixedType",value:function(){return this.calcType===se.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(v,k){var M=this.param.keeps,J=this.param.uniqueIds.length;J<=M?(v=0,k=this.getLastIndex()):k-v<M-1&&(v=k-M+1),this.range.start!==v&&this.updateRange(v,k)}},{key:"updateRange",value:function(v,k){this.range.start=v,this.range.end=k,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(v){var k=v+this.param.keeps-1,M=Math.min(k,this.getLastIndex());return M}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var v=this.range.end,k=this.getLastIndex();return this.isFixedType()?(k-v)*this.fixedSizeValue:(k-v)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),x})(),Ot={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:""},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},F={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},slotComponent:{type:Function},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},ce={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},dt={created:function(){this.shapeKey=this.horizontal?"offsetWidth":"offsetHeight"},mounted:function(){var p=this;typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(){p.dispatchSizeChange()}),this.resizeObserver.observe(this.$el))},updated:function(){this.resizeObserver.observe(this.$el)},beforeDestroy:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},methods:{getCurrentSize:function(){return this.$el?this.$el[this.shapeKey]:0},dispatchSizeChange:function(){this.$parent.$emit(this.event,this.uniqueKey,this.getCurrentSize(),this.hasInitial)}}},ve=u.component("virtual-list-item",{mixins:[dt],props:F,render:function(p){var v=this.tag,k=this.component,M=this.extraProps,J=M===void 0?{}:M,Q=this.index,_e=this.source,be=this.scopedSlots,Ae=be===void 0?{}:be,Ue=this.uniqueKey,Te=this.slotComponent,ze=c(c({},J),{},{source:_e,index:Q});return p(v,{key:Ue,attrs:{role:"listitem"}},[Te?Te({item:_e,index:Q,scope:ze}):p(k,{props:ze,scopedSlots:Ae})])}}),ft=u.component("virtual-list-slot",{mixins:[dt],props:ce,render:function(p){var v=this.tag,k=this.uniqueKey;return p(v,{key:k,attrs:{role:k}},this.$slots.default)}}),tt={ITEM:"item_resize",SLOT:"slot_resize"},De={HEADER:"thead",FOOTER:"tfoot"},Bt=u.component("virtual-list",{props:Ot,data:function(){return{range:null}},watch:{"dataSources.length":function(){this.virtual.updateParam("uniqueIds",this.getUniqueIdFromDataSources()),this.virtual.handleDataSourcesChange()},keeps:function(p){this.virtual.updateParam("keeps",p),this.virtual.handleSlotSizeChange()},start:function(p){this.scrollToIndex(p)},offset:function(p){this.scrollToOffset(p)}},created:function(){this.isHorizontal=this.direction==="horizontal",this.directionKey=this.isHorizontal?"scrollLeft":"scrollTop",this.installVirtual(),this.$on(tt.ITEM,this.onItemResized),(this.$slots.header||this.$slots.footer)&&this.$on(tt.SLOT,this.onSlotResized)},activated:function(){this.scrollToOffset(this.virtual.offset),this.pageMode&&document.addEventListener("scroll",this.onScroll,{passive:!1})},deactivated:function(){this.pageMode&&document.removeEventListener("scroll",this.onScroll)},mounted:function(){this.start?this.scrollToIndex(this.start):this.offset&&this.scrollToOffset(this.offset),this.pageMode&&(this.updatePageModeFront(),document.addEventListener("scroll",this.onScroll,{passive:!1}))},beforeDestroy:function(){this.virtual.destroy(),this.pageMode&&document.removeEventListener("scroll",this.onScroll)},methods:{getSize:function(p){return this.virtual.sizes.get(p)},getSizes:function(){return this.virtual.sizes.size},getOffset:function(){if(this.pageMode)return document.documentElement[this.directionKey]||document.body[this.directionKey];var p=this.$refs.root;return p?Math.ceil(p[this.directionKey]):0},getClientSize:function(){var p=this.isHorizontal?"clientWidth":"clientHeight";if(this.pageMode)return document.documentElement[p]||document.body[p];var v=this.$refs.root;return v?Math.ceil(v[p]):0},getScrollSize:function(){var p=this.isHorizontal?"scrollWidth":"scrollHeight";if(this.pageMode)return document.documentElement[p]||document.body[p];var v=this.$refs.root;return v?Math.ceil(v[p]):0},scrollToOffset:function(p){if(this.pageMode)document.body[this.directionKey]=p,document.documentElement[this.directionKey]=p;else{var v=this.$refs.root;v&&(v[this.directionKey]=p)}},scrollToIndex:function(p){if(p>=this.dataSources.length-1)this.scrollToBottom();else{var v=this.virtual.getOffset(p);this.scrollToOffset(v)}},scrollToBottom:function(){var p=this,v=this.$refs.shepherd;if(v){var k=v[this.isHorizontal?"offsetLeft":"offsetTop"];this.scrollToOffset(k),setTimeout(function(){p.getOffset()+p.getClientSize()+1<p.getScrollSize()&&p.scrollToBottom()},3)}},updatePageModeFront:function(){var p=this.$refs.root;if(p){var v=p.getBoundingClientRect(),k=p.ownerDocument.defaultView,M=this.isHorizontal?v.left+k.pageXOffset:v.top+k.pageYOffset;this.virtual.updateParam("slotHeaderSize",M)}},reset:function(){this.virtual.destroy(),this.scrollToOffset(0),this.installVirtual()},installVirtual:function(){this.virtual=new Ce({slotHeaderSize:0,slotFooterSize:0,keeps:this.keeps,estimateSize:this.estimateSize,buffer:Math.round(this.keeps/3),uniqueIds:this.getUniqueIdFromDataSources()},this.onRangeChanged),this.range=this.virtual.getRange()},getUniqueIdFromDataSources:function(){var p=this.dataKey;return this.dataSources.map(function(v){return typeof p=="function"?p(v):v[p]})},onItemResized:function(p,v){this.virtual.saveSize(p,v),this.$emit("resized",p,v)},onSlotResized:function(p,v,k){p===De.HEADER?this.virtual.updateParam("slotHeaderSize",v):p===De.FOOTER&&this.virtual.updateParam("slotFooterSize",v),k&&this.virtual.handleSlotSizeChange()},onRangeChanged:function(p){this.range=p},onScroll:function(p){var v=this.getOffset(),k=this.getClientSize(),M=this.getScrollSize();v<0||v+k>M+1||!M||(this.virtual.handleScroll(v),this.emitEvent(v,k,M,p))},emitEvent:function(p,v,k,M){this.$emit("scroll",M,this.virtual.getRange()),this.virtual.isFront()&&this.dataSources.length&&p-this.topThreshold<=0?this.$emit("totop"):this.virtual.isBehind()&&p+v+this.bottomThreshold>=k&&this.$emit("tobottom")},getRenderSlots:function(p){for(var v=[],k=this.range,M=k.start,J=k.end,Q=this.dataSources,_e=this.dataKey,be=this.itemClass,Ae=this.itemTag,Ue=this.itemStyle,Te=this.isHorizontal,ze=this.extraProps,Oe=this.dataComponent,ht=this.itemScopedSlots,Z=this.$scopedSlots&&this.$scopedSlots.item,Pe=M;Pe<=J;Pe++){var We=Q[Pe];if(We){var ae=typeof _e=="function"?_e(We):We[_e];typeof ae=="string"||typeof ae=="number"?v.push(p(ve,{props:{index:Pe,tag:Ae,event:tt.ITEM,horizontal:Te,uniqueKey:ae,source:We,extraProps:ze,component:Oe,slotComponent:Z,scopedSlots:ht},style:Ue,class:"".concat(be).concat(this.itemClassAdd?" "+this.itemClassAdd(Pe):"")})):console.warn("Cannot get the data-key '".concat(_e,"' from data-sources."))}else console.warn("Cannot get the index '".concat(Pe,"' from data-sources."))}return v}},render:function(p){var v=this.$slots,k=v.header,M=v.footer,J=this.range,Q=J.padFront,_e=J.padBehind,be=this.isHorizontal,Ae=this.pageMode,Ue=this.rootTag,Te=this.wrapTag,ze=this.wrapClass,Oe=this.wrapStyle,ht=this.headerTag,Z=this.headerClass,Pe=this.headerStyle,We=this.footerTag,ae=this.footerClass,ge=this.footerStyle,je={padding:be?"0px ".concat(_e,"px 0px ").concat(Q,"px"):"".concat(Q,"px 0px ").concat(_e,"px")},Ve=Oe?Object.assign({},Oe,je):je;return p(Ue,{ref:"root",on:{"&scroll":!Ae&&this.onScroll}},[k?p(ft,{class:Z,style:Pe,props:{tag:ht,event:tt.SLOT,uniqueKey:De.HEADER}},k):null,p(Te,{class:ze,attrs:{role:"group"},style:Ve},this.getRenderSlots(p)),M?p(ft,{class:ae,style:ge,props:{tag:We,event:tt.SLOT,uniqueKey:De.FOOTER}},M):null,p("div",{ref:"shepherd",style:{width:be?"0px":"100%",height:be?"100%":"0px"}})])}});return Bt}))})(ms)),ms.exports}var Za=Ga();const Ja=ia(Za),Qa=Lt({name:"RouteDropdown",components:{RouteDropDown:gs,VirtualList:Ja},props:{highlightedTransitLines:{type:Array,required:!0},listProps:{type:Object,required:!0}},data(){return{listComponent:gs}},watch:{"listProps.activeTransitLines"(){}},computed:{visibleLines(){return this.highlightedTransitLines.map((l,o)=>(l.offset=o,l)).filter(l=>l.show)}}});var el=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("virtual-list",{staticClass:"my-list",attrs:{"data-sources":o.visibleLines,"data-key":"id","data-component":o.listComponent,keeps:48,"estimate-size":48,"extra-props":o.listProps}})},tl=[],sl=Tt(Qa,el,tl,!1,null,"b40e4d1c");const nl=sl.exports,il="/simwrapper/assets/icon-pie-chart-BS7BHQ_l.png",rl="/simwrapper/assets/icon-blue-ramp-D1d4h-6x.png",ol={messages:{en:{metrics:"Metrics",viewer:"Transit Network"},de:{metrics:"Metrics",viewer:"ÖV Netzwerk"}}},al="EPSG:31468",mr=[{match:{gtfsRouteType:[3,700,701,702,703,704]},color:"#95276E",label:"Bus (GTFS)"},{match:{gtfsRouteType:[109]},color:"#408335",label:"S-Bahn (GTFS)"},{match:{gtfsRouteType:[401,402]},color:"#115D91",label:"U-Bahn (GTFS)"},{match:{gtfsRouteType:[0,3,900,901,902,903,904,905,906]},color:"#BE1414",label:"Tram (GTFS)"},{match:{gtfsRouteType:[4,1e3,1200]},color:"#0480c1",label:"Ferry (GTFS)"},{match:{transportMode:["rail","subway"],id:"U*"},color:"#115D91",label:"U-Bahn"},{match:{transportMode:"rail",id:"S*"},color:"#408335",label:"S-Bahn"},{match:{transportMode:"ferry"},color:"#0480c1",label:"Ferry"},{match:{transportMode:"tram"},color:"#9E1444",label:"Tram"},{match:{transportMode:"pt"},color:"#05c",label:"Public Transport"},{match:{transportMode:"rail"},color:"#EC0016 ",label:"Train"},{match:{transportMode:"train"},color:"#0a0",label:"Rail"},{match:{transportMode:"bus"},color:"#95276E",label:"Bus"},{match:{id:"**"},color:"#aae",label:"Other"}],ll=Lt({name:"TransitViewer",i18n:ol,components:{CollapsiblePanel:ga,DrawingTool:va,LeftDataPanel:Pa,LegendBox:Ha,RouteDropDown:gs,TransitLayers:za,ZoomButtons:_a,LazyList:nl},props:{root:{type:String,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,config:{type:Object},thumbnail:Boolean,datamanager:{type:Object}},data(){const l=[{field:"departures",name_en:"Departures",name_de:"Abfahrten"}];return{viewId:Math.floor(1e12*Math.random()),icons:{piechart:il,blueramp:rl},backgroundLayers:null,loadProgress:0,loadSteps:0,totalLoadSteps:7,searchText:"",isAtlantis:!1,show3dBuildings:!1,isDraggingDivider:0,dragStartWidth:250,legendSectionWidth:275,stopHTML:{html:"",x:0,y:0},buttonColors:["#5E8AAE","#BF7230","#269367","#9C439C"],metrics:l,activeMetric:l[0].field,activeRoutes:[],checkedTransitLines:[],vizDetails:{transitSchedule:"",network:"",demand:"",ptStop2stopFile:"",projection:"",title:"",description:"",colors:[]},myDataManager:this.datamanager||new ca(this.root,this.subfolder),debounceHandleSearchText:{},myState:{subfolder:"",yamlConfig:"",thumbnail:!0},avroNetwork:null,isDarkMode:ut.state.isDarkMode,isMapMoving:!1,isHighlightingLink:!1,loadingText:"MATSim Transit Inspector",networkOptions:[],projection:al,routesOnLink:[],selectedLinkId:"",selectedRouteIds:[],selectedTransitLine:"",selectedFeatures:[],summaryStats:{departures:0,pax:0,loadfac:0},stopMarkers:[],_departures:{},_mapExtentXYXY:null,_maximum:-1/0,_network:{},transitLinks:{type:"FeatureCollection",features:[]},transitLinkOffset:{},routeData:{},_stopFacilities:{},transitLines:[],highlightedTransitLineIds:new Set,_transitFetcher:{},_transitHelper:{},pieSlider:20,widthSlider:20,resolvers:{},resolverId:0,crossFilters:[],stopLevelDemand:{},routeColors:[],usedLabels:[],listComponent:gs}},computed:{fileApi(){return new ma(this.fileSystem,ut)},fileSystem(){const l=this.$store.state.svnProjects.filter(o=>o.slug===this.root);if(l.length===0)throw console.log("no such project"),Error;return l[0]},routeListProps(){return{activeTransitLines:this.activeTransitLines,selectedRoutes:this.selectedRouteIds,searchTerm:this.searchTermClean,color:"#06f",cbToggleLineChecked:this.toggleLineChecked,cbToggleLineOpen:this.toggleLineOpen,cbToggleRouteChecked:this.toggleRouteChecked}},searchTermClean(){return this.searchText.trim().toLocaleLowerCase()},highlightedTransitLines(){const l=!this.highlightedTransitLineIds.size;return this.transitLines.forEach(o=>{o.show=l||this.highlightedTransitLineIds.has(o.id)}),[...this.transitLines]},activeTransitLines(){const l={};this.routesOnLink.forEach(u=>{u.lineId in l||(l[u.lineId]={id:u.lineId,routes:[],isOpen:!1,stats:{departures:0,pax:0,cap:0}}),l[u.lineId].routes.push(u)});const o={};return this.crossFilters.forEach(u=>{u.cfDemandStop.filterAll(),u.cfDemandLink.filter(c=>c.indexOf(this.selectedLinkId)>-1);let h=u.cfDemand.allFiltered();h&&h.forEach(c=>{c.transitRoute in o||(o[c.transitRoute]=[]),o[c.transitRoute].push(c)})}),Object.values(l).forEach(u=>{u.routes.sort((h,c)=>ar(h.id,c.id)),u.routes.forEach(h=>{h.pax=0,h.cap=0,u.stats.departures+=h.departures;const c=o[h.id];if(c){const L=c.reduce((C,T)=>C+T.passengersAtArrival,0);u.stats.pax+=L,h.pax+=L;const w=c.reduce((C,T)=>C+T.totalVehicleCapacity,0);u.stats.cap+=w,h.cap+=w}h.loadfac=h.pax/h.cap})}),l},legendRows(){return this.routeColors.filter(l=>this.usedLabels.includes(l.label)).map(l=>[l.color,l.label])}},watch:{"$store.state.colorScheme"(){this.isDarkMode=this.$store.state.colorScheme===ra.DarkMode,this.highlightAllAttachedRoutes()},selectedRouteIds(){this.showTransitRoutes(),this.showTransitStops(),this.updateSummaryStats()},searchText(){this.debounceHandleSearchText()}},methods:{async selectNetwork(l){console.log(l),this.vizDetails.network=l,this.networkOptions=[],await this.findInputFiles(),await this.loadEverything()},clickedLegend(l){console.log("boop!",l)},toggleRouteChecked(l){l.isChecked?this.routesOnLink.push(this.routeData[l.route]):this.routesOnLink=this.routesOnLink.filter(o=>o.id!==l.route),this.routesOnLink.length?this.highlightAllAttachedRoutes():(this.selectedLinkId="",this.resetLinkColors(),this.highlightedTransitLineIds=new Set,this.transitLinks={...this.transitLinks}),this.selectedRouteIds=this.routesOnLink.map(o=>o.id)},toggleLineOpen(l){const o=this.transitLines[l.offset];o.isOpen=l.isOpen},toggleLineChecked(l){const o=this.transitLines[l.offset],u=o.id.toLocaleLowerCase();o.check=l.isChecked;const h=Object.values(this.routeData).filter(c=>c.lineId.toLocaleLowerCase()==u);if(o.check)h.forEach(c=>{this.selectedRouteIds.includes(c.id)||this.routesOnLink.push(c)}),this.selectedTransitLine=o.id;else{const c=h.map(L=>L.id);this.routesOnLink=this.routesOnLink.filter(L=>!c.includes(L.id))}this.selectedRouteIds=this.routesOnLink.map(c=>c.id),this.routesOnLink.length?this.highlightAllAttachedRoutes():(this.selectedLinkId="",this.resetLinkColors(),this.highlightedTransitLineIds=new Set,this.transitLinks={...this.transitLinks})},updateSummaryStats(){this.summaryStats={departures:0,pax:0,loadfac:0};for(const l of this.selectedRouteIds){const o=this.routeData[l];o.departures&&(this.summaryStats.departures+=o.departures),o.pax&&(this.summaryStats.pax+=o.pax)}},handleMapClick(l){if(l.index>-1&&l.layer?.id==="linkLayer")this.clickedOnTransitLink(l.index);else{if(l.index>-1)return;this.handleEmptyClick(!0,!1)}},incrementLoadProgress(){this.loadSteps+=1,this.loadProgress=100*this.loadSteps/this.totalLoadSteps},handleSearchText(){this.handleEmptyClick(null,!0),this.selectedLinkId="";const l=this.searchText.trim().toLocaleLowerCase();if(!l){this.resetLinkColors();return}let o=[],u=[],h;if(l.startsWith("/")&&l.endsWith("/")){const c=this.searchText.slice(1,this.searchText.length-1);h=new RegExp(c,"gu")}h?(o=Object.keys(this.routeData).filter(c=>c.match(h)),u=this.transitLines.filter(c=>c.id.match(h)).map(c=>c.id)):(o=Object.keys(this.routeData).filter(c=>c.toLocaleLowerCase().indexOf(l)>-1),u=this.transitLines.filter(c=>c.id.toLocaleLowerCase().indexOf(l)>-1).map(c=>c.id)),this.routesOnLink=o.map(c=>this.routeData[c]),this.highlightAllAttachedRoutes(),this.highlightedTransitLineIds=new Set(u),this.selectedRouteIds=this.routesOnLink.map(c=>c.id)},hoverOverStop(l,o){this.stopHTML.html="";const u=[];l.name&&u.push(`<b>${l.name}</b>`);for(const h of["id","linkRefId"])l[h]&&u.push(`${h}: ${l[h]}`);this.stopHTML.html="<p>"+u.join("<br/>")+"</p>",this.stopHTML.x=l.xy.x+8,this.stopHTML.y=l.xy.y-36},dividerDragStart(l){console.log("dragstart"),this.isDraggingDivider=l.clientX,this.dragStartWidth=this.legendSectionWidth},dividerDragEnd(l){this.isDraggingDivider=0},dividerDragging(l){if(!this.isDraggingDivider)return;const o=this.isDraggingDivider-l.clientX;this.legendSectionWidth=Math.max(0,this.dragStartWidth+o)},async getVizDetails(){if(this.config)return this.vizDetails=Object.assign({},this.config),this.sync3dBuildingsSetting(),!0;if(this.myState.yamlConfig?.endsWith("yaml")||this.myState.yamlConfig?.endsWith("yml"))return this.loadYamlConfig();const l=this.myState.yamlConfig;return this.vizDetails={transitSchedule:this.myState.yamlConfig,network:"",title:l,description:"",demand:"",ptStop2stopFile:"",projection:"",colors:[]},this.$emit("title",l),this.sync3dBuildingsSetting(),!0},sync3dBuildingsSetting(){this.show3dBuildings=!!(this.vizDetails.buildings3d??this.vizDetails.show3dBuildings)},toggle3dBuildings(){this.show3dBuildings=!this.show3dBuildings},async findInputFiles(){const{files:l}=await this.fileApi.getDirectory(this.myState.subfolder);let o=this.vizDetails.network;if(!o){const h=l.filter(c=>c.toLocaleLowerCase().endsWith(".avro")).filter(c=>c.toLocaleLowerCase().indexOf("network")>-1);h.length&&(console.log("avro network found"),o=h[0]),h.length>1&&console.warn("MULTIPLE Avro files found - using first of ",h)}if(!o&&this.myState.yamlConfig.indexOf("transitSchedule")>-1&&(o=this.myState.yamlConfig.replaceAll("transitSchedule","network")),l.indexOf(o)==-1){const h=l.filter(L=>L.toLocaleLowerCase().match(/(\.xml|\.gz)$/)),c=[];if(await Promise.all(h.map(async L=>{const w=`${this.myState.subfolder}/${L}`;await this.fileApi.probeXmlFileType(w)==="network"&&c.push(L)})),console.log("all networks",c),c.length==1)o=c[0];else{this.loadingText="Choose network file:",o="",this.networkOptions=c;return}}let u=[];if(this.myState.yamlConfig.indexOf("output_transitSchedule")>-1)try{u=(await this.fileApi.getDirectory(`${this.myState.subfolder}/analysis/pt/`)).files.filter(c=>c.includes("pt_pax_volumes."))}catch{console.log("no transit demand file: pt_pax_volumes")}this.vizDetails.network=o,u.length&&(this.vizDetails.demand=`analysis/pt/${u[0]}`)},async guessProjection(l){if(this.vizDetails.projection)return this.vizDetails.projection;if(this.config?.projection)return this.config.projection;if(l?.roadXML?.crs)return l?.roadXML?.crs;if(l?.roadXML?.network?.attributes?.attribute?.name==="coordinateReferenceSystem")return l?.roadXML?.network?.attributes?.attribute["#text"];const o=/EPSG:.\d/,{files:u}=await this.fileApi.getDirectory(this.myState.subfolder),h=u.filter(w=>w.indexOf(".output_config.xml")>-1||w.indexOf(".output_config_reduced.xml")>-1);if(h.length&&this.fileSystem)for(const w of h)try{return(await this.fetchXML({worker:null,slug:this.fileSystem.slug,filePath:this.myState.subfolder+"/"+w})).config.module.filter(A=>A.$name==="global")[0].param.filter(A=>A.$name==="coordinateSystem")[0].$value}catch{console.warn("Failed parsing",w)}let c=prompt("Need coordinate EPSG number:","")||"";return c?Number.isNaN(parseInt(c,10))&&!o.test(c)?this.guessProjection(l):(c.startsWith("EPSG:")||(c="EPSG:"+c),c):""},async loadYamlConfig(){const l=this.myState.yamlConfig.indexOf("/")>-1?this.myState.yamlConfig:this.myState.subfolder+"/"+this.myState.yamlConfig;try{const u=await this.fileApi.getFileText(l);this.vizDetails=ha.parse(u)}catch(u){const h=u;if(this.fileSystem&&this.fileSystem.needPassword&&h.status===401)this.$store.commit("requestLogin",this.fileSystem.slug);else{const c="Could not load "+l;this.$emit("error",c),this.loadingText=c}return!1}const o=this.vizDetails.title?this.vizDetails.title:"Transit Ridership";return this.$emit("title",o),this.projection=this.vizDetails.projection,this.sync3dBuildingsSetting(),!0},isMobile(){const l=window,o=document,u=o.documentElement,h=o.getElementsByTagName("body")[0],c=l.innerWidth||u.clientWidth||h.clientWidth;return l.innerHeight||u.clientHeight||h.clientHeight,c<640},drawMetric(){this.transitLinks.features.forEach(l=>{let o=1;switch(this.activeMetric){case"departures":o=l.properties.departures;break;case"pax":o=l.properties.pax;break;case"loadfac":o=l.properties.loadfac*1e4;break}l.properties.width=o}),this.transitLinks={...this.transitLinks}},handleClickedMetric(l){console.log("metric:",l.field),this.activeMetric=l.field,this.drawMetric()},handleEmptyClick(l,o){if(!l&&this.isHighlightingLink){this.isHighlightingLink=!1;return}this.isHighlightingLink=!1,this.highlightedTransitLineIds=new Set,o||(this.searchText=""),!(this.searchText&&!o)&&(this.removeStopMarkers(),this.removeSelectedRoute(),this.resetLinkColors(),this.routesOnLink=[],this.stopHTML.html="",this.summaryStats={departures:0,pax:0,loadfac:0},this.transitLinks={...this.transitLinks})},async loadEverything(){const l=await this.loadNetworks();if(!l)return;const o=await this.guessProjection(l);this.projection=o,this.processInputs(l)},setupKeyListeners(){window.addEventListener("keyup",l=>{l.keyCode===27&&this.pressedEscape()}),window.addEventListener("keydown",l=>{l.keyCode===38&&this.pressedArrowKey(-1),l.keyCode===40&&this.pressedArrowKey(1)})},fetchXML(l){let o=l.worker;o.onmessage=c=>{const{resolve:L,reject:w}=this.resolvers[c.data.id];o.terminate(),c.data.error&&w(c.data.error),L(c.data.xml)};const u=this.resolverId++;return o.postMessage({id:u,fileSystem:this.fileSystem,filePath:l.filePath,options:l.options}),new Promise((c,L)=>{this.resolvers[u]={resolve:c,reject:L}})},async updateStatus(l){this.loadingText=l},async loadAvroRoadNetwork(){console.log("LOADING AVRO:",this.vizDetails.network);const l=`${this.subfolder}/${this.vizDetails.network}`,o=await this.fileApi.getFileBlob(l),u=await new Promise((h,c)=>{const L=[];la.createBlobDecoder(o).on("metadata",w=>{}).on("data",w=>{L.push(w)}).on("end",()=>{h(L)})});return this.avroNetwork=u[0],u[0]},async loadNetworks(){try{if(!this.fileSystem||!this.vizDetails.network||!this.vizDetails.transitSchedule)return;this.loadingText="Loading networks...",this.incrementLoadProgress();const l=this.vizDetails.network,o=await this.myDataManager.getRoadNetwork(l,this.subfolder,this.vizDetails,this.updateStatus);this.isAtlantis=!!o.isAtlantis,this.avroNetwork=o;const u=this.fetchXML({worker:this._transitFetcher,slug:this.fileSystem.slug,filePath:this.myState.subfolder+"/"+this.vizDetails.transitSchedule,options:{attributeNamePrefix:"",alwaysArray:["transitSchedule.transitLine.transitRoute","transitSchedule.transitLine.transitRoute.departures.departure"]}}),h=await Promise.all([o,u]);return{roadXML:h[0],transitXML:h[1],ridership:[]}}catch(l){return console.error("TRANSIT:",l),this.loadingText="",this.$emit("error",""+l),null}},loadDemandData(l){return this.totalLoadSteps+=3,this.loadingText="Loading demand...",new Promise((u,h)=>{l||u([]),this.incrementLoadProgress();const c=new xa;c.onmessage=L=>{if(this.loadingText="Processing demand...",this.incrementLoadProgress(),c.terminate(),L.data.error){this.$emit("error",L.data.error),this.loadingText="";return}const w=1e8;let C=0,T=new Uint8Array(L.data);const j=new TextDecoder("utf-8"),P=j.decode(T.subarray(0,1024)).split(`
`)[0];for(;C<L.data.byteLength;){let A=C+w,te=new Uint8Array(L.data).subarray(C,A),oe=te.length;for(;te[oe]!==10&&oe>0;)oe--;if(!oe)break;te=new Uint8Array(L.data).subarray(C,C+oe);let Me=j.decode(te);C>0&&(Me=P+Me);const fe=fa.parse(Me,{header:!0,skipEmptyLines:!0,dynamicTyping:!1});this.processDemand(fe),C+=oe}this.metrics=this.metrics.concat([{field:"pax",name_en:"Passengers",name_de:"Passagiere"},{field:"loadfac",name_en:"Load Factor",name_de:"Auslastung"}]),this.loadProgress=100,this.transitLinks.features.forEach(A=>{try{A.properties.loadfac=Math.round(1e3*A.properties.pax/A.properties.cap)/1e3}catch{A.properties.loadfac=0}}),u([])},c.postMessage({filePath:this.myState.subfolder+"/"+l,fileSystem:this.fileSystem})})},processDemand(l){this.loadingText="Summarizing demand data...",this.incrementLoadProgress();const o=["passengersAlighting","passengersAtArrival","passengersBoarding","stopSequence","totalVehicleCapacity"];l.data.forEach(w=>{for(const C of o)w[C]=parseFloat(w[C])});const u=ua(l.data);this.crossFilters.push({cfDemand:u,cfDemandLink:u.dimension(w=>w.linkIdsSincePreviousStop),cfDemandStop:u.dimension(w=>w.stop)});for(const w of l.data){const C=w.stop;this.stopLevelDemand[C]||(this.stopLevelDemand[C]={b:0,a:0,ptLines:{}}),this.stopLevelDemand[C].b+=w.passengersBoarding,this.stopLevelDemand[C].a+=w.passengersAlighting;const T=w.transitLine;this.stopLevelDemand[C].ptLines[T]||(this.stopLevelDemand[C].ptLines[T]={name:T,b:0,a:0}),this.stopLevelDemand[C].ptLines[T].a+=w.passengersAlighting,this.stopLevelDemand[C].ptLines[T].b+=w.passengersBoarding}console.log("---Calculating link-by-link pax/cap");const h={},c={};let L=",";l.data.length&&(L=l.data[0].linkIdsSincePreviousStop.indexOf(",")>-1?",":";");for(const w of l.data)if(w.linkIdsSincePreviousStop){const C=w.linkIdsSincePreviousStop.split(L);for(const T of C)h[T]||(h[T]=0),h[T]+=w.passengersAtArrival,c[T]||(c[T]=0),c[T]+=w.totalVehicleCapacity}for(const w of this.transitLinks.features)w.properties||(w.properties={pax:0,cap:0,loadfac:0}),w.properties.pax=(w.properties.pax||0)+(h[w.properties.id]||0),w.properties.cap=(w.properties.cap||0)+(c[w.properties.id]||0);return[]},async processInputs(l){this.loadingText="Examining networks...",this.incrementLoadProgress(),this._transitHelper.onmessage=u=>{this.receivedProcessedTransit(u)};let o=this.vizDetails.projection;if(!o)try{let u=l?.transitXML?.transitSchedule?.attributes?.attribute;u.length||(u=[u]),u=u.filter(h=>h.name==="coordinateReferenceSystem"),u.length?o=u[0]["#text"]:o=this.projection}catch{o=this.projection}console.log("Transit schedule using",o),this._transitHelper.postMessage({xml:l,projection:o})},async receivedProcessedTransit(l){if(l.data.status){this.loadingText=l.data.status,this.incrementLoadProgress();return}if(l.data.error){console.error(l.data.error),this.$emit("error",""+l.data.error),this.loadingText="";return}const{network:o,routeData:u,stopFacilities:h,transitLines:c,mapExtent:L}=l.data;this._network=o,this.routeData=u,this._stopFacilities=h,this.transitLines=Array.isArray(c)?c:[c],this._mapExtentXYXY=L,this._transitHelper.terminate(),this.loadingText="Summarizing departures...",this.incrementLoadProgress();const w=this.vizDetails.customRouteTypes||this.vizDetails.colors||null;w&&Array.isArray(w)&&w.length>0?this.routeColors=w:w&&!Array.isArray(w)?(this.$emit("error","YAML colors must be a list of rules, see docs"),this.routeColors=mr):this.routeColors=mr,await this.processDepartures();try{this.transitLinks=await this.constructDepartureFrequencyGeoJson()}catch(te){const oe=""+te||"Failed processing departure links";this.$emit("error",oe)}this._network={links:{},nodes:{}},this.transitLinkOffset={},this.transitLinks.features.forEach((te,oe)=>{this.transitLinkOffset[te.properties.id]=oe}),this.drawMetric(),this.handleClickedMetric({field:"departures"});const C=.5*(this._mapExtentXYXY[0]+this._mapExtentXYXY[2]),T=.5*(this._mapExtentXYXY[1]+this._mapExtentXYXY[3]),j=Math.abs(this._mapExtentXYXY[0]-this._mapExtentXYXY[2]);let P=j?Math.floor(Math.log2(360/j)):9;this.$store.commit("setMapCamera",{center:[C,T],zoom:P,bearing:0,pitch:0});const A=this.vizDetails.demand||this.vizDetails.ptStop2stopFile;A&&await this.loadDemandData(A),this.loadingText=""},async processDepartures(){this.loadingText="Processing departures...",this.incrementLoadProgress();for(const l of this.transitLines){l.transitRoutes.sort((o,u)=>ar(o.id,u.id));for(const o of l.transitRoutes)for(const u of o.route)u in this._departures||(this._departures[u]={total:0,routes:new Set}),this._departures[u].total+=o.departures,this._departures[u].routes.add(o.id)}Object.values(this._departures).forEach(l=>this._maximum=Math.max(this._maximum,l.total))},async constructDepartureFrequencyGeoJson(){const l=[];this.usedLabels=[];const o=this.avroNetwork?.nodeCoordinates;for(const u in this._departures)if(this._departures.hasOwnProperty(u)){const h=this._network.links[u];if(h==null)continue;let c;try{if(this.avroNetwork){const P=2*this.avroNetwork.from[h],A=2*this.avroNetwork.to[h];c=[[o[P],o[1+P]],[o[A],o[1+A]]]}else c=[[this._network.nodes[h.from].x,this._network.nodes[h.from].y],[this._network.nodes[h.to].x,this._network.nodes[h.to].y]]}catch(P){console.warn(""+P);continue}const L=this._departures[u].total,C=[...this._departures[u].routes][0],{color:T,hideThisLine:j}=this.determineRouteColor(C);if(!j){let P={type:"Feature",geometry:{type:"LineString",coordinates:c},properties:{...this.$props,color:T,departures:L,id:u,from:h.from,to:h.to,currentColor:T}};P=this.offsetLineByMeters(P,5),l.push(P)}}if(!l.length)throw Error("No links found. Does the network contain PT links?");return{type:"FeatureCollection",features:l}},determineRouteColor(l){let o="#888",u=!1;const h=this.routeData[l];for(const L of this.routeColors){u=!1,L.hide&&(u=!0);let w=!0,C=L.match;try{if(Array.isArray(C)){const T={};for(const j of C){const[P,A]=Object.entries(j)[0];T[P]=A}C=T}}catch{console.warn("Match rules malformed",C)}for(const[T,j]of Object.entries(C)){const P=h[T];if(!P){w=!1;break}if(T==="gtfsRouteType"){if(Array.isArray(j)){if(!j.includes(P)){w=!1;break}}else if(P!==j){w=!1;break}}else if(!pa.isMatch(P,j)){w=!1;break}}if(w){o=L.color,!this.usedLabels.includes(L.label)&&!u&&this.usedLabels.push(L.label);break}}o=="#888"&&console.log("OHE NOES",l);const c=Array.isArray(o)?o:this.colorToRGB(o);return h.color=c,{color:c,hideThisLine:u}},colorToRGB(l){try{const o=gr(l);return o?[o.r,o.g,o.b]:[0,0,0]}catch{return[0,0,0]}},offsetLineByMeters(l,o){try{return aa(l,o,{units:"meters"})}catch{}return l},removeStopMarkers(){this.stopMarkers=[],this.stopHTML.html=""},XXtoggleTransitLine(l){l.isOpen=!l.isOpen,l.isOpen?(this.selectedTransitLine=l.id,this.selectAllRoutesInLine(l)):(this.selectedTransitLine="",this.removeStopMarkers(),this.removeSelectedRoute()),this.$forceUpdate()},selectAllRoutesInLine(l){const o=l.routes.map(u=>u.id);this.selectedRouteIds=o,this.showTransitRoutes(),this.showTransitStops()},showRouteDetails(l,o){if(o>1&&this.selectedRouteIds.length==o)this.selectedRouteIds=[l];else{const u=new Set(this.selectedRouteIds);u.has(l)?u.delete(l):u.add(l),this.selectedRouteIds=[...u]}this.showTransitRoutes(),this.showTransitStops()},showTransitStops(){const l={};this.selectedRouteIds.forEach(o=>{const u=this.routeData[o],h=u.routeProfile,c=h.length;let L;for(const[w,C]of h.entries()){const T=this._stopFacilities[C.refId],j=or([T.x,T.y]);if(w<c-1){const A=this._stopFacilities[u.routeProfile[w+1].refId],te=or([A.x,A.y]);L=oa(j,te)}const P={i:w,bearing:L,xy:[T.x,T.y],name:T.name||"",id:C.refId||"",linkRefId:T.linkRefId||""};if(this.stopLevelDemand){const A=this.stopLevelDemand[C.refId];A&&(P.boardings=A.b,P.alightings=A.a,P.ptLines=A.ptLines)}P.id in l?(l[P.id].boardings=P.boardings,l[P.id].alightings=P.alightings):l[P.id]=P}}),this.stopMarkers=Object.values(l)},showTransitRoutes(){this.stopHTML.html="";const l=[];this.selectedRouteIds.forEach(o=>{const u=this.routeData[o];l.push(u.geojson)}),this.selectedFeatures=l},removeSelectedRoute(){this.selectedFeatures=[],this.selectedRouteIds=[]},clickedOnTransitLink(l){this.isHighlightingLink=!0,this.removeStopMarkers(),this.removeSelectedRoute();const o=this.transitLinks.features[l].properties;this.selectedLinkId=o.id;const u=this._departures[o.id].routes;let h={departures:0,pax:0,loadfac:0};const c=this.transitLinks[this.transitLinkOffset[o.id]];this.summaryStats=c?c.properties:h;const L=[],w=new Set;for(const C of u){const T=this.routeData[C];T.color=o.color,T.currentColor=o.color,L.push(T),w.add(T.lineId)}this.routesOnLink=L,this.highlightAllAttachedRoutes(),this.selectedRouteIds=this.routesOnLink.map(C=>C.id),this.highlightedTransitLineIds=w},resetLinkColors(l){if(l)for(const o of this.transitLinks.features)o.properties.currentColor=l,o.properties.sort=0;else for(const o of this.transitLinks.features)o.properties.currentColor=o.properties.color,o.properties.sort=1},highlightAllAttachedRoutes(){if(this.transitLinks){if(this.routesOnLink.length){const l=this.colorToRGB(this.isDarkMode?"#333344":"#ccccdd");this.resetLinkColors(l)}else this.resetLinkColors();for(const l of this.routesOnLink)for(const o of l.route){const u=this.transitLinkOffset[o],h=this.transitLinks.features[u];h.properties.currentColor=l.color||h.properties.color,h.properties.sort=5}if(this.selectedLinkId){const l=this.transitLinks.features[this.transitLinkOffset[this.selectedLinkId]];l.properties.currentColor=this.colorToRGB("#f4f"),l.properties.sort=5}this.transitLinks={...this.transitLinks}}},pressedEscape(){console.log("ESC"),this.removeSelectedRoute(),this.removeStopMarkers(),this.resetLinkColors(),this.routesOnLink=[]},pressedArrowKey(l){},clearData(){this._departures={},this._mapExtentXYXY=[180,90,-180,-90],this._maximum=0,this._network={nodes:{},links:{}},this.routeData={},this._stopFacilities={},this.transitLinks={type:"FeatureCollection",features:[]},this.transitLines=[],this.selectedRouteIds=[],this.resolvers={},this.routesOnLink=[],this.stopMarkers=[],this.searchText="",this.crossFilters.forEach(l=>{l.cfDemandLink.dispose(),l.cfDemandStop.dispose(),l.cfDemand=null})}},async mounted(){if(this.$store.commit("setFullScreen",!this.thumbnail),this.debounceHandleSearchText=da.debounce(this.handleSearchText,350),this.clearData(),this._transitFetcher=new ya,this._transitHelper=new Ia,this.myState.subfolder=this.subfolder,this.myState.yamlConfig=this.yamlConfig??"",this.myState.thumbnail=this.thumbnail,!!await this.getVizDetails()&&!this.thumbnail){this.vizDetails.network||await this.findInputFiles();try{this.backgroundLayers=new La({vizDetails:this.vizDetails,fileApi:this.fileApi,subfolder:this.subfolder}),await this.backgroundLayers.initialLoad()}catch{this.$emit("error","Error loading background layers")}this.loadEverything()}},beforeDestroy(){console.log("DESTROYING"),this.clearData(),this._transitFetcher?.terminate(),this._transitHelper?.terminate()}});var cl=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"transit-viz",class:{"hide-thumbnail":!o.thumbnail},attrs:{id:"transit-viz"}},[o.thumbnail?o._e():u("div",{staticClass:"main-layout",on:{mousemove:o.dividerDragging,mouseup:o.dividerDragEnd}},[u("div",{staticClass:"dragger",on:{mousedown:o.dividerDragStart,mouseup:o.dividerDragEnd,mousemove:function(h){return h.stopPropagation(),o.dividerDragging.apply(null,arguments)}}}),u("div",{staticClass:"map-container",class:{"hide-thumbnail":!o.thumbnail},attrs:{oncontextmenu:"return false"}},[o.transitLinks?.features.length?u("transit-layers",{staticClass:"map-styles",attrs:{viewId:o.viewId,links:o.transitLinks,selectedFeatures:o.selectedFeatures,stopMarkers:o.stopMarkers,handleClickEvent:o.handleMapClick,pieSlider:o.pieSlider||0,widthSlider:o.widthSlider,transitLines:o.activeTransitLines,vizDetails:o.vizDetails,isAtlantis:o.isAtlantis,bgLayers:o.backgroundLayers,show3dBuildings:o.show3dBuildings}}):o._e(),o.transitLines.length?u("div",{staticClass:"width-sliders flex-row",style:{backgroundColor:o.isDarkMode?"#00000099":"#ffffffaa"}},[u("img",{staticClass:"icon-blue-ramp",attrs:{src:o.icons.blueramp}}),u("b-slider",{staticClass:"pie-slider",attrs:{type:"is-success",tooltip:!1,size:"is-small"},model:{value:o.widthSlider,callback:function(h){o.widthSlider=h},expression:"widthSlider"}}),o.crossFilters.length?u("img",{staticClass:"icon-pie-slider",attrs:{src:o.icons.piechart}}):o._e(),o.crossFilters.length?u("b-slider",{staticClass:"pie-slider",attrs:{type:"is-success",tooltip:!1,size:"is-small"},model:{value:o.pieSlider,callback:function(h){o.pieSlider=h},expression:"pieSlider"}}):o._e()],1):o._e(),u("zoom-buttons",{attrs:{corner:"top-left",show3dToggle:!0,is3dBuildings:o.show3dBuildings,onToggle3dBuildings:o.toggle3dBuildings}}),o.loadingText?u("div",{staticClass:"status-corner flex-col",style:{height:o.networkOptions.length?"15rem":"5rem"}},[u("p",[o._v(o._s(o.loadingText))]),o.loadProgress>0?u("b-progress",{staticClass:"load-progress",attrs:{value:o.loadProgress,rounded:!1,type:"is-success"}}):o._e(),o.networkOptions.length?u("div",{staticClass:"network-options flex-col"},o._l(o.networkOptions,function(h){return u("b-button",{key:h,staticClass:"xbutton is-small center",attrs:{expanded:""},on:{click:function(c){return o.selectNetwork(h)}}},[o._v(" "+o._s(h))])}),1):o._e()],1):o._e()],1),u("div",{staticClass:"right-panel-holder",style:{width:`${o.legendSectionWidth}px`}},[u("div",{staticClass:"right-side-column"},[o._m(0),o.metrics.length>1?u("div",{staticClass:"panel-item"},[u("div",{staticClass:"metric-buttons"},o._l(o.metrics,function(h,c){return u("button",{key:h.field,staticClass:"button is-small metric-button",style:{color:o.activeMetric===h.field?"white":o.buttonColors[c],border:`1px solid ${o.buttonColors[c]}`,"background-color":o.activeMetric===h.field?o.buttonColors[c]:o.isDarkMode?"#333":"white"},on:{click:function(L){return o.handleClickedMetric(h)}}},[o._v(o._s(o.$i18n.locale==="de"?h.name_de:h.name_en))])}),0)]):o._e(),o.transitLines.length?u("b-input",{staticClass:"searchbox",staticStyle:{padding:"0rem 0.5rem 0.75rem 0"},attrs:{size:"is-small",placeholder:"Search line ID or /regex/"},model:{value:o.searchText,callback:function(h){o.searchText=h},expression:"searchText"}}):o._e(),u("div",{staticClass:"transit-lines flex-col flex1"},[u("lazy-list",{staticClass:"flex1",attrs:{highlightedTransitLines:o.highlightedTransitLines,listProps:o.routeListProps}})],1),u("div",{staticClass:"summary-stats flex-col"},[o._m(1),u("p",{style:{visibility:o.selectedRouteIds.length?"visible":"hidden"}},[u("b",[o._v(o._s(o.selectedRouteIds.length))]),o._v("  selected route"+o._s(o.selectedRouteIds.length!=1?"s":""))]),u("div",{staticClass:"flex-row",style:{visibility:o.selectedRouteIds.length?"visible":"hidden",gap:"0.5rem"}},[u("div",{staticClass:"aa"},[u("b",[o._v(o._s(o.summaryStats.departures))]),o._v(" Departures")]),o.crossFilters.length?u("div",{staticClass:"aa"},[u("b",[o._v(o._s(o.summaryStats.pax))]),o._v(" Passengers")]):o._e()])]),o.thumbnail?o._e():u("legend-box",{staticClass:"legend",attrs:{rows:o.legendRows},on:{click:o.clickedLegend}})],1)])])])},ul=[function(){var l=this,o=l._self._c;return l._self._setupProxy,o("p",{staticStyle:{"margin-top":"0.25rem"}},[o("b",[l._v("TRANSIT INSPECTOR")])])},function(){var l=this,o=l._self._c;return l._self._setupProxy,o("div",{staticClass:"sum-stat-title"},[o("b",[l._v("SUMMARY STATISTICS")])])}],dl=Tt(ll,cl,ul,!1,null,"cfcf5b65");const Ul=dl.exports;export{Ul as default};
