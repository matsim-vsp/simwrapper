import{d as i,n as l}from"./index-BSRT1qCd.js";import{H as n}from"./HTTPFileSystem-CM0ZTrcf.js";import"./fxp-DXsl1rlp.js";const a=i({name:"VideoPanel",props:{fileSystemConfig:{type:Object,required:!0},subfolder:{type:String,required:!0},files:{type:Array,required:!0},config:{type:Object,required:!0}},data:()=>({controls:"controls",allowfullscreen:"allowfullscreen",loop:"",autoplay:"",muted:"",sources:{},r:new RegExp("^(?:[a-z]+:)?//","i")}),mounted(){this.loop=this.config.loop??"loop",this.allowfullscreen=this.config.allowfullscreen??"allowfullscreen",this.controls=this.config.controls??"controls",this.autoplay=this.config.autoplay??"",this.muted=this.config.muted??"";const r=new n(this.fileSystemConfig);for(let e in this.config.sources)try{let o=this.config.sources[e];this.r.test(o)||(o=r.cleanURL(`${this.subfolder}/${o}`)),(e.indexOf("/")==-1||!e.startsWith("video/"))&&(e="video/"+e),this.sources[e]=o}catch(o){r.hasHandle()?this.$emit("error","Cannot play videos on Chrome local filesystem"):this.$emit("error",""+o+"...make sure video type is video/mp4")}this.$emit("isLoaded")}});var c=function(){var e=this,o=e._self._c;return e._self._setupProxy,o("figure",{staticClass:"video_container"},[o("video",{attrs:{controls:e.controls,loop:e.loop,allowfullscreen:e.allowfullscreen,autoplay:e.autoplay},domProps:{muted:e.muted}},[e._l(e.sources,function(s,t){return o("source",{key:t,attrs:{src:s,type:t}})}),e._l(e.sources,function(s,t){return o("p",{key:"p1 "+t},[e._v("Video tag not supported. Download the videoÂ "),o("a",{attrs:{href:s,target:"_blank"}},[e._v("here")])])})],2)])},u=[],f=l(a,c,u,!1,null,"3a1df5d0");const h=f.exports;export{h as default};
