import{d as i,R as a,g as n,n as o}from"./index-D_sw2g-2.js";import{H as l}from"./HTTPFileSystem-ChhivMzi.js";import{Z as d}from"./ZoomButtons-B4PrQ7mG.js";import"./fxp-DjoqftHf.js";const m={messages:{en:{carriers:"Carriers"},de:{carriers:"Unternehmen"}}},u=i({name:"Pie",i18n:m,components:{ZoomButtons:d},props:{root:{type:String,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,config:Object,thumbnail:Boolean},data:()=>({linkLayerId:Math.floor(1e12*Math.random()),sliderValue:50,scale:50,allPies:[]}),computed:{fileApi(){return new l(this.fileSystem,n)},fileSystem(){const r=this.$store.state.svnProjects.filter(e=>e.slug===this.root);if(r.length===0)throw console.log("no such project"),Error;return r[0]},urlThumbnail(){return""}},watch:{"$store.state.viewState"(){a[this.linkLayerId]&&a[this.linkLayerId]()},"globalState.isDarkMode"(){}},methods:{async updateSlider(){if(this.scale=this.sliderValue,this.allPies.length==0)return;const r=[...this.allPies];this.allPies=[],await new Promise(e=>{setTimeout(()=>{e(!0)},1)}),this.allPies=r,await this.$nextTick()},randomSlice(){const r=Math.ceil(Math.random()*8),e=[];for(let t=0;t<r;t++)e.push({value:Math.random(),color:[255*Math.random(),255*Math.random(),255*Math.random()]});return e},generateRandomPies(r){const e=[];for(let t=0;t<r;t++){const s={center:[13.45+(.5-Math.random()),52.5+(.5-Math.random())],radius:Math.random()/20,slices:this.randomSlice()};e.push(s)}return e}},mounted(){this.allPies=this.generateRandomPies(75)},beforeDestroy(){delete a[this.linkLayerId]}});var c=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"my-component",attrs:{oncontextmenu:"return false"}},[t("pie-thing",{staticClass:"pie-thing",attrs:{viewId:`${e.linkLayerId}`,pies:e.allPies,scale:e.scale}}),e.thumbnail?e._e():t("zoom-buttons"),t("b-slider",{staticClass:"my-slider",attrs:{type:"is-danger"},on:{input:e.updateSlider},model:{value:e.sliderValue,callback:function(s){e.sliderValue=s},expression:"sliderValue"}})],1)},h=[],p=o(u,c,h,!1,null,"66057f92");const S=p.exports;export{S as default};
