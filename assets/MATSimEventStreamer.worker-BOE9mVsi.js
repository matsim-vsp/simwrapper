(function(){"use strict";function Ae(l){let i=l.length;for(;--i>=0;)l[i]=0}const yn=3,En=258,Lt=29,wn=256+1+Lt,Ht=30,mn=512,xn=new Array((wn+2)*2);Ae(xn);const Rn=new Array(Ht*2);Ae(Rn);const vn=new Array(mn);Ae(vn);const Cn=new Array(En-yn+1);Ae(Cn);const Sn=new Array(Lt);Ae(Sn);const Nn=new Array(Ht);Ae(Nn);var Fe=(l,i,e,u)=>{let h=l&65535|0,o=l>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do h=h+i[u++]|0,o=o+h|0;while(--s);h%=65521,o%=65521}return h|o<<16|0};const Tn=()=>{let l,i=[];for(var e=0;e<256;e++){l=e;for(var u=0;u<8;u++)l=l&1?3988292384^l>>>1:l>>>1;i[e]=l}return i},On=new Uint32Array(Tn());var ae=(l,i,e,u)=>{const h=On,o=u+e;l^=-1;for(let s=u;s<o;s++)l=l>>>8^h[(l^i[s])&255];return l^-1},Pt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ft={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const kn=(l,i)=>Object.prototype.hasOwnProperty.call(l,i);var $n=function(l){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const e=i.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const u in e)kn(e,u)&&(l[u]=e[u])}}return l},In=l=>{let i=0;for(let u=0,h=l.length;u<h;u++)i+=l[u].length;const e=new Uint8Array(i);for(let u=0,h=0,o=l.length;u<o;u++){let s=l[u];e.set(s,h),h+=s.length}return e},Mt={assign:$n,flattenChunks:In};let Bt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bt=!1}const ye=new Uint8Array(256);for(let l=0;l<256;l++)ye[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;ye[254]=ye[254]=1;var Ln=l=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let i,e,u,h,o,s=l.length,n=0;for(h=0;h<s;h++)e=l.charCodeAt(h),(e&64512)===55296&&h+1<s&&(u=l.charCodeAt(h+1),(u&64512)===56320&&(e=65536+(e-55296<<10)+(u-56320),h++)),n+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(n),o=0,h=0;o<n;h++)e=l.charCodeAt(h),(e&64512)===55296&&h+1<s&&(u=l.charCodeAt(h+1),(u&64512)===56320&&(e=65536+(e-55296<<10)+(u-56320),h++)),e<128?i[o++]=e:e<2048?(i[o++]=192|e>>>6,i[o++]=128|e&63):e<65536?(i[o++]=224|e>>>12,i[o++]=128|e>>>6&63,i[o++]=128|e&63):(i[o++]=240|e>>>18,i[o++]=128|e>>>12&63,i[o++]=128|e>>>6&63,i[o++]=128|e&63);return i};const Hn=(l,i)=>{if(i<65534&&l.subarray&&Bt)return String.fromCharCode.apply(null,l.length===i?l:l.subarray(0,i));let e="";for(let u=0;u<i;u++)e+=String.fromCharCode(l[u]);return e};var Pn=(l,i)=>{const e=i||l.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,i));let u,h;const o=new Array(e*2);for(h=0,u=0;u<e;){let s=l[u++];if(s<128){o[h++]=s;continue}let n=ye[s];if(n>4){o[h++]=65533,u+=n-1;continue}for(s&=n===2?31:n===3?15:7;n>1&&u<e;)s=s<<6|l[u++]&63,n--;if(n>1){o[h++]=65533;continue}s<65536?o[h++]=s:(s-=65536,o[h++]=55296|s>>10&1023,o[h++]=56320|s&1023)}return Hn(o,h)},Fn=(l,i)=>{i=i||l.length,i>l.length&&(i=l.length);let e=i-1;for(;e>=0&&(l[e]&192)===128;)e--;return e<0||e===0?i:e+ye[l[e]]>i?e:i},Me={string2buf:Ln,buf2string:Pn,utf8border:Fn};function Mn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bn=Mn;const ve=16209,Un=16191;var Gn=function(i,e){let u,h,o,s,n,a,t,r,p,f,b,m,S,v,c,y,g,E,d,_,A,C,w,R;const $=i.state;u=i.next_in,w=i.input,h=u+(i.avail_in-5),o=i.next_out,R=i.output,s=o-(e-i.avail_out),n=o+(i.avail_out-257),a=$.dmax,t=$.wsize,r=$.whave,p=$.wnext,f=$.window,b=$.hold,m=$.bits,S=$.lencode,v=$.distcode,c=(1<<$.lenbits)-1,y=(1<<$.distbits)-1;e:do{m<15&&(b+=w[u++]<<m,m+=8,b+=w[u++]<<m,m+=8),g=S[b&c];t:for(;;){if(E=g>>>24,b>>>=E,m-=E,E=g>>>16&255,E===0)R[o++]=g&65535;else if(E&16){d=g&65535,E&=15,E&&(m<E&&(b+=w[u++]<<m,m+=8),d+=b&(1<<E)-1,b>>>=E,m-=E),m<15&&(b+=w[u++]<<m,m+=8,b+=w[u++]<<m,m+=8),g=v[b&y];r:for(;;){if(E=g>>>24,b>>>=E,m-=E,E=g>>>16&255,E&16){if(_=g&65535,E&=15,m<E&&(b+=w[u++]<<m,m+=8,m<E&&(b+=w[u++]<<m,m+=8)),_+=b&(1<<E)-1,_>a){i.msg="invalid distance too far back",$.mode=ve;break e}if(b>>>=E,m-=E,E=o-s,_>E){if(E=_-E,E>r&&$.sane){i.msg="invalid distance too far back",$.mode=ve;break e}if(A=0,C=f,p===0){if(A+=t-E,E<d){d-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}}else if(p<E){if(A+=t+p-E,E-=p,E<d){d-=E;do R[o++]=f[A++];while(--E);if(A=0,p<d){E=p,d-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}}}else if(A+=p-E,E<d){d-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}for(;d>2;)R[o++]=C[A++],R[o++]=C[A++],R[o++]=C[A++],d-=3;d&&(R[o++]=C[A++],d>1&&(R[o++]=C[A++]))}else{A=o-_;do R[o++]=R[A++],R[o++]=R[A++],R[o++]=R[A++],d-=3;while(d>2);d&&(R[o++]=R[A++],d>1&&(R[o++]=R[A++]))}}else if((E&64)===0){g=v[(g&65535)+(b&(1<<E)-1)];continue r}else{i.msg="invalid distance code",$.mode=ve;break e}break}}else if((E&64)===0){g=S[(g&65535)+(b&(1<<E)-1)];continue t}else if(E&32){$.mode=Un;break e}else{i.msg="invalid literal/length code",$.mode=ve;break e}break}}while(u<h&&o<n);d=m>>3,u-=d,m-=d<<3,b&=(1<<m)-1,i.next_in=u,i.next_out=o,i.avail_in=u<h?5+(h-u):5-(u-h),i.avail_out=o<n?257+(n-o):257-(o-n),$.hold=b,$.bits=m};const _e=15,Ut=852,Gt=592,qt=0,Be=1,Zt=2,qn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ee=(l,i,e,u,h,o,s,n)=>{const a=n.bits;let t=0,r=0,p=0,f=0,b=0,m=0,S=0,v=0,c=0,y=0,g,E,d,_,A,C=null,w;const R=new Uint16Array(_e+1),$=new Uint16Array(_e+1);let O=null,x,P,L;for(t=0;t<=_e;t++)R[t]=0;for(r=0;r<u;r++)R[i[e+r]]++;for(b=a,f=_e;f>=1&&R[f]===0;f--);if(b>f&&(b=f),f===0)return h[o++]=1<<24|64<<16|0,h[o++]=1<<24|64<<16|0,n.bits=1,0;for(p=1;p<f&&R[p]===0;p++);for(b<p&&(b=p),v=1,t=1;t<=_e;t++)if(v<<=1,v-=R[t],v<0)return-1;if(v>0&&(l===qt||f!==1))return-1;for($[1]=0,t=1;t<_e;t++)$[t+1]=$[t]+R[t];for(r=0;r<u;r++)i[e+r]!==0&&(s[$[i[e+r]]++]=r);if(l===qt?(C=O=s,w=20):l===Be?(C=qn,O=Zn,w=257):(C=zn,O=Xn,w=0),y=0,r=0,t=p,A=o,m=b,S=0,d=-1,c=1<<b,_=c-1,l===Be&&c>Ut||l===Zt&&c>Gt)return 1;for(;;){x=t-S,s[r]+1<w?(P=0,L=s[r]):s[r]>=w?(P=O[s[r]-w],L=C[s[r]-w]):(P=96,L=0),g=1<<t-S,E=1<<m,p=E;do E-=g,h[A+(y>>S)+E]=x<<24|P<<16|L|0;while(E!==0);for(g=1<<t-1;y&g;)g>>=1;if(g!==0?(y&=g-1,y+=g):y=0,r++,--R[t]===0){if(t===f)break;t=i[e+s[r]]}if(t>b&&(y&_)!==d){for(S===0&&(S=b),A+=p,m=t-S,v=1<<m;m+S<f&&(v-=R[m+S],!(v<=0));)m++,v<<=1;if(c+=1<<m,l===Be&&c>Ut||l===Zt&&c>Gt)return 1;d=y&_,h[d]=b<<24|m<<16|A-o|0}}return y!==0&&(h[A+y]=t-S<<24|64<<16|0),n.bits=b,0};const Kn=0,zt=1,Xt=2,{Z_FINISH:Kt,Z_BLOCK:Wn,Z_TREES:Ce,Z_OK:ge,Z_STREAM_END:Vn,Z_NEED_DICT:jn,Z_STREAM_ERROR:se,Z_DATA_ERROR:Wt,Z_MEM_ERROR:Vt,Z_BUF_ERROR:Qn,Z_DEFLATED:jt}=Ft,Se=16180,Qt=16181,Yt=16182,Jt=16183,Dt=16184,er=16185,tr=16186,rr=16187,nr=16188,sr=16189,Ne=16190,le=16191,Ue=16192,ir=16193,Ge=16194,or=16195,ar=16196,lr=16197,ur=16198,Te=16199,Oe=16200,fr=16201,cr=16202,hr=16203,dr=16204,pr=16205,qe=16206,gr=16207,br=16208,W=16209,Ar=16210,_r=16211,Yn=852,Jn=592,Dn=15,yr=l=>(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24);function es(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const be=l=>{if(!l)return 1;const i=l.state;return!i||i.strm!==l||i.mode<Se||i.mode>_r?1:0},Er=l=>{if(be(l))return se;const i=l.state;return l.total_in=l.total_out=i.total=0,l.msg="",i.wrap&&(l.adler=i.wrap&1),i.mode=Se,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(Yn),i.distcode=i.distdyn=new Int32Array(Jn),i.sane=1,i.back=-1,ge},wr=l=>{if(be(l))return se;const i=l.state;return i.wsize=0,i.whave=0,i.wnext=0,Er(l)},mr=(l,i)=>{let e;if(be(l))return se;const u=l.state;return i<0?(e=0,i=-i):(e=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?se:(u.window!==null&&u.wbits!==i&&(u.window=null),u.wrap=e,u.wbits=i,wr(l))},xr=(l,i)=>{if(!l)return se;const e=new es;l.state=e,e.strm=l,e.window=null,e.mode=Se;const u=mr(l,i);return u!==ge&&(l.state=null),u},ts=l=>xr(l,Dn);let Rr=!0,Ze,ze;const rs=l=>{if(Rr){Ze=new Int32Array(512),ze=new Int32Array(32);let i=0;for(;i<144;)l.lens[i++]=8;for(;i<256;)l.lens[i++]=9;for(;i<280;)l.lens[i++]=7;for(;i<288;)l.lens[i++]=8;for(Ee(zt,l.lens,0,288,Ze,0,l.work,{bits:9}),i=0;i<32;)l.lens[i++]=5;Ee(Xt,l.lens,0,32,ze,0,l.work,{bits:5}),Rr=!1}l.lencode=Ze,l.lenbits=9,l.distcode=ze,l.distbits=5},vr=(l,i,e,u)=>{let h;const o=l.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),u>=o.wsize?(o.window.set(i.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(h=o.wsize-o.wnext,h>u&&(h=u),o.window.set(i.subarray(e-u,e-u+h),o.wnext),u-=h,u?(o.window.set(i.subarray(e-u,e),0),o.wnext=u,o.whave=o.wsize):(o.wnext+=h,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=h))),0},ns=(l,i)=>{let e,u,h,o,s,n,a,t,r,p,f,b,m,S,v=0,c,y,g,E,d,_,A,C;const w=new Uint8Array(4);let R,$;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(be(l)||!l.output||!l.input&&l.avail_in!==0)return se;e=l.state,e.mode===le&&(e.mode=Ue),s=l.next_out,h=l.output,a=l.avail_out,o=l.next_in,u=l.input,n=l.avail_in,t=e.hold,r=e.bits,p=n,f=a,C=ge;e:for(;;)switch(e.mode){case Se:if(e.wrap===0){e.mode=Ue;break}for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&2&&t===35615){e.wbits===0&&(e.wbits=15),e.check=0,w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0),t=0,r=0,e.mode=Qt;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((t&255)<<8)+(t>>8))%31){l.msg="incorrect header check",e.mode=W;break}if((t&15)!==jt){l.msg="unknown compression method",e.mode=W;break}if(t>>>=4,r-=4,A=(t&15)+8,e.wbits===0&&(e.wbits=A),A>15||A>e.wbits){l.msg="invalid window size",e.mode=W;break}e.dmax=1<<e.wbits,e.flags=0,l.adler=e.check=1,e.mode=t&512?sr:le,t=0,r=0;break;case Qt:for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.flags=t,(e.flags&255)!==jt){l.msg="unknown compression method",e.mode=W;break}if(e.flags&57344){l.msg="unknown header flags set",e.mode=W;break}e.head&&(e.head.text=t>>8&1),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0,e.mode=Yt;case Yt:for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.head&&(e.head.time=t),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,w[2]=t>>>16&255,w[3]=t>>>24&255,e.check=ae(e.check,w,4,0)),t=0,r=0,e.mode=Jt;case Jt:for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.head&&(e.head.xflags=t&255,e.head.os=t>>8),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0,e.mode=Dt;case Dt:if(e.flags&1024){for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.length=t,e.head&&(e.head.extra_len=t),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0}else e.head&&(e.head.extra=null);e.mode=er;case er:if(e.flags&1024&&(b=e.length,b>n&&(b=n),b&&(e.head&&(A=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(u.subarray(o,o+b),A)),e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,b,o)),n-=b,o+=b,e.length-=b),e.length))break e;e.length=0,e.mode=tr;case tr:if(e.flags&2048){if(n===0)break e;b=0;do A=u[o+b++],e.head&&A&&e.length<65536&&(e.head.name+=String.fromCharCode(A));while(A&&b<n);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,b,o)),n-=b,o+=b,A)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=rr;case rr:if(e.flags&4096){if(n===0)break e;b=0;do A=u[o+b++],e.head&&A&&e.length<65536&&(e.head.comment+=String.fromCharCode(A));while(A&&b<n);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,b,o)),n-=b,o+=b,A)break e}else e.head&&(e.head.comment=null);e.mode=nr;case nr:if(e.flags&512){for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&4&&t!==(e.check&65535)){l.msg="header crc mismatch",e.mode=W;break}t=0,r=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),l.adler=e.check=0,e.mode=le;break;case sr:for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}l.adler=e.check=yr(t),t=0,r=0,e.mode=Ne;case Ne:if(e.havedict===0)return l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,jn;l.adler=e.check=1,e.mode=le;case le:if(i===Wn||i===Ce)break e;case Ue:if(e.last){t>>>=r&7,r-=r&7,e.mode=qe;break}for(;r<3;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}switch(e.last=t&1,t>>>=1,r-=1,t&3){case 0:e.mode=ir;break;case 1:if(rs(e),e.mode=Te,i===Ce){t>>>=2,r-=2;break e}break;case 2:e.mode=ar;break;case 3:l.msg="invalid block type",e.mode=W}t>>>=2,r-=2;break;case ir:for(t>>>=r&7,r-=r&7;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if((t&65535)!==(t>>>16^65535)){l.msg="invalid stored block lengths",e.mode=W;break}if(e.length=t&65535,t=0,r=0,e.mode=Ge,i===Ce)break e;case Ge:e.mode=or;case or:if(b=e.length,b){if(b>n&&(b=n),b>a&&(b=a),b===0)break e;h.set(u.subarray(o,o+b),s),n-=b,o+=b,a-=b,s+=b,e.length-=b;break}e.mode=le;break;case ar:for(;r<14;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.nlen=(t&31)+257,t>>>=5,r-=5,e.ndist=(t&31)+1,t>>>=5,r-=5,e.ncode=(t&15)+4,t>>>=4,r-=4,e.nlen>286||e.ndist>30){l.msg="too many length or distance symbols",e.mode=W;break}e.have=0,e.mode=lr;case lr:for(;e.have<e.ncode;){for(;r<3;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.lens[O[e.have++]]=t&7,t>>>=3,r-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,R={bits:e.lenbits},C=Ee(Kn,e.lens,0,19,e.lencode,0,e.work,R),e.lenbits=R.bits,C){l.msg="invalid code lengths set",e.mode=W;break}e.have=0,e.mode=ur;case ur:for(;e.have<e.nlen+e.ndist;){for(;v=e.lencode[t&(1<<e.lenbits)-1],c=v>>>24,y=v>>>16&255,g=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(g<16)t>>>=c,r-=c,e.lens[e.have++]=g;else{if(g===16){for($=c+2;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(t>>>=c,r-=c,e.have===0){l.msg="invalid bit length repeat",e.mode=W;break}A=e.lens[e.have-1],b=3+(t&3),t>>>=2,r-=2}else if(g===17){for($=c+3;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=c,r-=c,A=0,b=3+(t&7),t>>>=3,r-=3}else{for($=c+7;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=c,r-=c,A=0,b=11+(t&127),t>>>=7,r-=7}if(e.have+b>e.nlen+e.ndist){l.msg="invalid bit length repeat",e.mode=W;break}for(;b--;)e.lens[e.have++]=A}}if(e.mode===W)break;if(e.lens[256]===0){l.msg="invalid code -- missing end-of-block",e.mode=W;break}if(e.lenbits=9,R={bits:e.lenbits},C=Ee(zt,e.lens,0,e.nlen,e.lencode,0,e.work,R),e.lenbits=R.bits,C){l.msg="invalid literal/lengths set",e.mode=W;break}if(e.distbits=6,e.distcode=e.distdyn,R={bits:e.distbits},C=Ee(Xt,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,R),e.distbits=R.bits,C){l.msg="invalid distances set",e.mode=W;break}if(e.mode=Te,i===Ce)break e;case Te:e.mode=Oe;case Oe:if(n>=6&&a>=258){l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,Gn(l,f),s=l.next_out,h=l.output,a=l.avail_out,o=l.next_in,u=l.input,n=l.avail_in,t=e.hold,r=e.bits,e.mode===le&&(e.back=-1);break}for(e.back=0;v=e.lencode[t&(1<<e.lenbits)-1],c=v>>>24,y=v>>>16&255,g=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(y&&(y&240)===0){for(E=c,d=y,_=g;v=e.lencode[_+((t&(1<<E+d)-1)>>E)],c=v>>>24,y=v>>>16&255,g=v&65535,!(E+c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=E,r-=E,e.back+=E}if(t>>>=c,r-=c,e.back+=c,e.length=g,y===0){e.mode=pr;break}if(y&32){e.back=-1,e.mode=le;break}if(y&64){l.msg="invalid literal/length code",e.mode=W;break}e.extra=y&15,e.mode=fr;case fr:if(e.extra){for($=e.extra;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.length+=t&(1<<e.extra)-1,t>>>=e.extra,r-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=cr;case cr:for(;v=e.distcode[t&(1<<e.distbits)-1],c=v>>>24,y=v>>>16&255,g=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if((y&240)===0){for(E=c,d=y,_=g;v=e.distcode[_+((t&(1<<E+d)-1)>>E)],c=v>>>24,y=v>>>16&255,g=v&65535,!(E+c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=E,r-=E,e.back+=E}if(t>>>=c,r-=c,e.back+=c,y&64){l.msg="invalid distance code",e.mode=W;break}e.offset=g,e.extra=y&15,e.mode=hr;case hr:if(e.extra){for($=e.extra;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.offset+=t&(1<<e.extra)-1,t>>>=e.extra,r-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){l.msg="invalid distance too far back",e.mode=W;break}e.mode=dr;case dr:if(a===0)break e;if(b=f-a,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){l.msg="invalid distance too far back",e.mode=W;break}b>e.wnext?(b-=e.wnext,m=e.wsize-b):m=e.wnext-b,b>e.length&&(b=e.length),S=e.window}else S=h,m=s-e.offset,b=e.length;b>a&&(b=a),a-=b,e.length-=b;do h[s++]=S[m++];while(--b);e.length===0&&(e.mode=Oe);break;case pr:if(a===0)break e;h[s++]=e.length,a--,e.mode=Oe;break;case qe:if(e.wrap){for(;r<32;){if(n===0)break e;n--,t|=u[o++]<<r,r+=8}if(f-=a,l.total_out+=f,e.total+=f,e.wrap&4&&f&&(l.adler=e.check=e.flags?ae(e.check,h,f,s-f):Fe(e.check,h,f,s-f)),f=a,e.wrap&4&&(e.flags?t:yr(t))!==e.check){l.msg="incorrect data check",e.mode=W;break}t=0,r=0}e.mode=gr;case gr:if(e.wrap&&e.flags){for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&4&&t!==(e.total&4294967295)){l.msg="incorrect length check",e.mode=W;break}t=0,r=0}e.mode=br;case br:C=Vn;break e;case W:C=Wt;break e;case Ar:return Vt;case _r:default:return se}return l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,(e.wsize||f!==l.avail_out&&e.mode<W&&(e.mode<qe||i!==Kt))&&vr(l,l.output,l.next_out,f-l.avail_out),p-=l.avail_in,f-=l.avail_out,l.total_in+=p,l.total_out+=f,e.total+=f,e.wrap&4&&f&&(l.adler=e.check=e.flags?ae(e.check,h,f,l.next_out-f):Fe(e.check,h,f,l.next_out-f)),l.data_type=e.bits+(e.last?64:0)+(e.mode===le?128:0)+(e.mode===Te||e.mode===Ge?256:0),(p===0&&f===0||i===Kt)&&C===ge&&(C=Qn),C},ss=l=>{if(be(l))return se;let i=l.state;return i.window&&(i.window=null),l.state=null,ge},is=(l,i)=>{if(be(l))return se;const e=l.state;return(e.wrap&2)===0?se:(e.head=i,i.done=!1,ge)},os=(l,i)=>{const e=i.length;let u,h,o;return be(l)||(u=l.state,u.wrap!==0&&u.mode!==Ne)?se:u.mode===Ne&&(h=1,h=Fe(h,i,e,0),h!==u.check)?Wt:(o=vr(l,i,e,e),o?(u.mode=Ar,Vt):(u.havedict=1,ge))};var as=wr,ls=mr,us=Er,fs=ts,cs=xr,hs=ns,ds=ss,ps=is,gs=os,bs="pako inflate (from Nodeca project)",ue={inflateReset:as,inflateReset2:ls,inflateResetKeep:us,inflateInit:fs,inflateInit2:cs,inflate:hs,inflateEnd:ds,inflateGetHeader:ps,inflateSetDictionary:gs,inflateInfo:bs};function As(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _s=As;const Cr=Object.prototype.toString,{Z_NO_FLUSH:ys,Z_FINISH:Es,Z_OK:we,Z_STREAM_END:Xe,Z_NEED_DICT:Ke,Z_STREAM_ERROR:ws,Z_DATA_ERROR:Sr,Z_MEM_ERROR:ms}=Ft;function ke(l){this.options=Mt.assign({chunkSize:1024*64,windowBits:15,to:""},l||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(l&&l.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15)===0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bn,this.strm.avail_out=0;let e=ue.inflateInit2(this.strm,i.windowBits);if(e!==we)throw new Error(Pt[e]);if(this.header=new _s,ue.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Me.string2buf(i.dictionary):Cr.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(e=ue.inflateSetDictionary(this.strm,i.dictionary),e!==we)))throw new Error(Pt[e])}ke.prototype.push=function(l,i){const e=this.strm,u=this.options.chunkSize,h=this.options.dictionary;let o,s,n;if(this.ended)return!1;for(i===~~i?s=i:s=i===!0?Es:ys,Cr.call(l)==="[object ArrayBuffer]"?e.input=new Uint8Array(l):e.input=l,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(u),e.next_out=0,e.avail_out=u),o=ue.inflate(e,s),o===Ke&&h&&(o=ue.inflateSetDictionary(e,h),o===we?o=ue.inflate(e,s):o===Sr&&(o=Ke));e.avail_in>0&&o===Xe&&e.state.wrap>0&&l[e.next_in]!==0;)ue.inflateReset(e),o=ue.inflate(e,s);switch(o){case ws:case Sr:case Ke:case ms:return this.onEnd(o),this.ended=!0,!1}if(n=e.avail_out,e.next_out&&(e.avail_out===0||o===Xe))if(this.options.to==="string"){let a=Me.utf8border(e.output,e.next_out),t=e.next_out-a,r=Me.buf2string(e.output,a);e.next_out=t,e.avail_out=u-t,t&&e.output.set(e.output.subarray(a,a+t),0),this.onData(r)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===we&&n===0)){if(o===Xe)return o=ue.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},ke.prototype.onData=function(l){this.chunks.push(l)},ke.prototype.onEnd=function(l){l===we&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mt.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};var xs=ke,Rs={Inflate:xs};const{Inflate:vs}=Rs;var Cs=vs,Ss={Inflate:Cs};function Nr(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Ns(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var i=l.default;if(typeof i=="function"){var e=function u(){return this instanceof u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var h=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(e,u,h.get?h:{enumerable:!0,get:function(){return l[u]}})}),e}var Ts={},Os=Object.freeze({__proto__:null,default:Ts}),Tr=Ns(Os),We={},Or;function Ve(){return Or||(Or=1,(function(l){l.isInteger=i=>typeof i=="number"?Number.isInteger(i):typeof i=="string"&&i.trim()!==""?Number.isInteger(Number(i)):!1,l.find=(i,e)=>i.nodes.find(u=>u.type===e),l.exceedsLimit=(i,e,u=1,h)=>h===!1||!l.isInteger(i)||!l.isInteger(e)?!1:(Number(e)-Number(i))/Number(u)>=h,l.escapeNode=(i,e=0,u)=>{const h=i.nodes[e];h&&(u&&h.type===u||h.type==="open"||h.type==="close")&&h.escaped!==!0&&(h.value="\\"+h.value,h.escaped=!0)},l.encloseBrace=i=>i.type!=="brace"?!1:i.commas>>0+i.ranges>>0===0?(i.invalid=!0,!0):!1,l.isInvalidBrace=i=>i.type!=="brace"?!1:i.invalid===!0||i.dollar?!0:i.commas>>0+i.ranges>>0===0||i.open!==!0||i.close!==!0?(i.invalid=!0,!0):!1,l.isOpenOrClose=i=>i.type==="open"||i.type==="close"?!0:i.open===!0||i.close===!0,l.reduce=i=>i.reduce((e,u)=>(u.type==="text"&&e.push(u.value),u.type==="range"&&(u.type="text"),e),[]),l.flatten=(...i)=>{const e=[],u=h=>{for(let o=0;o<h.length;o++){const s=h[o];if(Array.isArray(s)){u(s);continue}s!==void 0&&e.push(s)}return e};return u(i),e}})(We)),We}var je,kr;function Qe(){if(kr)return je;kr=1;const l=Ve();return je=(i,e={})=>{const u=(h,o={})=>{const s=e.escapeInvalid&&l.isInvalidBrace(o),n=h.invalid===!0&&e.escapeInvalid===!0;let a="";if(h.value)return(s||n)&&l.isOpenOrClose(h)?"\\"+h.value:h.value;if(h.value)return h.value;if(h.nodes)for(const t of h.nodes)a+=u(t);return a};return u(i)},je}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Ye,$r;function ks(){return $r||($r=1,Ye=function(l){return typeof l=="number"?l-l===0:typeof l=="string"&&l.trim()!==""?Number.isFinite?Number.isFinite(+l):isFinite(+l):!1}),Ye}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Je,Ir;function $s(){if(Ir)return Je;Ir=1;const l=ks(),i=(v,c,y)=>{if(l(v)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(c===void 0||v===c)return String(v);if(l(c)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let g={relaxZeros:!0,...y};typeof g.strictZeros=="boolean"&&(g.relaxZeros=g.strictZeros===!1);let E=String(g.relaxZeros),d=String(g.shorthand),_=String(g.capture),A=String(g.wrap),C=v+":"+c+"="+E+d+_+A;if(i.cache.hasOwnProperty(C))return i.cache[C].result;let w=Math.min(v,c),R=Math.max(v,c);if(Math.abs(w-R)===1){let L=v+"|"+c;return g.capture?`(${L})`:g.wrap===!1?L:`(?:${L})`}let $=m(v)||m(c),O={min:v,max:c,a:w,b:R},x=[],P=[];if($&&(O.isPadded=$,O.maxLen=String(O.max).length),w<0){let L=R<0?Math.abs(R):1;P=o(L,Math.abs(w),O,g),w=O.a=0}return R>=0&&(x=o(w,R,O,g)),O.negatives=P,O.positives=x,O.result=e(P,x),g.capture===!0?O.result=`(${O.result})`:g.wrap!==!1&&x.length+P.length>1&&(O.result=`(?:${O.result})`),i.cache[C]=O,O.result};function e(v,c,y){let g=s(v,c,"-",!1)||[],E=s(c,v,"",!1)||[],d=s(v,c,"-?",!0)||[];return g.concat(d).concat(E).join("|")}function u(v,c){let y=1,g=1,E=r(v,y),d=new Set([c]);for(;v<=E&&E<=c;)d.add(E),y+=1,E=r(v,y);for(E=p(c+1,g)-1;v<E&&E<=c;)d.add(E),g+=1,E=p(c+1,g)-1;return d=[...d],d.sort(a),d}function h(v,c,y){if(v===c)return{pattern:v,count:[],digits:0};let g=n(v,c),E=g.length,d="",_=0;for(let A=0;A<E;A++){let[C,w]=g[A];C===w?d+=C:C!=="0"||w!=="9"?d+=b(C,w):_++}return _&&(d+=y.shorthand===!0?"\\d":"[0-9]"),{pattern:d,count:[_],digits:E}}function o(v,c,y,g){let E=u(v,c),d=[],_=v,A;for(let C=0;C<E.length;C++){let w=E[C],R=h(String(_),String(w),g),$="";if(!y.isPadded&&A&&A.pattern===R.pattern){A.count.length>1&&A.count.pop(),A.count.push(R.count[0]),A.string=A.pattern+f(A.count),_=w+1;continue}y.isPadded&&($=S(w,y,g)),R.string=$+R.pattern+f(R.count),d.push(R),_=w+1,A=R}return d}function s(v,c,y,g,E){let d=[];for(let _ of v){let{string:A}=_;!g&&!t(c,"string",A)&&d.push(y+A),g&&t(c,"string",A)&&d.push(y+A)}return d}function n(v,c){let y=[];for(let g=0;g<v.length;g++)y.push([v[g],c[g]]);return y}function a(v,c){return v>c?1:c>v?-1:0}function t(v,c,y){return v.some(g=>g[c]===y)}function r(v,c){return Number(String(v).slice(0,-c)+"9".repeat(c))}function p(v,c){return v-v%Math.pow(10,c)}function f(v){let[c=0,y=""]=v;return y||c>1?`{${c+(y?","+y:"")}}`:""}function b(v,c,y){return`[${v}${c-v===1?"":"-"}${c}]`}function m(v){return/^-?(0+)\d/.test(v)}function S(v,c,y){if(!c.isPadded)return v;let g=Math.abs(c.maxLen-String(v).length),E=y.relaxZeros!==!1;switch(g){case 0:return"";case 1:return E?"0?":"0";case 2:return E?"0{0,2}":"00";default:return E?`0{0,${g}}`:`0{${g}}`}}return i.cache={},i.clearCache=()=>i.cache={},Je=i,Je}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var De,Lr;function Hr(){if(Lr)return De;Lr=1;const l=Tr,i=$s(),e=g=>g!==null&&typeof g=="object"&&!Array.isArray(g),u=g=>E=>g===!0?Number(E):String(E),h=g=>typeof g=="number"||typeof g=="string"&&g!=="",o=g=>Number.isInteger(+g),s=g=>{let E=`${g}`,d=-1;if(E[0]==="-"&&(E=E.slice(1)),E==="0")return!1;for(;E[++d]==="0";);return d>0},n=(g,E,d)=>typeof g=="string"||typeof E=="string"?!0:d.stringify===!0,a=(g,E,d)=>{if(E>0){let _=g[0]==="-"?"-":"";_&&(g=g.slice(1)),g=_+g.padStart(_?E-1:E,"0")}return d===!1?String(g):g},t=(g,E)=>{let d=g[0]==="-"?"-":"";for(d&&(g=g.slice(1),E--);g.length<E;)g="0"+g;return d?"-"+g:g},r=(g,E,d)=>{g.negatives.sort((R,$)=>R<$?-1:R>$?1:0),g.positives.sort((R,$)=>R<$?-1:R>$?1:0);let _=E.capture?"":"?:",A="",C="",w;return g.positives.length&&(A=g.positives.map(R=>t(String(R),d)).join("|")),g.negatives.length&&(C=`-(${_}${g.negatives.map(R=>t(String(R),d)).join("|")})`),A&&C?w=`${A}|${C}`:w=A||C,E.wrap?`(${_}${w})`:w},p=(g,E,d,_)=>{if(d)return i(g,E,{wrap:!1,..._});let A=String.fromCharCode(g);if(g===E)return A;let C=String.fromCharCode(E);return`[${A}-${C}]`},f=(g,E,d)=>{if(Array.isArray(g)){let _=d.wrap===!0,A=d.capture?"":"?:";return _?`(${A}${g.join("|")})`:g.join("|")}return i(g,E,d)},b=(...g)=>new RangeError("Invalid range arguments: "+l.inspect(...g)),m=(g,E,d)=>{if(d.strictRanges===!0)throw b([g,E]);return[]},S=(g,E)=>{if(E.strictRanges===!0)throw new TypeError(`Expected step "${g}" to be a number`);return[]},v=(g,E,d=1,_={})=>{let A=Number(g),C=Number(E);if(!Number.isInteger(A)||!Number.isInteger(C)){if(_.strictRanges===!0)throw b([g,E]);return[]}A===0&&(A=0),C===0&&(C=0);let w=A>C,R=String(g),$=String(E),O=String(d);d=Math.max(Math.abs(d),1);let x=s(R)||s($)||s(O),P=x?Math.max(R.length,$.length,O.length):0,L=x===!1&&n(g,E,_)===!1,F=_.transform||u(L);if(_.toRegex&&d===1)return p(t(g,P),t(E,P),!0,_);let B={negatives:[],positives:[]},z=N=>B[N<0?"negatives":"positives"].push(Math.abs(N)),X=[],K=0;for(;w?A>=C:A<=C;)_.toRegex===!0&&d>1?z(A):X.push(a(F(A,K),P,L)),A=w?A-d:A+d,K++;return _.toRegex===!0?d>1?r(B,_,P):f(X,null,{wrap:!1,..._}):X},c=(g,E,d=1,_={})=>{if(!o(g)&&g.length>1||!o(E)&&E.length>1)return m(g,E,_);let A=_.transform||(L=>String.fromCharCode(L)),C=`${g}`.charCodeAt(0),w=`${E}`.charCodeAt(0),R=C>w,$=Math.min(C,w),O=Math.max(C,w);if(_.toRegex&&d===1)return p($,O,!1,_);let x=[],P=0;for(;R?C>=w:C<=w;)x.push(A(C,P)),C=R?C-d:C+d,P++;return _.toRegex===!0?f(x,null,{wrap:!1,options:_}):x},y=(g,E,d,_={})=>{if(E==null&&h(g))return[g];if(!h(g)||!h(E))return m(g,E,_);if(typeof d=="function")return y(g,E,1,{transform:d});if(e(d))return y(g,E,0,d);let A={..._};return A.capture===!0&&(A.wrap=!0),d=d||A.step||1,o(d)?o(g)&&o(E)?v(g,E,d,A):c(g,E,Math.max(Math.abs(d),1),A):d!=null&&!e(d)?S(d,A):y(g,E,1,d)};return De=y,De}var et,Pr;function Is(){if(Pr)return et;Pr=1;const l=Hr(),i=Ve();return et=(u,h={})=>{const o=(s,n={})=>{const a=i.isInvalidBrace(n),t=s.invalid===!0&&h.escapeInvalid===!0,r=a===!0||t===!0,p=h.escapeInvalid===!0?"\\":"";let f="";if(s.isOpen===!0)return p+s.value;if(s.isClose===!0)return console.log("node.isClose",p,s.value),p+s.value;if(s.type==="open")return r?p+s.value:"(";if(s.type==="close")return r?p+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":r?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){const b=i.reduce(s.nodes),m=l(...b,{...h,wrap:!1,toRegex:!0,strictZeros:!0});if(m.length!==0)return b.length>1&&m.length>1?`(${m})`:m}if(s.nodes)for(const b of s.nodes)f+=o(b,s);return f};return o(u)},et}var tt,Fr;function Ls(){if(Fr)return tt;Fr=1;const l=Hr(),i=Qe(),e=Ve(),u=(o="",s="",n=!1)=>{const a=[];if(o=[].concat(o),s=[].concat(s),!s.length)return o;if(!o.length)return n?e.flatten(s).map(t=>`{${t}}`):s;for(const t of o)if(Array.isArray(t))for(const r of t)a.push(u(r,s,n));else for(let r of s)n===!0&&typeof r=="string"&&(r=`{${r}}`),a.push(Array.isArray(r)?u(t,r,n):t+r);return e.flatten(a)};return tt=(o,s={})=>{const n=s.rangeLimit===void 0?1e3:s.rangeLimit,a=(t,r={})=>{t.queue=[];let p=r,f=r.queue;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,f=p.queue;if(t.invalid||t.dollar){f.push(u(f.pop(),i(t,s)));return}if(t.type==="brace"&&t.invalid!==!0&&t.nodes.length===2){f.push(u(f.pop(),["{}"]));return}if(t.nodes&&t.ranges>0){const v=e.reduce(t.nodes);if(e.exceedsLimit(...v,s.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=l(...v,s);c.length===0&&(c=i(t,s)),f.push(u(f.pop(),c)),t.nodes=[];return}const b=e.encloseBrace(t);let m=t.queue,S=t;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,m=S.queue;for(let v=0;v<t.nodes.length;v++){const c=t.nodes[v];if(c.type==="comma"&&t.type==="brace"){v===1&&m.push(""),m.push("");continue}if(c.type==="close"){f.push(u(f.pop(),m,b));continue}if(c.value&&c.type!=="open"){m.push(u(m.pop(),c.value));continue}c.nodes&&a(c,t)}return m};return e.flatten(a(o))},tt}var rt,Mr;function Hs(){return Mr||(Mr=1,rt={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),rt}var nt,Br;function Ps(){if(Br)return nt;Br=1;const l=Qe(),{MAX_LENGTH:i,CHAR_BACKSLASH:e,CHAR_BACKTICK:u,CHAR_COMMA:h,CHAR_DOT:o,CHAR_LEFT_PARENTHESES:s,CHAR_RIGHT_PARENTHESES:n,CHAR_LEFT_CURLY_BRACE:a,CHAR_RIGHT_CURLY_BRACE:t,CHAR_LEFT_SQUARE_BRACKET:r,CHAR_RIGHT_SQUARE_BRACKET:p,CHAR_DOUBLE_QUOTE:f,CHAR_SINGLE_QUOTE:b,CHAR_NO_BREAK_SPACE:m,CHAR_ZERO_WIDTH_NOBREAK_SPACE:S}=Hs();return nt=(c,y={})=>{if(typeof c!="string")throw new TypeError("Expected a string");const g=y||{},E=typeof g.maxLength=="number"?Math.min(i,g.maxLength):i;if(c.length>E)throw new SyntaxError(`Input length (${c.length}), exceeds max characters (${E})`);const d={type:"root",input:c,nodes:[]},_=[d];let A=d,C=d,w=0;const R=c.length;let $=0,O=0,x;const P=()=>c[$++],L=F=>{if(F.type==="text"&&C.type==="dot"&&(C.type="text"),C&&C.type==="text"&&F.type==="text"){C.value+=F.value;return}return A.nodes.push(F),F.parent=A,F.prev=C,C=F,F};for(L({type:"bos"});$<R;)if(A=_[_.length-1],x=P(),!(x===S||x===m)){if(x===e){L({type:"text",value:(y.keepEscaping?x:"")+P()});continue}if(x===p){L({type:"text",value:"\\"+x});continue}if(x===r){w++;let F;for(;$<R&&(F=P());){if(x+=F,F===r){w++;continue}if(F===e){x+=P();continue}if(F===p&&(w--,w===0))break}L({type:"text",value:x});continue}if(x===s){A=L({type:"paren",nodes:[]}),_.push(A),L({type:"text",value:x});continue}if(x===n){if(A.type!=="paren"){L({type:"text",value:x});continue}A=_.pop(),L({type:"text",value:x}),A=_[_.length-1];continue}if(x===f||x===b||x===u){const F=x;let B;for(y.keepQuotes!==!0&&(x="");$<R&&(B=P());){if(B===e){x+=B+P();continue}if(B===F){y.keepQuotes===!0&&(x+=B);break}x+=B}L({type:"text",value:x});continue}if(x===a){O++;const B={type:"brace",open:!0,close:!1,dollar:C.value&&C.value.slice(-1)==="$"||A.dollar===!0,depth:O,commas:0,ranges:0,nodes:[]};A=L(B),_.push(A),L({type:"open",value:x});continue}if(x===t){if(A.type!=="brace"){L({type:"text",value:x});continue}const F="close";A=_.pop(),A.close=!0,L({type:F,value:x}),O--,A=_[_.length-1];continue}if(x===h&&O>0){if(A.ranges>0){A.ranges=0;const F=A.nodes.shift();A.nodes=[F,{type:"text",value:l(A)}]}L({type:"comma",value:x}),A.commas++;continue}if(x===o&&O>0&&A.commas===0){const F=A.nodes;if(O===0||F.length===0){L({type:"text",value:x});continue}if(C.type==="dot"){if(A.range=[],C.value+=x,C.type="range",A.nodes.length!==3&&A.nodes.length!==5){A.invalid=!0,A.ranges=0,C.type="text";continue}A.ranges++,A.args=[];continue}if(C.type==="range"){F.pop();const B=F[F.length-1];B.value+=C.value+x,C=B,A.ranges--;continue}L({type:"dot",value:x});continue}L({type:"text",value:x})}do if(A=_.pop(),A.type!=="root"){A.nodes.forEach(z=>{z.nodes||(z.type==="open"&&(z.isOpen=!0),z.type==="close"&&(z.isClose=!0),z.nodes||(z.type="text"),z.invalid=!0)});const F=_[_.length-1],B=F.nodes.indexOf(A);F.nodes.splice(B,1,...A.nodes)}while(_.length>0);return L({type:"eos"}),d},nt}var st,Ur;function Fs(){if(Ur)return st;Ur=1;const l=Qe(),i=Is(),e=Ls(),u=Ps(),h=(o,s={})=>{let n=[];if(Array.isArray(o))for(const a of o){const t=h.create(a,s);Array.isArray(t)?n.push(...t):n.push(t)}else n=[].concat(h.create(o,s));return s&&s.expand===!0&&s.nodupes===!0&&(n=[...new Set(n)]),n};return h.parse=(o,s={})=>u(o,s),h.stringify=(o,s={})=>l(typeof o=="string"?h.parse(o,s):o,s),h.compile=(o,s={})=>(typeof o=="string"&&(o=h.parse(o,s)),i(o,s)),h.expand=(o,s={})=>{typeof o=="string"&&(o=h.parse(o,s));let n=e(o,s);return s.noempty===!0&&(n=n.filter(Boolean)),s.nodupes===!0&&(n=[...new Set(n)]),n},h.create=(o,s={})=>o===""||o.length<3?[o]:s.expand!==!0?h.compile(o,s):h.expand(o,s),st=h,st}var it,Gr;function ot(){if(Gr)return it;Gr=1;function l(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}function i(h,o){for(var s="",n=0,a=-1,t=0,r,p=0;p<=h.length;++p){if(p<h.length)r=h.charCodeAt(p);else{if(r===47)break;r=47}if(r===47){if(!(a===p-1||t===1))if(a!==p-1&&t===2){if(s.length<2||n!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var f=s.lastIndexOf("/");if(f!==s.length-1){f===-1?(s="",n=0):(s=s.slice(0,f),n=s.length-1-s.lastIndexOf("/")),a=p,t=0;continue}}else if(s.length===2||s.length===1){s="",n=0,a=p,t=0;continue}}o&&(s.length>0?s+="/..":s="..",n=2)}else s.length>0?s+="/"+h.slice(a+1,p):s=h.slice(a+1,p),n=p-a-1;a=p,t=0}else r===46&&t!==-1?++t:t=-1}return s}function e(h,o){var s=o.dir||o.root,n=o.base||(o.name||"")+(o.ext||"");return s?s===o.root?s+n:s+h+n:n}var u={resolve:function(){for(var o="",s=!1,n,a=arguments.length-1;a>=-1&&!s;a--){var t;a>=0?t=arguments[a]:(n===void 0&&(n=process.cwd()),t=n),l(t),t.length!==0&&(o=t+"/"+o,s=t.charCodeAt(0)===47)}return o=i(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(l(o),o.length===0)return".";var s=o.charCodeAt(0)===47,n=o.charCodeAt(o.length-1)===47;return o=i(o,!s),o.length===0&&!s&&(o="."),o.length>0&&n&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return l(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var n=arguments[s];l(n),n.length>0&&(o===void 0?o=n:o+="/"+n)}return o===void 0?".":u.normalize(o)},relative:function(o,s){if(l(o),l(s),o===s||(o=u.resolve(o),s=u.resolve(s),o===s))return"";for(var n=1;n<o.length&&o.charCodeAt(n)===47;++n);for(var a=o.length,t=a-n,r=1;r<s.length&&s.charCodeAt(r)===47;++r);for(var p=s.length,f=p-r,b=t<f?t:f,m=-1,S=0;S<=b;++S){if(S===b){if(f>b){if(s.charCodeAt(r+S)===47)return s.slice(r+S+1);if(S===0)return s.slice(r+S)}else t>b&&(o.charCodeAt(n+S)===47?m=S:S===0&&(m=0));break}var v=o.charCodeAt(n+S),c=s.charCodeAt(r+S);if(v!==c)break;v===47&&(m=S)}var y="";for(S=n+m+1;S<=a;++S)(S===a||o.charCodeAt(S)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(r+m):(r+=m,s.charCodeAt(r)===47&&++r,s.slice(r))},_makeLong:function(o){return o},dirname:function(o){if(l(o),o.length===0)return".";for(var s=o.charCodeAt(0),n=s===47,a=-1,t=!0,r=o.length-1;r>=1;--r)if(s=o.charCodeAt(r),s===47){if(!t){a=r;break}}else t=!1;return a===-1?n?"/":".":n&&a===1?"//":o.slice(0,a)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');l(o);var n=0,a=-1,t=!0,r;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var p=s.length-1,f=-1;for(r=o.length-1;r>=0;--r){var b=o.charCodeAt(r);if(b===47){if(!t){n=r+1;break}}else f===-1&&(t=!1,f=r+1),p>=0&&(b===s.charCodeAt(p)?--p===-1&&(a=r):(p=-1,a=f))}return n===a?a=f:a===-1&&(a=o.length),o.slice(n,a)}else{for(r=o.length-1;r>=0;--r)if(o.charCodeAt(r)===47){if(!t){n=r+1;break}}else a===-1&&(t=!1,a=r+1);return a===-1?"":o.slice(n,a)}},extname:function(o){l(o);for(var s=-1,n=0,a=-1,t=!0,r=0,p=o.length-1;p>=0;--p){var f=o.charCodeAt(p);if(f===47){if(!t){n=p+1;break}continue}a===-1&&(t=!1,a=p+1),f===46?s===-1?s=p:r!==1&&(r=1):s!==-1&&(r=-1)}return s===-1||a===-1||r===0||r===1&&s===a-1&&s===n+1?"":o.slice(s,a)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return e("/",o)},parse:function(o){l(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var n=o.charCodeAt(0),a=n===47,t;a?(s.root="/",t=1):t=0;for(var r=-1,p=0,f=-1,b=!0,m=o.length-1,S=0;m>=t;--m){if(n=o.charCodeAt(m),n===47){if(!b){p=m+1;break}continue}f===-1&&(b=!1,f=m+1),n===46?r===-1?r=m:S!==1&&(S=1):r!==-1&&(S=-1)}return r===-1||f===-1||S===0||S===1&&r===f-1&&r===p+1?f!==-1&&(p===0&&a?s.base=s.name=o.slice(1,f):s.base=s.name=o.slice(p,f)):(p===0&&a?(s.name=o.slice(1,r),s.base=o.slice(1,f)):(s.name=o.slice(p,r),s.base=o.slice(p,f)),s.ext=o.slice(r,f)),p>0?s.dir=o.slice(0,p-1):a&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,it=u,it}var at={},lt,qr;function $e(){if(qr)return lt;qr=1;const l=ot(),i="\\\\/",e=`[^${i}]`,u="\\.",h="\\+",o="\\?",s="\\/",n="(?=.)",a="[^/]",t=`(?:${s}|$)`,r=`(?:^|${s})`,p=`${u}{1,2}${t}`,f=`(?!${u})`,b=`(?!${r}${p})`,m=`(?!${u}{0,1}${t})`,S=`(?!${p})`,v=`[^.${s}]`,c=`${a}*?`,y={DOT_LITERAL:u,PLUS_LITERAL:h,QMARK_LITERAL:o,SLASH_LITERAL:s,ONE_CHAR:n,QMARK:a,END_ANCHOR:t,DOTS_SLASH:p,NO_DOT:f,NO_DOTS:b,NO_DOT_SLASH:m,NO_DOTS_SLASH:S,QMARK_NO_DOT:v,STAR:c,START_ANCHOR:r},g={...y,SLASH_LITERAL:`[${i}]`,QMARK:e,STAR:`${e}*?`,DOTS_SLASH:`${u}{1,2}(?:[${i}]|$)`,NO_DOT:`(?!${u})`,NO_DOTS:`(?!(?:^|[${i}])${u}{1,2}(?:[${i}]|$))`,NO_DOT_SLASH:`(?!${u}{0,1}(?:[${i}]|$))`,NO_DOTS_SLASH:`(?!${u}{1,2}(?:[${i}]|$))`,QMARK_NO_DOT:`[^.${i}]`,START_ANCHOR:`(?:^|[${i}])`,END_ANCHOR:`(?:[${i}]|$)`},E={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return lt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:E,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:l.sep,extglobChars(d){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${d.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(d){return d===!0?g:y}},lt}var Zr;function Ie(){return Zr||(Zr=1,(function(l){const i=ot(),{REGEX_BACKSLASH:e,REGEX_REMOVE_BACKSLASH:u,REGEX_SPECIAL_CHARS:h,REGEX_SPECIAL_CHARS_GLOBAL:o}=$e();l.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),l.hasRegexChars=s=>h.test(s),l.isRegexChar=s=>s.length===1&&l.hasRegexChars(s),l.escapeRegex=s=>s.replace(o,"\\$1"),l.toPosixSlashes=s=>s.replace(e,"/"),l.removeBackslashes=s=>s.replace(u,n=>n==="\\"?"":n),l.supportsLookbehinds=()=>{const s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10},l.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:i.sep==="\\",l.escapeLast=(s,n,a)=>{const t=s.lastIndexOf(n,a);return t===-1?s:s[t-1]==="\\"?l.escapeLast(s,n,t-1):`${s.slice(0,t)}\\${s.slice(t)}`},l.removePrefix=(s,n={})=>{let a=s;return a.startsWith("./")&&(a=a.slice(2),n.prefix="./"),a},l.wrapOutput=(s,n={},a={})=>{const t=a.contains?"":"^",r=a.contains?"":"$";let p=`${t}(?:${s})${r}`;return n.negated===!0&&(p=`(?:^(?!${p}).*$)`),p}})(at)),at}var ut,zr;function Ms(){if(zr)return ut;zr=1;const l=Ie(),{CHAR_ASTERISK:i,CHAR_AT:e,CHAR_BACKWARD_SLASH:u,CHAR_COMMA:h,CHAR_DOT:o,CHAR_EXCLAMATION_MARK:s,CHAR_FORWARD_SLASH:n,CHAR_LEFT_CURLY_BRACE:a,CHAR_LEFT_PARENTHESES:t,CHAR_LEFT_SQUARE_BRACKET:r,CHAR_PLUS:p,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:b,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:S}=$e(),v=g=>g===n||g===u,c=g=>{g.isPrefix!==!0&&(g.depth=g.isGlobstar?1/0:1)};return ut=(g,E)=>{const d=E||{},_=g.length-1,A=d.parts===!0||d.scanToEnd===!0,C=[],w=[],R=[];let $=g,O=-1,x=0,P=0,L=!1,F=!1,B=!1,z=!1,X=!1,K=!1,N=!1,ee=!1,ie=!1,D=!1,T=0,k,G,U={value:"",depth:0,isGlob:!1};const ne=()=>O>=_,ce=()=>$.charCodeAt(O+1),j=()=>(k=G,$.charCodeAt(++O));for(;O<_;){G=j();let M;if(G===u){N=U.backslashes=!0,G=j(),G===a&&(K=!0);continue}if(K===!0||G===a){for(T++;ne()!==!0&&(G=j());){if(G===u){N=U.backslashes=!0,j();continue}if(G===a){T++;continue}if(K!==!0&&G===o&&(G=j())===o){if(L=U.isBrace=!0,B=U.isGlob=!0,D=!0,A===!0)continue;break}if(K!==!0&&G===h){if(L=U.isBrace=!0,B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===b&&(T--,T===0)){K=!1,L=U.isBrace=!0,D=!0;break}}if(A===!0)continue;break}if(G===n){if(C.push(O),w.push(U),U={value:"",depth:0,isGlob:!1},D===!0)continue;if(k===o&&O===x+1){x+=2;continue}P=O+1;continue}if(d.noext!==!0&&(G===p||G===e||G===i||G===f||G===s)===!0&&ce()===t){if(B=U.isGlob=!0,z=U.isExtglob=!0,D=!0,G===s&&O===x&&(ie=!0),A===!0){for(;ne()!==!0&&(G=j());){if(G===u){N=U.backslashes=!0,G=j();continue}if(G===m){B=U.isGlob=!0,D=!0;break}}continue}break}if(G===i){if(k===i&&(X=U.isGlobstar=!0),B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===f){if(B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===r){for(;ne()!==!0&&(M=j());){if(M===u){N=U.backslashes=!0,j();continue}if(M===S){F=U.isBracket=!0,B=U.isGlob=!0,D=!0;break}}if(A===!0)continue;break}if(d.nonegate!==!0&&G===s&&O===x){ee=U.negated=!0,x++;continue}if(d.noparen!==!0&&G===t){if(B=U.isGlob=!0,A===!0){for(;ne()!==!0&&(G=j());){if(G===t){N=U.backslashes=!0,G=j();continue}if(G===m){D=!0;break}}continue}break}if(B===!0){if(D=!0,A===!0)continue;break}}d.noext===!0&&(z=!1,B=!1);let Q=$,Re="",oe="";x>0&&(Re=$.slice(0,x),$=$.slice(x),P-=x),Q&&B===!0&&P>0?(Q=$.slice(0,P),oe=$.slice(P)):B===!0?(Q="",oe=$):Q=$,Q&&Q!==""&&Q!=="/"&&Q!==$&&v(Q.charCodeAt(Q.length-1))&&(Q=Q.slice(0,-1)),d.unescape===!0&&(oe&&(oe=l.removeBackslashes(oe)),Q&&N===!0&&(Q=l.removeBackslashes(Q)));const te={prefix:Re,input:g,start:x,base:Q,glob:oe,isBrace:L,isBracket:F,isGlob:B,isExtglob:z,isGlobstar:X,negated:ee,negatedExtglob:ie};if(d.tokens===!0&&(te.maxDepth=0,v(G)||w.push(U),te.tokens=w),d.parts===!0||d.tokens===!0){let M;for(let Y=0;Y<C.length;Y++){const $t=M?M+1:x,H=C[Y],Z=g.slice($t,H);d.tokens&&(Y===0&&x!==0?(w[Y].isPrefix=!0,w[Y].value=Re):w[Y].value=Z,c(w[Y]),te.maxDepth+=w[Y].depth),(Y!==0||Z!=="")&&R.push(Z),M=H}if(M&&M+1<g.length){const Y=g.slice(M+1);R.push(Y),d.tokens&&(w[w.length-1].value=Y,c(w[w.length-1]),te.maxDepth+=w[w.length-1].depth)}te.slashes=C,te.parts=R}return te},ut}var ft,Xr;function Bs(){if(Xr)return ft;Xr=1;const l=$e(),i=Ie(),{MAX_LENGTH:e,POSIX_REGEX_SOURCE:u,REGEX_NON_SPECIAL_CHARS:h,REGEX_SPECIAL_CHARS_BACKREF:o,REPLACEMENTS:s}=l,n=(r,p)=>{if(typeof p.expandRange=="function")return p.expandRange(...r,p);r.sort();const f=`[${r.join("-")}]`;try{new RegExp(f)}catch{return r.map(m=>i.escapeRegex(m)).join("..")}return f},a=(r,p)=>`Missing ${r}: "${p}" - use "\\\\${p}" to match literal characters`,t=(r,p)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=s[r]||r;const f={...p},b=typeof f.maxLength=="number"?Math.min(e,f.maxLength):e;let m=r.length;if(m>b)throw new SyntaxError(`Input length: ${m}, exceeds maximum allowed length: ${b}`);const S={type:"bos",value:"",output:f.prepend||""},v=[S],c=f.capture?"":"?:",y=i.isWindows(p),g=l.globChars(y),E=l.extglobChars(g),{DOT_LITERAL:d,PLUS_LITERAL:_,SLASH_LITERAL:A,ONE_CHAR:C,DOTS_SLASH:w,NO_DOT:R,NO_DOT_SLASH:$,NO_DOTS_SLASH:O,QMARK:x,QMARK_NO_DOT:P,STAR:L,START_ANCHOR:F}=g,B=H=>`(${c}(?:(?!${F}${H.dot?w:d}).)*?)`,z=f.dot?"":R,X=f.dot?x:P;let K=f.bash===!0?B(f):L;f.capture&&(K=`(${K})`),typeof f.noext=="boolean"&&(f.noextglob=f.noext);const N={input:r,index:-1,start:0,dot:f.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:v};r=i.removePrefix(r,N),m=r.length;const ee=[],ie=[],D=[];let T=S,k;const G=()=>N.index===m-1,U=N.peek=(H=1)=>r[N.index+H],ne=N.advance=()=>r[++N.index]||"",ce=()=>r.slice(N.index+1),j=(H="",Z=0)=>{N.consumed+=H,N.index+=Z},Q=H=>{N.output+=H.output!=null?H.output:H.value,j(H.value)},Re=()=>{let H=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)ne(),N.start++,H++;return H%2===0?!1:(N.negated=!0,N.start++,!0)},oe=H=>{N[H]++,D.push(H)},te=H=>{N[H]--,D.pop()},M=H=>{if(T.type==="globstar"){const Z=N.braces>0&&(H.type==="comma"||H.type==="brace"),I=H.extglob===!0||ee.length&&(H.type==="pipe"||H.type==="paren");H.type!=="slash"&&H.type!=="paren"&&!Z&&!I&&(N.output=N.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=K,N.output+=T.output)}if(ee.length&&H.type!=="paren"&&(ee[ee.length-1].inner+=H.value),(H.value||H.output)&&Q(H),T&&T.type==="text"&&H.type==="text"){T.value+=H.value,T.output=(T.output||"")+H.value;return}H.prev=T,v.push(H),T=H},Y=(H,Z)=>{const I={...E[Z],conditions:1,inner:""};I.prev=T,I.parens=N.parens,I.output=N.output;const q=(f.capture?"(":"")+I.open;oe("parens"),M({type:H,value:Z,output:N.output?"":C}),M({type:"paren",extglob:!0,value:ne(),output:q}),ee.push(I)},$t=H=>{let Z=H.close+(f.capture?")":""),I;if(H.type==="negate"){let q=K;if(H.inner&&H.inner.length>1&&H.inner.includes("/")&&(q=B(f)),(q!==K||G()||/^\)+$/.test(ce()))&&(Z=H.close=`)$))${q}`),H.inner.includes("*")&&(I=ce())&&/^\.[^\\/.]+$/.test(I)){const V=t(I,{...p,fastpaths:!1}).output;Z=H.close=`)${V})${q})`}H.prev.type==="bos"&&(N.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:k,output:Z}),te("parens")};if(f.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let H=!1,Z=r.replace(o,(I,q,V,re,J,It)=>re==="\\"?(H=!0,I):re==="?"?q?q+re+(J?x.repeat(J.length):""):It===0?X+(J?x.repeat(J.length):""):x.repeat(V.length):re==="."?d.repeat(V.length):re==="*"?q?q+re+(J?K:""):K:q?I:`\\${I}`);return H===!0&&(f.unescape===!0?Z=Z.replace(/\\/g,""):Z=Z.replace(/\\+/g,I=>I.length%2===0?"\\\\":I?"\\":"")),Z===r&&f.contains===!0?(N.output=r,N):(N.output=i.wrapOutput(Z,N,p),N)}for(;!G();){if(k=ne(),k==="\0")continue;if(k==="\\"){const I=U();if(I==="/"&&f.bash!==!0||I==="."||I===";")continue;if(!I){k+="\\",M({type:"text",value:k});continue}const q=/^\\+/.exec(ce());let V=0;if(q&&q[0].length>2&&(V=q[0].length,N.index+=V,V%2!==0&&(k+="\\")),f.unescape===!0?k=ne():k+=ne(),N.brackets===0){M({type:"text",value:k});continue}}if(N.brackets>0&&(k!=="]"||T.value==="["||T.value==="[^")){if(f.posix!==!1&&k===":"){const I=T.value.slice(1);if(I.includes("[")&&(T.posix=!0,I.includes(":"))){const q=T.value.lastIndexOf("["),V=T.value.slice(0,q),re=T.value.slice(q+2),J=u[re];if(J){T.value=V+J,N.backtrack=!0,ne(),!S.output&&v.indexOf(T)===1&&(S.output=C);continue}}}(k==="["&&U()!==":"||k==="-"&&U()==="]")&&(k=`\\${k}`),k==="]"&&(T.value==="["||T.value==="[^")&&(k=`\\${k}`),f.posix===!0&&k==="!"&&T.value==="["&&(k="^"),T.value+=k,Q({value:k});continue}if(N.quotes===1&&k!=='"'){k=i.escapeRegex(k),T.value+=k,Q({value:k});continue}if(k==='"'){N.quotes=N.quotes===1?0:1,f.keepQuotes===!0&&M({type:"text",value:k});continue}if(k==="("){oe("parens"),M({type:"paren",value:k});continue}if(k===")"){if(N.parens===0&&f.strictBrackets===!0)throw new SyntaxError(a("opening","("));const I=ee[ee.length-1];if(I&&N.parens===I.parens+1){$t(ee.pop());continue}M({type:"paren",value:k,output:N.parens?")":"\\)"}),te("parens");continue}if(k==="["){if(f.nobracket===!0||!ce().includes("]")){if(f.nobracket!==!0&&f.strictBrackets===!0)throw new SyntaxError(a("closing","]"));k=`\\${k}`}else oe("brackets");M({type:"bracket",value:k});continue}if(k==="]"){if(f.nobracket===!0||T&&T.type==="bracket"&&T.value.length===1){M({type:"text",value:k,output:`\\${k}`});continue}if(N.brackets===0){if(f.strictBrackets===!0)throw new SyntaxError(a("opening","["));M({type:"text",value:k,output:`\\${k}`});continue}te("brackets");const I=T.value.slice(1);if(T.posix!==!0&&I[0]==="^"&&!I.includes("/")&&(k=`/${k}`),T.value+=k,Q({value:k}),f.literalBrackets===!1||i.hasRegexChars(I))continue;const q=i.escapeRegex(T.value);if(N.output=N.output.slice(0,-T.value.length),f.literalBrackets===!0){N.output+=q,T.value=q;continue}T.value=`(${c}${q}|${T.value})`,N.output+=T.value;continue}if(k==="{"&&f.nobrace!==!0){oe("braces");const I={type:"brace",value:k,output:"(",outputIndex:N.output.length,tokensIndex:N.tokens.length};ie.push(I),M(I);continue}if(k==="}"){const I=ie[ie.length-1];if(f.nobrace===!0||!I){M({type:"text",value:k,output:k});continue}let q=")";if(I.dots===!0){const V=v.slice(),re=[];for(let J=V.length-1;J>=0&&(v.pop(),V[J].type!=="brace");J--)V[J].type!=="dots"&&re.unshift(V[J].value);q=n(re,f),N.backtrack=!0}if(I.comma!==!0&&I.dots!==!0){const V=N.output.slice(0,I.outputIndex),re=N.tokens.slice(I.tokensIndex);I.value=I.output="\\{",k=q="\\}",N.output=V;for(const J of re)N.output+=J.output||J.value}M({type:"brace",value:k,output:q}),te("braces"),ie.pop();continue}if(k==="|"){ee.length>0&&ee[ee.length-1].conditions++,M({type:"text",value:k});continue}if(k===","){let I=k;const q=ie[ie.length-1];q&&D[D.length-1]==="braces"&&(q.comma=!0,I="|"),M({type:"comma",value:k,output:I});continue}if(k==="/"){if(T.type==="dot"&&N.index===N.start+1){N.start=N.index+1,N.consumed="",N.output="",v.pop(),T=S;continue}M({type:"slash",value:k,output:A});continue}if(k==="."){if(N.braces>0&&T.type==="dot"){T.value==="."&&(T.output=d);const I=ie[ie.length-1];T.type="dots",T.output+=k,T.value+=k,I.dots=!0;continue}if(N.braces+N.parens===0&&T.type!=="bos"&&T.type!=="slash"){M({type:"text",value:k,output:d});continue}M({type:"dot",value:k,output:d});continue}if(k==="?"){if(!(T&&T.value==="(")&&f.noextglob!==!0&&U()==="("&&U(2)!=="?"){Y("qmark",k);continue}if(T&&T.type==="paren"){const q=U();let V=k;if(q==="<"&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(T.value==="("&&!/[!=<:]/.test(q)||q==="<"&&!/<([!=]|\w+>)/.test(ce()))&&(V=`\\${k}`),M({type:"text",value:k,output:V});continue}if(f.dot!==!0&&(T.type==="slash"||T.type==="bos")){M({type:"qmark",value:k,output:P});continue}M({type:"qmark",value:k,output:x});continue}if(k==="!"){if(f.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){Y("negate",k);continue}if(f.nonegate!==!0&&N.index===0){Re();continue}}if(k==="+"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){Y("plus",k);continue}if(T&&T.value==="("||f.regex===!1){M({type:"plus",value:k,output:_});continue}if(T&&(T.type==="bracket"||T.type==="paren"||T.type==="brace")||N.parens>0){M({type:"plus",value:k});continue}M({type:"plus",value:_});continue}if(k==="@"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){M({type:"at",extglob:!0,value:k,output:""});continue}M({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);const I=h.exec(ce());I&&(k+=I[0],N.index+=I[0].length),M({type:"text",value:k});continue}if(T&&(T.type==="globstar"||T.star===!0)){T.type="star",T.star=!0,T.value+=k,T.output=K,N.backtrack=!0,N.globstar=!0,j(k);continue}let H=ce();if(f.noextglob!==!0&&/^\([^?]/.test(H)){Y("star",k);continue}if(T.type==="star"){if(f.noglobstar===!0){j(k);continue}const I=T.prev,q=I.prev,V=I.type==="slash"||I.type==="bos",re=q&&(q.type==="star"||q.type==="globstar");if(f.bash===!0&&(!V||H[0]&&H[0]!=="/")){M({type:"star",value:k,output:""});continue}const J=N.braces>0&&(I.type==="comma"||I.type==="brace"),It=ee.length&&(I.type==="pipe"||I.type==="paren");if(!V&&I.type!=="paren"&&!J&&!It){M({type:"star",value:k,output:""});continue}for(;H.slice(0,3)==="/**";){const Pe=r[N.index+4];if(Pe&&Pe!=="/")break;H=H.slice(3),j("/**",3)}if(I.type==="bos"&&G()){T.type="globstar",T.value+=k,T.output=B(f),N.output=T.output,N.globstar=!0,j(k);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&!re&&G()){N.output=N.output.slice(0,-(I.output+T.output).length),I.output=`(?:${I.output}`,T.type="globstar",T.output=B(f)+(f.strictSlashes?")":"|$)"),T.value+=k,N.globstar=!0,N.output+=I.output+T.output,j(k);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&H[0]==="/"){const Pe=H[1]!==void 0?"|$":"";N.output=N.output.slice(0,-(I.output+T.output).length),I.output=`(?:${I.output}`,T.type="globstar",T.output=`${B(f)}${A}|${A}${Pe})`,T.value+=k,N.output+=I.output+T.output,N.globstar=!0,j(k+ne()),M({type:"slash",value:"/",output:""});continue}if(I.type==="bos"&&H[0]==="/"){T.type="globstar",T.value+=k,T.output=`(?:^|${A}|${B(f)}${A})`,N.output=T.output,N.globstar=!0,j(k+ne()),M({type:"slash",value:"/",output:""});continue}N.output=N.output.slice(0,-T.output.length),T.type="globstar",T.output=B(f),T.value+=k,N.output+=T.output,N.globstar=!0,j(k);continue}const Z={type:"star",value:k,output:K};if(f.bash===!0){Z.output=".*?",(T.type==="bos"||T.type==="slash")&&(Z.output=z+Z.output),M(Z);continue}if(T&&(T.type==="bracket"||T.type==="paren")&&f.regex===!0){Z.output=k,M(Z);continue}(N.index===N.start||T.type==="slash"||T.type==="dot")&&(T.type==="dot"?(N.output+=$,T.output+=$):f.dot===!0?(N.output+=O,T.output+=O):(N.output+=z,T.output+=z),U()!=="*"&&(N.output+=C,T.output+=C)),M(Z)}for(;N.brackets>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing","]"));N.output=i.escapeLast(N.output,"["),te("brackets")}for(;N.parens>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing",")"));N.output=i.escapeLast(N.output,"("),te("parens")}for(;N.braces>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing","}"));N.output=i.escapeLast(N.output,"{"),te("braces")}if(f.strictSlashes!==!0&&(T.type==="star"||T.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${A}?`}),N.backtrack===!0){N.output="";for(const H of N.tokens)N.output+=H.output!=null?H.output:H.value,H.suffix&&(N.output+=H.suffix)}return N};return t.fastpaths=(r,p)=>{const f={...p},b=typeof f.maxLength=="number"?Math.min(e,f.maxLength):e,m=r.length;if(m>b)throw new SyntaxError(`Input length: ${m}, exceeds maximum allowed length: ${b}`);r=s[r]||r;const S=i.isWindows(p),{DOT_LITERAL:v,SLASH_LITERAL:c,ONE_CHAR:y,DOTS_SLASH:g,NO_DOT:E,NO_DOTS:d,NO_DOTS_SLASH:_,STAR:A,START_ANCHOR:C}=l.globChars(S),w=f.dot?d:E,R=f.dot?_:E,$=f.capture?"":"?:",O={negated:!1,prefix:""};let x=f.bash===!0?".*?":A;f.capture&&(x=`(${x})`);const P=z=>z.noglobstar===!0?x:`(${$}(?:(?!${C}${z.dot?g:v}).)*?)`,L=z=>{switch(z){case"*":return`${w}${y}${x}`;case".*":return`${v}${y}${x}`;case"*.*":return`${w}${x}${v}${y}${x}`;case"*/*":return`${w}${x}${c}${y}${R}${x}`;case"**":return w+P(f);case"**/*":return`(?:${w}${P(f)}${c})?${R}${y}${x}`;case"**/*.*":return`(?:${w}${P(f)}${c})?${R}${x}${v}${y}${x}`;case"**/.*":return`(?:${w}${P(f)}${c})?${v}${y}${x}`;default:{const X=/^(.*?)\.(\w+)$/.exec(z);if(!X)return;const K=L(X[1]);return K?K+v+X[2]:void 0}}},F=i.removePrefix(r,O);let B=L(F);return B&&f.strictSlashes!==!0&&(B+=`${c}?`),B},ft=t,ft}var ct,Kr;function Us(){if(Kr)return ct;Kr=1;const l=ot(),i=Ms(),e=Bs(),u=Ie(),h=$e(),o=n=>n&&typeof n=="object"&&!Array.isArray(n),s=(n,a,t=!1)=>{if(Array.isArray(n)){const c=n.map(g=>s(g,a,t));return g=>{for(const E of c){const d=E(g);if(d)return d}return!1}}const r=o(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const p=a||{},f=u.isWindows(a),b=r?s.compileRe(n,a):s.makeRe(n,a,!1,!0),m=b.state;delete b.state;let S=()=>!1;if(p.ignore){const c={...a,ignore:null,onMatch:null,onResult:null};S=s(p.ignore,c,t)}const v=(c,y=!1)=>{const{isMatch:g,match:E,output:d}=s.test(c,b,a,{glob:n,posix:f}),_={glob:n,state:m,regex:b,posix:f,input:c,output:d,match:E,isMatch:g};return typeof p.onResult=="function"&&p.onResult(_),g===!1?(_.isMatch=!1,y?_:!1):S(c)?(typeof p.onIgnore=="function"&&p.onIgnore(_),_.isMatch=!1,y?_:!1):(typeof p.onMatch=="function"&&p.onMatch(_),y?_:!0)};return t&&(v.state=m),v};return s.test=(n,a,t,{glob:r,posix:p}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const f=t||{},b=f.format||(p?u.toPosixSlashes:null);let m=n===r,S=m&&b?b(n):n;return m===!1&&(S=b?b(n):n,m=S===r),(m===!1||f.capture===!0)&&(f.matchBase===!0||f.basename===!0?m=s.matchBase(n,a,t,p):m=a.exec(S)),{isMatch:!!m,match:m,output:S}},s.matchBase=(n,a,t,r=u.isWindows(t))=>(a instanceof RegExp?a:s.makeRe(a,t)).test(l.basename(n)),s.isMatch=(n,a,t)=>s(a,t)(n),s.parse=(n,a)=>Array.isArray(n)?n.map(t=>s.parse(t,a)):e(n,{...a,fastpaths:!1}),s.scan=(n,a)=>i(n,a),s.compileRe=(n,a,t=!1,r=!1)=>{if(t===!0)return n.output;const p=a||{},f=p.contains?"":"^",b=p.contains?"":"$";let m=`${f}(?:${n.output})${b}`;n&&n.negated===!0&&(m=`^(?!${m}).*$`);const S=s.toRegex(m,a);return r===!0&&(S.state=n),S},s.makeRe=(n,a={},t=!1,r=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let p={negated:!1,fastpaths:!0};return a.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(p.output=e.fastpaths(n,a)),p.output||(p=e(n,a)),s.compileRe(p,a,t,r)},s.toRegex=(n,a)=>{try{const t=a||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(a&&a.debug===!0)throw t;return/$^/}},s.constants=h,ct=s,ct}var ht,Wr;function Gs(){return Wr||(Wr=1,ht=Us()),ht}var dt,Vr;function qs(){if(Vr)return dt;Vr=1;const l=Tr,i=Fs(),e=Gs(),u=Ie(),h=n=>n===""||n==="./",o=n=>{const a=n.indexOf("{");return a>-1&&n.indexOf("}",a)>-1},s=(n,a,t)=>{a=[].concat(a),n=[].concat(n);let r=new Set,p=new Set,f=new Set,b=0,m=c=>{f.add(c.output),t&&t.onResult&&t.onResult(c)};for(let c=0;c<a.length;c++){let y=e(String(a[c]),{...t,onResult:m},!0),g=y.state.negated||y.state.negatedExtglob;g&&b++;for(let E of n){let d=y(E,!0);(g?!d.isMatch:d.isMatch)&&(g?r.add(d.output):(r.delete(d.output),p.add(d.output)))}}let v=(b===a.length?[...f]:[...p]).filter(c=>!r.has(c));if(t&&v.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${a.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?a.map(c=>c.replace(/\\/g,"")):a}return v};return s.match=s,s.matcher=(n,a)=>e(n,a),s.isMatch=(n,a,t)=>e(a,t)(n),s.any=s.isMatch,s.not=(n,a,t={})=>{a=[].concat(a).map(String);let r=new Set,p=[],f=m=>{t.onResult&&t.onResult(m),p.push(m.output)},b=new Set(s(n,a,{...t,onResult:f}));for(let m of p)b.has(m)||r.add(m);return[...r]},s.contains=(n,a,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${l.inspect(n)}"`);if(Array.isArray(a))return a.some(r=>s.contains(n,r,t));if(typeof a=="string"){if(h(n)||h(a))return!1;if(n.includes(a)||n.startsWith("./")&&n.slice(2).includes(a))return!0}return s.isMatch(n,a,{...t,contains:!0})},s.matchKeys=(n,a,t)=>{if(!u.isObject(n))throw new TypeError("Expected the first argument to be an object");let r=s(Object.keys(n),a,t),p={};for(let f of r)p[f]=n[f];return p},s.some=(n,a,t)=>{let r=[].concat(n);for(let p of[].concat(a)){let f=e(String(p),t);if(r.some(b=>f(b)))return!0}return!1},s.every=(n,a,t)=>{let r=[].concat(n);for(let p of[].concat(a)){let f=e(String(p),t);if(!r.every(b=>f(b)))return!1}return!0},s.all=(n,a,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${l.inspect(n)}"`);return[].concat(a).every(r=>e(r,t)(n))},s.capture=(n,a,t)=>{let r=u.isWindows(t),f=e.makeRe(String(n),{...t,capture:!0}).exec(r?u.toPosixSlashes(a):a);if(f)return f.slice(1).map(b=>b===void 0?"":b)},s.makeRe=(...n)=>e.makeRe(...n),s.scan=(...n)=>e.scan(...n),s.parse=(n,a)=>{let t=[];for(let r of[].concat(n||[]))for(let p of i(String(r),a))t.push(e.parse(p,a));return t},s.braces=(n,a)=>{if(typeof n!="string")throw new TypeError("Expected a string");return a&&a.nobrace===!0||!o(n)?[n]:i(n,a)},s.braceExpand=(n,a)=>{if(typeof n!="string")throw new TypeError("Expected a string");return s.braces(n,{...a,expand:!0})},s.hasBraces=o,dt=s,dt}var Zs=qs(),Le=Nr(Zs),pt={},gt={},jr;function bt(){return jr||(jr=1,(function(l){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",e=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u="["+i+"]["+e+"]*",h=new RegExp("^"+u+"$"),o=function(n,a){const t=[];let r=a.exec(n);for(;r;){const p=[];p.startIndex=a.lastIndex-r[0].length;const f=r.length;for(let b=0;b<f;b++)p.push(r[b]);t.push(p),r=a.exec(n)}return t},s=function(n){const a=h.exec(n);return!(a===null||typeof a>"u")};l.isExist=function(n){return typeof n<"u"},l.isEmptyObject=function(n){return Object.keys(n).length===0},l.merge=function(n,a,t){if(a){const r=Object.keys(a),p=r.length;for(let f=0;f<p;f++)t==="strict"?n[r[f]]=[a[r[f]]]:n[r[f]]=a[r[f]]}},l.getValue=function(n){return l.isExist(n)?n:""},l.isName=s,l.getAllMatches=o,l.nameRegexp=u})(gt)),gt}var Qr;function Yr(){if(Qr)return pt;Qr=1;const l=bt(),i={allowBooleanAttributes:!1,unpairedTags:[]};pt.validate=function(c,y){y=Object.assign({},i,y);const g=[];let E=!1,d=!1;c[0]==="\uFEFF"&&(c=c.substr(1));for(let _=0;_<c.length;_++)if(c[_]==="<"&&c[_+1]==="?"){if(_+=2,_=u(c,_),_.err)return _}else if(c[_]==="<"){let A=_;if(_++,c[_]==="!"){_=h(c,_);continue}else{let C=!1;c[_]==="/"&&(C=!0,_++);let w="";for(;_<c.length&&c[_]!==">"&&c[_]!==" "&&c[_]!=="	"&&c[_]!==`
`&&c[_]!=="\r";_++)w+=c[_];if(w=w.trim(),w[w.length-1]==="/"&&(w=w.substring(0,w.length-1),_--),!m(w)){let O;return w.trim().length===0?O="Invalid space after '<'.":O="Tag '"+w+"' is an invalid name.",f("InvalidTag",O,S(c,_))}const R=n(c,_);if(R===!1)return f("InvalidAttr","Attributes for '"+w+"' have open quote.",S(c,_));let $=R.value;if(_=R.index,$[$.length-1]==="/"){const O=_-$.length;$=$.substring(0,$.length-1);const x=t($,y);if(x===!0)E=!0;else return f(x.err.code,x.err.msg,S(c,O+x.err.line))}else if(C)if(R.tagClosed){if($.trim().length>0)return f("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",S(c,A));if(g.length===0)return f("InvalidTag","Closing tag '"+w+"' has not been opened.",S(c,A));{const O=g.pop();if(w!==O.tagName){let x=S(c,O.tagStartPos);return f("InvalidTag","Expected closing tag '"+O.tagName+"' (opened in line "+x.line+", col "+x.col+") instead of closing tag '"+w+"'.",S(c,A))}g.length==0&&(d=!0)}}else return f("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",S(c,_));else{const O=t($,y);if(O!==!0)return f(O.err.code,O.err.msg,S(c,_-$.length+O.err.line));if(d===!0)return f("InvalidXml","Multiple possible root nodes found.",S(c,_));y.unpairedTags.indexOf(w)!==-1||g.push({tagName:w,tagStartPos:A}),E=!0}for(_++;_<c.length;_++)if(c[_]==="<")if(c[_+1]==="!"){_++,_=h(c,_);continue}else if(c[_+1]==="?"){if(_=u(c,++_),_.err)return _}else break;else if(c[_]==="&"){const O=p(c,_);if(O==-1)return f("InvalidChar","char '&' is not expected.",S(c,_));_=O}else if(d===!0&&!e(c[_]))return f("InvalidXml","Extra text at the end",S(c,_));c[_]==="<"&&_--}}else{if(e(c[_]))continue;return f("InvalidChar","char '"+c[_]+"' is not expected.",S(c,_))}if(E){if(g.length==1)return f("InvalidTag","Unclosed tag '"+g[0].tagName+"'.",S(c,g[0].tagStartPos));if(g.length>0)return f("InvalidXml","Invalid '"+JSON.stringify(g.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return f("InvalidXml","Start tag expected.",1);return!0};function e(c){return c===" "||c==="	"||c===`
`||c==="\r"}function u(c,y){const g=y;for(;y<c.length;y++)if(c[y]=="?"||c[y]==" "){const E=c.substr(g,y-g);if(y>5&&E==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",S(c,y));if(c[y]=="?"&&c[y+1]==">"){y++;break}else continue}return y}function h(c,y){if(c.length>y+5&&c[y+1]==="-"&&c[y+2]==="-"){for(y+=3;y<c.length;y++)if(c[y]==="-"&&c[y+1]==="-"&&c[y+2]===">"){y+=2;break}}else if(c.length>y+8&&c[y+1]==="D"&&c[y+2]==="O"&&c[y+3]==="C"&&c[y+4]==="T"&&c[y+5]==="Y"&&c[y+6]==="P"&&c[y+7]==="E"){let g=1;for(y+=8;y<c.length;y++)if(c[y]==="<")g++;else if(c[y]===">"&&(g--,g===0))break}else if(c.length>y+9&&c[y+1]==="["&&c[y+2]==="C"&&c[y+3]==="D"&&c[y+4]==="A"&&c[y+5]==="T"&&c[y+6]==="A"&&c[y+7]==="["){for(y+=8;y<c.length;y++)if(c[y]==="]"&&c[y+1]==="]"&&c[y+2]===">"){y+=2;break}}return y}const o='"',s="'";function n(c,y){let g="",E="",d=!1;for(;y<c.length;y++){if(c[y]===o||c[y]===s)E===""?E=c[y]:E!==c[y]||(E="");else if(c[y]===">"&&E===""){d=!0;break}g+=c[y]}return E!==""?!1:{value:g,index:y,tagClosed:d}}const a=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function t(c,y){const g=l.getAllMatches(c,a),E={};for(let d=0;d<g.length;d++){if(g[d][1].length===0)return f("InvalidAttr","Attribute '"+g[d][2]+"' has no space in starting.",v(g[d]));if(g[d][3]!==void 0&&g[d][4]===void 0)return f("InvalidAttr","Attribute '"+g[d][2]+"' is without value.",v(g[d]));if(g[d][3]===void 0&&!y.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+g[d][2]+"' is not allowed.",v(g[d]));const _=g[d][2];if(!b(_))return f("InvalidAttr","Attribute '"+_+"' is an invalid name.",v(g[d]));if(!E.hasOwnProperty(_))E[_]=1;else return f("InvalidAttr","Attribute '"+_+"' is repeated.",v(g[d]))}return!0}function r(c,y){let g=/\d/;for(c[y]==="x"&&(y++,g=/[\da-fA-F]/);y<c.length;y++){if(c[y]===";")return y;if(!c[y].match(g))break}return-1}function p(c,y){if(y++,c[y]===";")return-1;if(c[y]==="#")return y++,r(c,y);let g=0;for(;y<c.length;y++,g++)if(!(c[y].match(/\w/)&&g<20)){if(c[y]===";")break;return-1}return y}function f(c,y,g){return{err:{code:c,msg:y,line:g.line||g,col:g.col}}}function b(c){return l.isName(c)}function m(c){return l.isName(c)}function S(c,y){const g=c.substring(0,y).split(/\r?\n/);return{line:g.length,col:g[g.length-1].length+1}}function v(c){return c.startIndex+c[1].length}return pt}var He={},Jr;function zs(){if(Jr)return He;Jr=1;const l={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,u){return u},attributeValueProcessor:function(e,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,u,h){return e}},i=function(e){return Object.assign({},l,e)};return He.buildOptions=i,He.defaultOptions=l,He}var At,Dr;function Xs(){if(Dr)return At;Dr=1;class l{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,u){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:u})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}return At=l,At}var _t,en;function Ks(){if(en)return _t;en=1;const l=bt();function i(t,r){const p={};if(t[r+3]==="O"&&t[r+4]==="C"&&t[r+5]==="T"&&t[r+6]==="Y"&&t[r+7]==="P"&&t[r+8]==="E"){r=r+9;let f=1,b=!1,m=!1,S="";for(;r<t.length;r++)if(t[r]==="<"&&!m){if(b&&h(t,r)){r+=7;let v,c;[v,c,r]=e(t,r+1),c.indexOf("&")===-1&&(p[a(v)]={regx:RegExp(`&${v};`,"g"),val:c})}else if(b&&o(t,r))r+=8;else if(b&&s(t,r))r+=8;else if(b&&n(t,r))r+=9;else if(u)m=!0;else throw new Error("Invalid DOCTYPE");f++,S=""}else if(t[r]===">"){if(m?t[r-1]==="-"&&t[r-2]==="-"&&(m=!1,f--):f--,f===0)break}else t[r]==="["?b=!0:S+=t[r];if(f!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:p,i:r}}function e(t,r){let p="";for(;r<t.length&&t[r]!=="'"&&t[r]!=='"';r++)p+=t[r];if(p=p.trim(),p.indexOf(" ")!==-1)throw new Error("External entites are not supported");const f=t[r++];let b="";for(;r<t.length&&t[r]!==f;r++)b+=t[r];return[p,b,r]}function u(t,r){return t[r+1]==="!"&&t[r+2]==="-"&&t[r+3]==="-"}function h(t,r){return t[r+1]==="!"&&t[r+2]==="E"&&t[r+3]==="N"&&t[r+4]==="T"&&t[r+5]==="I"&&t[r+6]==="T"&&t[r+7]==="Y"}function o(t,r){return t[r+1]==="!"&&t[r+2]==="E"&&t[r+3]==="L"&&t[r+4]==="E"&&t[r+5]==="M"&&t[r+6]==="E"&&t[r+7]==="N"&&t[r+8]==="T"}function s(t,r){return t[r+1]==="!"&&t[r+2]==="A"&&t[r+3]==="T"&&t[r+4]==="T"&&t[r+5]==="L"&&t[r+6]==="I"&&t[r+7]==="S"&&t[r+8]==="T"}function n(t,r){return t[r+1]==="!"&&t[r+2]==="N"&&t[r+3]==="O"&&t[r+4]==="T"&&t[r+5]==="A"&&t[r+6]==="T"&&t[r+7]==="I"&&t[r+8]==="O"&&t[r+9]==="N"}function a(t){if(l.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}return _t=i,_t}var yt,tn;function Ws(){if(tn)return yt;tn=1;const l=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,e={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function u(s,n={}){if(n=Object.assign({},e,n),!s||typeof s!="string")return s;let a=s.trim();if(n.skipLike!==void 0&&n.skipLike.test(a))return s;if(s==="0")return 0;if(n.hex&&l.test(a))return o(a,16);if(a.search(/[eE]/)!==-1){const t=a.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(t){if(n.leadingZeros)a=(t[1]||"")+t[3];else if(!(t[2]==="0"&&t[3][0]==="."))return s;return n.eNotation?Number(a):s}else return s}else{const t=i.exec(a);if(t){const r=t[1],p=t[2];let f=h(t[3]);if(!n.leadingZeros&&p.length>0&&r&&a[2]!==".")return s;if(!n.leadingZeros&&p.length>0&&!r&&a[1]!==".")return s;if(n.leadingZeros&&p===s)return 0;{const b=Number(a),m=""+b;return m.search(/[eE]/)!==-1?n.eNotation?b:s:a.indexOf(".")!==-1?m==="0"&&f===""||m===f||r&&m==="-"+f?b:s:p?f===m||r+f===m?b:s:a===m||a===r+m?b:s}}else return s}}function h(s){return s&&s.indexOf(".")!==-1&&(s=s.replace(/0+$/,""),s==="."?s="0":s[0]==="."?s="0"+s:s[s.length-1]==="."&&(s=s.substr(0,s.length-1))),s}function o(s,n){if(parseInt)return parseInt(s,n);if(Number.parseInt)return Number.parseInt(s,n);if(window&&window.parseInt)return window.parseInt(s,n);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return yt=u,yt}var Et,rn;function nn(){if(rn)return Et;rn=1;function l(i){return typeof i=="function"?i:Array.isArray(i)?e=>{for(const u of i)if(typeof u=="string"&&e===u||u instanceof RegExp&&u.test(e))return!0}:()=>!1}return Et=l,Et}var wt,sn;function Vs(){if(sn)return wt;sn=1;const l=bt(),i=Xs(),e=Ks(),u=Ws(),h=nn();class o{constructor(_){this.options=_,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â¹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,C)=>String.fromCharCode(Number.parseInt(C,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,C)=>String.fromCharCode(Number.parseInt(C,16))}},this.addExternalEntities=s,this.parseXml=p,this.parseTextData=n,this.resolveNameSpace=a,this.buildAttributesMap=r,this.isItStopNode=S,this.replaceEntitiesValue=b,this.readStopNodeData=g,this.saveTextToParentTag=m,this.addChild=f,this.ignoreAttributesFn=h(this.options.ignoreAttributes)}}function s(d){const _=Object.keys(d);for(let A=0;A<_.length;A++){const C=_[A];this.lastEntities[C]={regex:new RegExp("&"+C+";","g"),val:d[C]}}}function n(d,_,A,C,w,R,$){if(d!==void 0&&(this.options.trimValues&&!C&&(d=d.trim()),d.length>0)){$||(d=this.replaceEntitiesValue(d));const O=this.options.tagValueProcessor(_,d,A,w,R);return O==null?d:typeof O!=typeof d||O!==d?O:this.options.trimValues?E(d,this.options.parseTagValue,this.options.numberParseOptions):d.trim()===d?E(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function a(d){if(this.options.removeNSPrefix){const _=d.split(":"),A=d.charAt(0)==="/"?"/":"";if(_[0]==="xmlns")return"";_.length===2&&(d=A+_[1])}return d}const t=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function r(d,_,A){if(this.options.ignoreAttributes!==!0&&typeof d=="string"){const C=l.getAllMatches(d,t),w=C.length,R={};for(let $=0;$<w;$++){const O=this.resolveNameSpace(C[$][1]);if(this.ignoreAttributesFn(O,_))continue;let x=C[$][4],P=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(P=this.options.transformAttributeName(P)),P==="__proto__"&&(P="#__proto__"),x!==void 0){this.options.trimValues&&(x=x.trim()),x=this.replaceEntitiesValue(x);const L=this.options.attributeValueProcessor(O,x,_);L==null?R[P]=x:typeof L!=typeof x||L!==x?R[P]=L:R[P]=E(x,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[P]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const $={};return $[this.options.attributesGroupName]=R,$}return R}}const p=function(d){d=d.replace(/\r\n?/g,`
`);const _=new i("!xml");let A=_,C="",w="";for(let R=0;R<d.length;R++)if(d[R]==="<")if(d[R+1]==="/"){const O=c(d,">",R,"Closing Tag is not closed.");let x=d.substring(R+2,O).trim();if(this.options.removeNSPrefix){const F=x.indexOf(":");F!==-1&&(x=x.substr(F+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),A&&(C=this.saveTextToParentTag(C,A,w));const P=w.substring(w.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let L=0;P&&this.options.unpairedTags.indexOf(P)!==-1?(L=w.lastIndexOf(".",w.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=w.lastIndexOf("."),w=w.substring(0,L),A=this.tagsNodeStack.pop(),C="",R=O}else if(d[R+1]==="?"){let O=y(d,R,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(C=this.saveTextToParentTag(C,A,w),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){const x=new i(O.tagName);x.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(x[":@"]=this.buildAttributesMap(O.tagExp,w,O.tagName)),this.addChild(A,x,w)}R=O.closeIndex+1}else if(d.substr(R+1,3)==="!--"){const O=c(d,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const x=d.substring(R+4,O-2);C=this.saveTextToParentTag(C,A,w),A.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}R=O}else if(d.substr(R+1,2)==="!D"){const O=e(d,R);this.docTypeEntities=O.entities,R=O.i}else if(d.substr(R+1,2)==="!["){const O=c(d,"]]>",R,"CDATA is not closed.")-2,x=d.substring(R+9,O);C=this.saveTextToParentTag(C,A,w);let P=this.parseTextData(x,A.tagname,w,!0,!1,!0,!0);P==null&&(P=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):A.add(this.options.textNodeName,P),R=O+2}else{let O=y(d,R,this.options.removeNSPrefix),x=O.tagName;const P=O.rawTagName;let L=O.tagExp,F=O.attrExpPresent,B=O.closeIndex;this.options.transformTagName&&(x=this.options.transformTagName(x)),A&&C&&A.tagname!=="!xml"&&(C=this.saveTextToParentTag(C,A,w,!1));const z=A;if(z&&this.options.unpairedTags.indexOf(z.tagname)!==-1&&(A=this.tagsNodeStack.pop(),w=w.substring(0,w.lastIndexOf("."))),x!==_.tagname&&(w+=w?"."+x:x),this.isItStopNode(this.options.stopNodes,w,x)){let X="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),w=w.substr(0,w.length-1),L=x):L=L.substr(0,L.length-1),R=O.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)R=O.closeIndex;else{const N=this.readStopNodeData(d,P,B+1);if(!N)throw new Error(`Unexpected end of ${P}`);R=N.i,X=N.tagContent}const K=new i(x);x!==L&&F&&(K[":@"]=this.buildAttributesMap(L,w,x)),X&&(X=this.parseTextData(X,x,w,!0,F,!0,!0)),w=w.substr(0,w.lastIndexOf(".")),K.add(this.options.textNodeName,X),this.addChild(A,K,w)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){x[x.length-1]==="/"?(x=x.substr(0,x.length-1),w=w.substr(0,w.length-1),L=x):L=L.substr(0,L.length-1),this.options.transformTagName&&(x=this.options.transformTagName(x));const X=new i(x);x!==L&&F&&(X[":@"]=this.buildAttributesMap(L,w,x)),this.addChild(A,X,w),w=w.substr(0,w.lastIndexOf("."))}else{const X=new i(x);this.tagsNodeStack.push(A),x!==L&&F&&(X[":@"]=this.buildAttributesMap(L,w,x)),this.addChild(A,X,w),A=X}C="",R=B}}else C+=d[R];return _.child};function f(d,_,A){const C=this.options.updateTag(_.tagname,A,_[":@"]);C===!1||(typeof C=="string"&&(_.tagname=C),d.addChild(_))}const b=function(d){if(this.options.processEntities){for(let _ in this.docTypeEntities){const A=this.docTypeEntities[_];d=d.replace(A.regx,A.val)}for(let _ in this.lastEntities){const A=this.lastEntities[_];d=d.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let _ in this.htmlEntities){const A=this.htmlEntities[_];d=d.replace(A.regex,A.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function m(d,_,A,C){return d&&(C===void 0&&(C=_.child.length===0),d=this.parseTextData(d,_.tagname,A,!1,_[":@"]?Object.keys(_[":@"]).length!==0:!1,C),d!==void 0&&d!==""&&_.add(this.options.textNodeName,d),d=""),d}function S(d,_,A){const C="*."+A;for(const w in d){const R=d[w];if(C===R||_===R)return!0}return!1}function v(d,_,A=">"){let C,w="";for(let R=_;R<d.length;R++){let $=d[R];if(C)$===C&&(C="");else if($==='"'||$==="'")C=$;else if($===A[0])if(A[1]){if(d[R+1]===A[1])return{data:w,index:R}}else return{data:w,index:R};else $==="	"&&($=" ");w+=$}}function c(d,_,A,C){const w=d.indexOf(_,A);if(w===-1)throw new Error(C);return w+_.length-1}function y(d,_,A,C=">"){const w=v(d,_+1,C);if(!w)return;let R=w.data;const $=w.index,O=R.search(/\s/);let x=R,P=!0;O!==-1&&(x=R.substring(0,O),R=R.substring(O+1).trimStart());const L=x;if(A){const F=x.indexOf(":");F!==-1&&(x=x.substr(F+1),P=x!==w.data.substr(F+1))}return{tagName:x,tagExp:R,closeIndex:$,attrExpPresent:P,rawTagName:L}}function g(d,_,A){const C=A;let w=1;for(;A<d.length;A++)if(d[A]==="<")if(d[A+1]==="/"){const R=c(d,">",A,`${_} is not closed`);if(d.substring(A+2,R).trim()===_&&(w--,w===0))return{tagContent:d.substring(C,A),i:R};A=R}else if(d[A+1]==="?")A=c(d,"?>",A+1,"StopNode is not closed.");else if(d.substr(A+1,3)==="!--")A=c(d,"-->",A+3,"StopNode is not closed.");else if(d.substr(A+1,2)==="![")A=c(d,"]]>",A,"StopNode is not closed.")-2;else{const R=y(d,A,">");R&&((R&&R.tagName)===_&&R.tagExp[R.tagExp.length-1]!=="/"&&w++,A=R.closeIndex)}}function E(d,_,A){if(_&&typeof d=="string"){const C=d.trim();return C==="true"?!0:C==="false"?!1:u(d,A)}else return l.isExist(d)?d:""}return wt=o,wt}var mt={},on;function js(){if(on)return mt;on=1;function l(o,s){return i(o,s)}function i(o,s,n){let a;const t={};for(let r=0;r<o.length;r++){const p=o[r],f=e(p);let b="";if(n===void 0?b=f:b=n+"."+f,f===s.textNodeName)a===void 0?a=p[f]:a+=""+p[f];else{if(f===void 0)continue;if(p[f]){let m=i(p[f],s,b);const S=h(m,s);p[":@"]?u(m,p[":@"],b,s):Object.keys(m).length===1&&m[s.textNodeName]!==void 0&&!s.alwaysCreateTextNode?m=m[s.textNodeName]:Object.keys(m).length===0&&(s.alwaysCreateTextNode?m[s.textNodeName]="":m=""),t[f]!==void 0&&t.hasOwnProperty(f)?(Array.isArray(t[f])||(t[f]=[t[f]]),t[f].push(m)):s.isArray(f,b,S)?t[f]=[m]:t[f]=m}}}return typeof a=="string"?a.length>0&&(t[s.textNodeName]=a):a!==void 0&&(t[s.textNodeName]=a),t}function e(o){const s=Object.keys(o);for(let n=0;n<s.length;n++){const a=s[n];if(a!==":@")return a}}function u(o,s,n,a){if(s){const t=Object.keys(s),r=t.length;for(let p=0;p<r;p++){const f=t[p];a.isArray(f,n+"."+f,!0,!0)?o[f]=[s[f]]:o[f]=s[f]}}}function h(o,s){const{textNodeName:n}=s,a=Object.keys(o).length;return!!(a===0||a===1&&(o[n]||typeof o[n]=="boolean"||o[n]===0))}return mt.prettify=l,mt}var xt,an;function Qs(){if(an)return xt;an=1;const{buildOptions:l}=zs(),i=Vs(),{prettify:e}=js(),u=Yr();class h{constructor(s){this.externalEntities={},this.options=l(s)}parse(s,n){if(typeof s!="string")if(s.toString)s=s.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const r=u.validate(s,n);if(r!==!0)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const a=new i(this.options);a.addExternalEntities(this.externalEntities);const t=a.parseXml(s);return this.options.preserveOrder||t===void 0?t:e(t,this.options)}addEntity(s,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(s.indexOf("&")!==-1||s.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[s]=n}}return xt=h,xt}var Rt,ln;function Ys(){if(ln)return Rt;ln=1;const l=`
`;function i(n,a){let t="";return a.format&&a.indentBy.length>0&&(t=l),e(n,a,"",t)}function e(n,a,t,r){let p="",f=!1;for(let b=0;b<n.length;b++){const m=n[b],S=u(m);if(S===void 0)continue;let v="";if(t.length===0?v=S:v=`${t}.${S}`,S===a.textNodeName){let d=m[S];o(v,a)||(d=a.tagValueProcessor(S,d),d=s(d,a)),f&&(p+=r),p+=d,f=!1;continue}else if(S===a.cdataPropName){f&&(p+=r),p+=`<![CDATA[${m[S][0][a.textNodeName]}]]>`,f=!1;continue}else if(S===a.commentPropName){p+=r+`<!--${m[S][0][a.textNodeName]}-->`,f=!0;continue}else if(S[0]==="?"){const d=h(m[":@"],a),_=S==="?xml"?"":r;let A=m[S][0][a.textNodeName];A=A.length!==0?" "+A:"",p+=_+`<${S}${A}${d}?>`,f=!0;continue}let c=r;c!==""&&(c+=a.indentBy);const y=h(m[":@"],a),g=r+`<${S}${y}`,E=e(m[S],a,v,c);a.unpairedTags.indexOf(S)!==-1?a.suppressUnpairedNode?p+=g+">":p+=g+"/>":(!E||E.length===0)&&a.suppressEmptyNode?p+=g+"/>":E&&E.endsWith(">")?p+=g+`>${E}${r}</${S}>`:(p+=g+">",E&&r!==""&&(E.includes("/>")||E.includes("</"))?p+=r+a.indentBy+E+r:p+=E,p+=`</${S}>`),f=!0}return p}function u(n){const a=Object.keys(n);for(let t=0;t<a.length;t++){const r=a[t];if(n.hasOwnProperty(r)&&r!==":@")return r}}function h(n,a){let t="";if(n&&!a.ignoreAttributes)for(let r in n){if(!n.hasOwnProperty(r))continue;let p=a.attributeValueProcessor(r,n[r]);p=s(p,a),p===!0&&a.suppressBooleanAttributes?t+=` ${r.substr(a.attributeNamePrefix.length)}`:t+=` ${r.substr(a.attributeNamePrefix.length)}="${p}"`}return t}function o(n,a){n=n.substr(0,n.length-a.textNodeName.length-1);let t=n.substr(n.lastIndexOf(".")+1);for(let r in a.stopNodes)if(a.stopNodes[r]===n||a.stopNodes[r]==="*."+t)return!0;return!1}function s(n,a){if(n&&n.length>0&&a.processEntities)for(let t=0;t<a.entities.length;t++){const r=a.entities[t];n=n.replace(r.regex,r.val)}return n}return Rt=i,Rt}var vt,un;function Js(){if(un)return vt;un=1;const l=Ys(),i=nn(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(n,a){return a},attributeValueProcessor:function(n,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function u(n){this.options=Object.assign({},e,n),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=s),this.processTextOrObjNode=h,this.options.format?(this.indentate=o,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}u.prototype.build=function(n){return this.options.preserveOrder?l(n,this.options):(Array.isArray(n)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(n={[this.options.arrayNodeName]:n}),this.j2x(n,0,[]).val)},u.prototype.j2x=function(n,a,t){let r="",p="";const f=t.join(".");for(let b in n)if(Object.prototype.hasOwnProperty.call(n,b))if(typeof n[b]>"u")this.isAttribute(b)&&(p+="");else if(n[b]===null)this.isAttribute(b)||b===this.options.cdataPropName?p+="":b[0]==="?"?p+=this.indentate(a)+"<"+b+"?"+this.tagEndChar:p+=this.indentate(a)+"<"+b+"/"+this.tagEndChar;else if(n[b]instanceof Date)p+=this.buildTextValNode(n[b],b,"",a);else if(typeof n[b]!="object"){const m=this.isAttribute(b);if(m&&!this.ignoreAttributesFn(m,f))r+=this.buildAttrPairStr(m,""+n[b]);else if(!m)if(b===this.options.textNodeName){let S=this.options.tagValueProcessor(b,""+n[b]);p+=this.replaceEntitiesValue(S)}else p+=this.buildTextValNode(n[b],b,"",a)}else if(Array.isArray(n[b])){const m=n[b].length;let S="",v="";for(let c=0;c<m;c++){const y=n[b][c];if(!(typeof y>"u"))if(y===null)b[0]==="?"?p+=this.indentate(a)+"<"+b+"?"+this.tagEndChar:p+=this.indentate(a)+"<"+b+"/"+this.tagEndChar;else if(typeof y=="object")if(this.options.oneListGroup){const g=this.j2x(y,a+1,t.concat(b));S+=g.val,this.options.attributesGroupName&&y.hasOwnProperty(this.options.attributesGroupName)&&(v+=g.attrStr)}else S+=this.processTextOrObjNode(y,b,a,t);else if(this.options.oneListGroup){let g=this.options.tagValueProcessor(b,y);g=this.replaceEntitiesValue(g),S+=g}else S+=this.buildTextValNode(y,b,"",a)}this.options.oneListGroup&&(S=this.buildObjectNode(S,b,v,a)),p+=S}else if(this.options.attributesGroupName&&b===this.options.attributesGroupName){const m=Object.keys(n[b]),S=m.length;for(let v=0;v<S;v++)r+=this.buildAttrPairStr(m[v],""+n[b][m[v]])}else p+=this.processTextOrObjNode(n[b],b,a,t);return{attrStr:r,val:p}},u.prototype.buildAttrPairStr=function(n,a){return a=this.options.attributeValueProcessor(n,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+n:" "+n+'="'+a+'"'};function h(n,a,t,r){const p=this.j2x(n,t+1,r.concat(a));return n[this.options.textNodeName]!==void 0&&Object.keys(n).length===1?this.buildTextValNode(n[this.options.textNodeName],a,p.attrStr,t):this.buildObjectNode(p.val,a,p.attrStr,t)}u.prototype.buildObjectNode=function(n,a,t,r){if(n==="")return a[0]==="?"?this.indentate(r)+"<"+a+t+"?"+this.tagEndChar:this.indentate(r)+"<"+a+t+this.closeTag(a)+this.tagEndChar;{let p="</"+a+this.tagEndChar,f="";return a[0]==="?"&&(f="?",p=""),(t||t==="")&&n.indexOf("<")===-1?this.indentate(r)+"<"+a+t+f+">"+n+p:this.options.commentPropName!==!1&&a===this.options.commentPropName&&f.length===0?this.indentate(r)+`<!--${n}-->`+this.newLine:this.indentate(r)+"<"+a+t+f+this.tagEndChar+n+this.indentate(r)+p}},u.prototype.closeTag=function(n){let a="";return this.options.unpairedTags.indexOf(n)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${n}`,a},u.prototype.buildTextValNode=function(n,a,t,r){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${n}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(r)+`<!--${n}-->`+this.newLine;if(a[0]==="?")return this.indentate(r)+"<"+a+t+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(a,n);return p=this.replaceEntitiesValue(p),p===""?this.indentate(r)+"<"+a+t+this.closeTag(a)+this.tagEndChar:this.indentate(r)+"<"+a+t+">"+p+"</"+a+this.tagEndChar}},u.prototype.replaceEntitiesValue=function(n){if(n&&n.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const t=this.options.entities[a];n=n.replace(t.regex,t.val)}return n};function o(n){return this.options.indentBy.repeat(n)}function s(n){return n.startsWith(this.options.attributeNamePrefix)&&n!==this.options.textNodeName?n.substr(this.attrPrefixLen):!1}return vt=u,vt}var Ct,fn;function Ds(){if(fn)return Ct;fn=1;const l=Yr(),i=Qs(),e=Js();return Ct={XMLParser:i,XMLValidator:l,XMLBuilder:e},Ct}var ei=Ds(),St,cn;function ti(){return cn||(cn=1,St=function l(i,e){var u=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,h=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,n=/^0/,a=function(g){return l.insensitive&&(""+g).toLowerCase()||""+g},t=a(i).replace(h,"")||"",r=a(e).replace(h,"")||"",p=t.replace(u,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=r.replace(u,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),b=parseInt(t.match(s),16)||p.length!==1&&t.match(o)&&Date.parse(t),m=parseInt(r.match(s),16)||b&&r.match(o)&&Date.parse(r)||null,S,v;if(m){if(b<m)return-1;if(b>m)return 1}for(var c=0,y=Math.max(p.length,f.length);c<y;c++){if(S=!(p[c]||"").match(n)&&parseFloat(p[c])||p[c]||0,v=!(f[c]||"").match(n)&&parseFloat(f[c])||f[c]||0,isNaN(S)!==isNaN(v))return isNaN(S)?1:-1;if(typeof S!=typeof v&&(S+="",v+=""),S<v)return-1;if(S>v)return 1}return 0}),St}var ri=ti(),Nt=Nr(ri);async function ni(l,i={}){const e={ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"$",isArray:void 0};i.alwaysArray?e.isArray=(o,s)=>{if(i.alwaysArray.indexOf(s)!==-1)return!0}:delete e.isArray;const u=Object.assign(e,i),h=new ei.XMLParser(u);return new Promise((o,s)=>{try{const n=h.parse(l);o(n)}catch(n){s(n)}})}async function hn(l){if(new Uint16Array(l,0,2)[0]===35615)try{const e=new Response(l),u=new DecompressionStream("gzip"),h=await e.body?.pipeThrough(u),o=await new Response(h).arrayBuffer();return await hn(o)}catch(e){console.error("eee",e)}return l}const dn="AAK"+Object.keys({light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex",transparentLight:"mapbox://styles/vsp-tu-berlin/clgxnk7m500dt01p687w8e693",transparentDark:"mapbox://styles/vsp-tu-berlin/clgwrqa0w00av01pg5jox0a35"}).length+"QRQ0EldfvmCW4Cyu";Nt.insensitive=!0;const si=/.*\.(avro|dbf|gpkg|gz|h5|jpg|jpeg|omx|png|shp|shx|sqlite|zip|zst)$/,ii=["simwrapper",".simwrapper"],me={};class oi{baseUrl;urlId;slug;needsAuth;fsHandle;store;isGithub;isZIB;isFlask;type;fileLinkLookup={};constructor(i,e){this.urlId=i.slug,this.slug=i.slug,this.needsAuth=!!i.needPassword,this.fsHandle=i.handle||null,this.store=e||null,this.isGithub=!!i.isGithub,this.isFlask=!!i.flask,this.isZIB=!!i.isZIB,this.type=0,this.fsHandle&&(this.type=1),this.isGithub&&(this.type=2),this.isFlask&&(this.type=3),this.isZIB&&(this.type=4),this.baseUrl=i.baseURL,i.baseURL.endsWith("/")||(this.baseUrl+="/"),me[this.urlId]||(me[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(i){return i&&await i.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(o=>{this.store.commit("setFileHandleForPermissionRequest",{handle:i,resolve:o})}):!0}clearCache(){me[this.urlId]={}}cleanURL(i){let e=this.baseUrl+i.replace(/^0-9a-zA-Z_\-\/:+/i,"");return e=e.replaceAll("//","/"),e=e.replaceAll("//","/"),e=e.replace("https:/","https://"),e=e.replace("http:/","http://"),e=new URL(e).href,e}async _getFileResponse(i){switch(this.type){case 1:return this._getFileFromChromeFileSystem(i);case 2:return this._getFileFromGitHub(i);case 4:return this._getFileFromLakeFS(i);case 3:return this._getFileFromAzure(i);case 0:default:return this._getFileFetchResponse(i)}}async _getFileFromLakeFS(i,e){let u=i.replaceAll("//","/");u=i.replaceAll("//","/"),console.log({betterPath:u});let h=this.baseUrl+u;h.endsWith("/")&&(h=h.slice(0,-1));const o=u.slice(u.lastIndexOf("/")+1),s=this.fileLinkLookup[o];return s&&(h=s),console.log({lookup:s}),await fetch(h).then(a=>{if(a.status>=300)throw console.warn("Status:",a.status),a;return a})}async _getFileFetchResponse(i,e){const u=this.cleanURL(i),h={};e?.maxBytes&&(h.Range=`bytes=0-${e.maxBytes-1}`);const o=new Request(u,{headers:h});return await fetch(o).then(n=>{if(n.status>=300)throw console.warn("Status:",n.status),n;return n})}async _getDirectoryFromAzure(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e=e.replaceAll("//","/");let u=`${this.baseUrl}list/${this.slug}?prefix=${e}`;const h=new URL(u).href,o={};if(this.needsAuth){let t=localStorage.getItem(`auth-token-${this.slug}`);if(t||(t=prompt("This server requires an access token to continue")),t)localStorage.setItem(`auth-token-${this.slug}`,t),o.AZURETOKEN=t;else return{dirs:[],files:[],handles:{}}}const s=new Request(h,{headers:o}),n=await fetch(s);if(n.status==400){let t=prompt("Authorization failure. This server requires a valid access token to continue");return t?(localStorage.setItem(`auth-token-${this.slug}`,t),o.AZURETOKEN=t,await this._getDirectoryFromAzure(i)):{dirs:[],files:[],handles:{}}}if(n.status!=200)throw console.log("Status:",n.status),n;return await n.json()}getSlug(){return this.slug}async _getFileFromAzure(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e=e.replaceAll("//","/");let u=`${this.baseUrl}file/${this.slug}?prefix=${e}`;const h=new URL(u).href,o={},s=new Request(h,{headers:o}),n=await fetch(s);if(n.status!=200)throw console.log("Status:",n.status),n;return n}async _getFileFromChromeFileSystem(i,e){let u=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");u=u.replaceAll("//","/"),u=new URL(`http://local/${u}`).href,u=u.substring(13);const h=u.lastIndexOf("/"),o=u.substring(0,h),s=decodeURIComponent(u.substring(h+1)),a=(await this.getDirectory(o)).handles[s];if(!a)throw Error(`File ${s} missing`);const t=await a.getFile();return t.json=()=>new Promise(async(r,p)=>{const f=await t.text(),b=JSON.parse(f);r(b)}),t.blob=()=>new Promise(async(r,p)=>{r(t)}),new Promise((r,p)=>{r(t)})}async _getFileFromGitHub(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e.startsWith("/")&&(e=e.slice(1));const u=e.split("/").filter(f=>!!f);if(u.length<2)return new Promise((f,b)=>{f(null)});const h=`${u[0]}/${u[1]}`;let o=`https://api.github.com/repos/${h}/contents/`;u.shift(),u.shift(),o+=u.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${dn}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};let t=await await fetch(o,{headers:a}).then(f=>f.json()),r=t.content;if(r||(o=`https://api.github.com/repos/${h}/git/blobs/${t.sha}`,t=await await fetch(o,{headers:a}).then(f=>f.json()),r=t.content),t.encoding=="base64"){const f=Uint8Array.from(atob(t.content),b=>b.charCodeAt(0));si.test(i.toLocaleLowerCase())?r=f:r=new TextDecoder().decode(f)}else t.encoding=="utf-8"?r=new TextDecoder().decode(t.content):r=t.content;return{text:()=>new Promise((f,b)=>{f(r)}),json:()=>new Promise(async(f,b)=>{const m=JSON.parse(r);f(m)}),blob:()=>new Promise(async(f,b)=>{f(new Blob([r],{type:"application/octet-stream"}))})}}async _getDirectoryFromGitHub(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e.startsWith("/")&&(e=e.slice(1));const u={dirs:[],files:[],handles:{}},h=e.split("/").filter(r=>!!r);if(h.length<2)return u;let o=`https://api.github.com/repos/${h[0]}/${h[1]}/contents/`;h.shift(),h.shift(),o+=h.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${dn}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};return(await await fetch(o,{headers:a}).then(r=>r.json())).forEach(r=>{r.type=="file"&&u.files.push(r.name),r.type=="dir"&&u.dirs.push(r.name)}),u}async getFileText(i){return(await this._getFileResponse(i)).text()}async getFileJson(i){const h=await(await(await this._getFileResponse(i)).blob()).arrayBuffer(),o=await hn(h),s=new TextDecoder("utf-8").decode(o);return JSON.parse(s)}async getFileBlob(i){return(await this._getFileResponse(i)).blob()}async probeXmlFileType(i){let e=await this.getFileStream(i,{maxBytes:1024});i.toLocaleLowerCase().endsWith(".gz")&&(e=e.pipeThrough(new DecompressionStream("gzip")));const u=await e.getReader().read(),h=new Uint8Array(u.value),s=new TextDecoder("utf-8").decode(h.slice(0,Math.min(h.length,1024))).match(/<!DOCTYPE\s+(\w+)\s*(?:\[\s*([^\]]*)\s*\])?(?:\s+PUBLIC\s+"([^"]+)"\s+"([^"]+)"|(?:\s+SYSTEM\s+)?"([^"]+)")?/is);return s?s[1]:null}async getFileStream(i,e){let u;switch(this.type){case 1:return u=await this._getFileFromChromeFileSystem(i,e).then(o=>o.blob()).then(o=>o.stream()),u;case 0:return u=await this._getFileFetchResponse(i,e).then(o=>o.body),u;case 3:const h=`/file/${this.slug}?prefix=${i}`;return u=await this._getFileFetchResponse(h,e).then(o=>o.body),u;case 4:return u=await this._getFileFromLakeFS(i,e).then(o=>o.body),u;default:throw Error(`FileSystemType ${this.type} not implemented`)}}async getDirectory(i){let e=i.replaceAll("//","/");e.endsWith("/")||(e+="/");const u=me[this.urlId][e];if(u)return u;e=e.replaceAll("/./","/");try{let h;switch(this.type){case 1:h=await this._getDirectoryFromHandle(e);break;case 2:h=await this._getDirectoryFromGitHub(e);break;case 3:h=await this._getDirectoryFromAzure(e);break;case 4:case 0:default:h=await this._getDirectoryFromURL(e);break}return h.dirs.sort((o,s)=>Nt(o,s)),h.files.sort((o,s)=>Nt(o,s)),this.type!==4&&(me[this.urlId][e]=h),h}catch(h){throw Error(""+h)}}async _getDirectoryFromHandle(i,e){const u={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return u;let o=i.split("/").filter(t=>!!t);function s(t){const r=t.indexOf("..");if(r<=0)return t;const p=t.filter((f,b)=>b!==r-1&&b!==r);return s(p)}const n=s(o);let a=this.fsHandle;if(n.length)for(const t of n){let r=!1;for await(let[p,f]of a)if(p===t){a=f,r=!0;break}if(!r)throw Error(`Could not find folder "${t}"`)}for await(let t of a.values())u.handles&&(u.handles[t.name]=t),t.kind==="file"?u.files.push(t.name):u.dirs.push(t.name);return u}async _getDirectoryFromURL(i){const u=await(await this._getFileResponse(i)).text();return this.buildListFromHtml(u)}async findAllYamlConfigs(i){const e={dashboards:{},topsheets:{},vizes:{},configs:{}},u=[];let h="/";const s=(i.startsWith("/")?i:"/"+i).split("/");for(const p of s.slice(0,s.length-1)){h=`${h}${p}/`.replaceAll("//","/");try{const{dirs:f}=await this.getDirectory(h);for(const b of f)ii.includes(b.toLocaleLowerCase())&&u.push(`${h}/${b}`.replaceAll("//","/"))}catch{}}u.push(i);const n="dashboard*.y?(a)ml",a="(topsheet|table)*.y?(a)ml",t="viz*.y?(a)ml",r="simwrapper-config.y?(a)ml";for(const p of u){const{files:f}=await this.getDirectory(p);Le.match(f,n).map(b=>e.dashboards[b]=`${p}/${b}`.replaceAll("//","/")),Le.match(f,a).map(b=>e.topsheets[b]=`${p}/${b}`.replaceAll("//","/")),Le.match(f,t).map(b=>e.vizes[b]=`${p}/${b}`.replaceAll("//","/")),Le.match(f,r).map(b=>e.configs[b]=`${p}/${b}`.replaceAll("//","/"))}return e}buildListFromHtml(i){return i.indexOf("<title>lakeFS File Browser")>-1?this.buildListFromLakeFS(i):i.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(i):i.indexOf("<ul>")>-1?this.buildListFromSVN(i):i.indexOf('<ul id="files">')>-1?this.buildListFromNpxServe(i):i.indexOf("<table>")>-1?this.buildListFromApache24(i):i.indexOf(`
<a `)>-1?this.buildListFromNGINX(i):{dirs:[],files:[],handles:{}}}buildListFromLakeFS(i){const e=/">(.*?)<\/a/,u=/href="(.*?)" target/,h=[],o=[];return i.split(`
`).filter(a=>a.startsWith("<li>")).forEach(a=>{if(a.indexOf('<a href="')<0)return;const r=a.match(e);if(!r)return;const p=r[1];if(a.startsWith("<li>[DIR]"))h.push(p.substring(0,p.length));else{const f=a.match(u);if(!f)return;const b=f[1];o.push(p),this.fileLinkLookup[p]=b}}),console.log({dirs:h,files:o,lookup:this.fileLinkLookup}),{dirs:h,files:o,handles:{}}}buildListFromSimpleWebServer(i){const e=/">(.*?)<\/a/,u=[],h=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<li><a href="')<0)continue;const a=s.match(e);if(!a)continue;const t=a[1];t.endsWith("/")?u.push(t.substring(0,t.length-1)):h.push(t)}return{dirs:u,files:h,handles:{}}}buildListFromNpxServe(i){const e=/"(.*?)"/;let u=[],h=[];const o=i.split("</li>").map(s=>s.slice(s.lastIndexOf("<li")));for(const s of o){const n=s.indexOf('<li> <a href="');if(n<0||n>512)continue;const a=s.match(e);if(!a)continue;let t=a[1];t=t.replaceAll("&#47;","/"),t!=="/"&&t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):h.push(t))}return u=u.map(s=>s.slice(1+s.lastIndexOf("/"))),h=h.map(s=>s.slice(1+s.lastIndexOf("/"))),{dirs:u,files:h,handles:{}}}buildListFromSVN(i){const e=/"(.*?)"/,u=[],h=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<li><a href="')<0)continue;const a=s.match(e);if(!a)continue;let t=a[1];t!=="../"&&(t.startsWith("./")&&(t=t.substring(2)),t.endsWith("/")?u.push(t.substring(0,t.length-1)):h.push(t))}return{dirs:u,files:h,handles:{}}}buildListFromApache24(i){const e=/"(.*?)"/,u=[],h=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<th "')>-1||s.indexOf("[PARENTDIR]")>-1)continue;const n=s.indexOf('<td><a href="');if(n<0)continue;const a=s.substring(n).match(e);if(!a)continue;const t=a[1];t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):h.push(t))}return{dirs:u,files:h,handles:{}}}buildListFromNGINX(i){const e=/"(.*?)"/,u=[],h=[],o=i.split(`
`);for(const s of o){const n=s.indexOf('<a href="');if(n<0)continue;const a=s.substring(n).match(e);if(!a)continue;const t=a[1];t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):h.push(t))}return{dirs:u,files:h,handles:{}}}}const pn=self,ai=new CountQueuingStrategy({highWaterMark:1}),gn=1024*1024*8,xe=1200127;onmessage=async({data:{filePath:l,fileSystem:i}})=>{await li(l,i)};async function li(l,i){try{console.log(l);const u=await new oi(i).getFileStream(l);if(!u)throw Error("STREAM is null");await u.pipeTo(ci),pn.postMessage({finished:!0})}catch{pn.postMessage({error:"Error loading "+l})}}let Tt=0,ui=0,bn="",fi=new TextDecoder,he=[],fe=new Float32Array(xe).fill(NaN),de=[],pe={},An=!1;const Ot=new Ss.Inflate({to:"string",chunkSize:524288}),kt=[];Ot.onData=l=>{kt.push(l)},Ot.onEnd=l=>{console.log("gzipper onEnd",l)};const _n=async l=>{let i=bn+l;const e=i.lastIndexOf(`
`);bn=i.slice(e+1),i=i.slice(0,e);const u=i.split(`
`),h=await di(u);if(hi(h),he.push(...h),he.length>xe){const o=he.slice(0,xe);fe.set(o.map(s=>s.time)),postMessage({events:o,times:fe,vehicleTrips:de},[fe.buffer]),he=he.slice(xe),fe=new Float32Array(xe),de=[]}},ci=new WritableStream({write(l){return new Promise(async(i,e)=>{const u=async(o,s)=>{if(Tt==1){const n=new Uint8Array(o.buffer.slice(0,2));n[0]===31&&n[1]===139&&(An=!0)}if(An)for(Ot.push(o);kt.length;){const n=kt.shift();await _n(n)}else{const n=fi.decode(o);_n(n)}};Tt++,ui+=l.length;let h=0;for(console.log("got chunk",Tt);h<l.length;){const o=l.subarray(h,h+gn);o.length&&await u(o),h+=gn}i()})},close(){console.log("STREAM FINISHED! Orphans:",Object.keys(pe).length),console.log("final vehicle trips:",de.length,de[de.length-1]),fe.set(he.map(l=>l.time)),fe=fe.subarray(0,he.length),postMessage({events:he,times:fe,vehicleTrips:de},[fe.buffer])},abort(l){console.log("STREAM error:",l)}},ai);function hi(l){for(const i of l)switch(i.type){case"vehicle enters traffic":case"entered link":pe[i.vehicle]=i.time;break;case"left link":i.vehicle in pe&&(de.push({link:i.link,t0:pe[i.vehicle],t1:i.time}),pe[i.vehicle]=i.time);case"vehicle leaves traffic":i.vehicle in pe&&de.push({link:i.link,t0:pe[i.vehicle],t1:i.time}),delete pe[i.vehicle];break}}async function di(l){const i=[],e=/<event /;for(const u of l)if(e.test(u)){const h=await ni(u,{alwaysArray:[],attributeNamePrefix:""});h.event.time=parseFloat(h.event.time),i.push(h.event)}return i}})();
