class s{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const d=n[i],f=e+d,a=Math.abs(e)<Math.abs(d)?e-(f-d):d-(f-e);a&&(n[t++]=a),e=f}return n[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let n=this._n,t,i,d,f=0;if(n>0){for(f=e[--n];n>0&&(t=f,i=e[--n],f=t+i,d=i-(f-t),!d););n>0&&(d<0&&e[n-1]<0||d>0&&e[n-1]>0)&&(i=d*2,t=f+i,i==t-f&&(f=t))}return f}}function o(r,e){const n=new s;if(e===void 0)for(let t of r)(t=+t)&&n.add(t);else{let t=-1;for(let i of r)(i=+e(i,++t,r))&&n.add(i)}return+n}function l(r,e){const n=new s;let t=-1;return Float64Array.from(r,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++t,r)||0))}function u(r,e){let n;if(e===void 0)for(const t of r)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let t=-1;for(let i of r)(i=e(i,++t,r))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}export{s as A,o as a,l as f,u as m};
