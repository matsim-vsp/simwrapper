import{n as a}from"./index-D_sw2g-2.js";const l={name:"FileSelector",props:{multiple:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},acceptExtensions:{type:String,default:""},maxFileSize:{type:Number,default:NaN},height:{type:Number,default:NaN},validateFn:{type:Function,default:()=>!0}},data(){return{isDragEnter:!1}},methods:{startDrag(){this.isDragEnter=!0},handleFilesChange(t){this.preprocessFiles(t.target.files)},handleDrop(t){this.isDragEnter=!1,this.preprocessFiles(t.dataTransfer.files)},checkFileExtensions(t){const e=[...new Set(this.acceptExtensions.toLowerCase().split(",").filter(Boolean))];return Array.from(t).findIndex(s=>{const r=`.${s.name.toLowerCase().split(".").pop()}`;return!e.includes(r)})===-1},checkFileSize(t){return Number.isNaN(this.maxFileSize)?!0:Array.from(t).findIndex(i=>i.size>this.maxFileSize)===-1},validate(t){return!this.multiple&&t.length>1?"MULTIFILES_ERROR":this.checkFileExtensions(t)?this.checkFileSize(t)?this.validateFn(t):"FILE_SIZE_ERROR":"EXTENSION_ERROR"},preprocessFiles(t){const e=this.validate(t);this.$emit("validated",e,t),e===!0&&this.$emit("changed",t),this.$refs.fsFileInput.value=""}}};var o=function(){var e=this,n=e._self._c;return n("div",{staticClass:"fs-file-selector",class:{"fs-drag-enter":e.isDragEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"fs-loader"},[e._t("loader",function(){return[e._v(" Loading... ")]})],2),n("div",{ref:"fsDroppable",staticClass:"fs-droppable",class:{isDragEnter:"is-dragging"},style:{height:e.height+"px"},on:{dragenter:function(i){return i.stopPropagation(),i.preventDefault(),e.startDrag()},dragover:function(i){return i.stopPropagation(),i.preventDefault(),e.startDrag()},dragleave:function(i){e.isDragEnter=!1},drop:function(i){return i.stopPropagation(),i.preventDefault(),e.handleDrop.apply(null,arguments)}}},[n("input",{ref:"fsFileInput",attrs:{type:"file",tabindex:"-1",multiple:e.multiple,accept:e.acceptExtensions},on:{change:e.handleFilesChange}}),e._t("top"),n("div",{staticClass:"fs-btn-select",attrs:{href:"#"},on:{click:function(i){return e.$refs.fsFileInput.click()}}},[e._t("default",function(){return[e._v("Select")]})],2),e._t("bottom")],2)])},c=[],d=a(l,o,c,!1,null,"5f37ddf8");const u=d.exports;export{u as F};
