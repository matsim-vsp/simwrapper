import{k as L}from"./Set3-Dyl9Llxj.js";import{a as hn,b as ln,i as mn,t as gn,c as T,d as dn}from"./round-D-ROWHlE.js";import{e as pn}from"./cubehelix-Bg3rkAQA.js";function Mn(n){return function(){return n}}function yn(n){return+n}var B=[0,1];function k(n){return n}function C(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Mn(isNaN(t)?NaN:.5)}function wn(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function bn(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=C(i,r),o=e(a,o)):(r=C(r,i),o=e(o,a)),function(f){return o(r(f))}}function kn(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=C(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(f){var l=pn(n,f,1,r)-1;return o[l](i[l](f))}}function R(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function q(){var n=B,t=B,e=ln,r,i,o,a=k,f,l,c;function m(){var u=Math.min(n.length,t.length);return a!==k&&(a=wn(n[0],n[u-1])),f=u>2?kn:bn,l=c=null,s}function s(u){return u==null||isNaN(u=+u)?o:(l||(l=f(n.map(r),t,e)))(r(a(u)))}return s.invert=function(u){return a(i((c||(c=f(t,n.map(r),hn)))(u)))},s.domain=function(u){return arguments.length?(n=Array.from(u,yn),m()):n.slice()},s.range=function(u){return arguments.length?(t=Array.from(u),m()):t.slice()},s.rangeRound=function(u){return t=Array.from(u),e=mn,m()},s.clamp=function(u){return arguments.length?(a=u?!0:k,m()):a!==k},s.interpolate=function(u){return arguments.length?(e=u,m()):e},s.unknown=function(u){return arguments.length?(o=u,s):o},function(u,d){return r=u,i=d,m()}}function xn(){return q()(k,k)}function Sn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function A(n){return n=$(Math.abs(n)),n?n[1]:NaN}function Nn(n,t){return function(e,r){for(var i=e.length,o=[],a=0,f=n[0],l=0;i>0&&f>0&&(l+f+1>r&&(f=Math.max(1,r-l)),o.push(e.substring(i-=f,i+f)),!((l+=f+1)>r));)f=n[a=(a+1)%n.length];return o.reverse().join(t)}}function vn(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var An=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function P(n){if(!(t=An.exec(n)))throw new Error("invalid format: "+n);var t;return new D({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}P.prototype=D.prototype;function D(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}D.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pn(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var on;function jn(n,t){var e=$(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(on=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$(n,Math.max(0,t+o-1))[0]}function H(n,t){var e=$(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const J={"%":function(n,t){return(n*100).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:Sn,e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return H(n*100,t)},r:H,s:jn,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}};function K(n){return n}var Q=Array.prototype.map,V=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function zn(n){var t=n.grouping===void 0||n.thousands===void 0?K:Nn(Q.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?K:vn(Q.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"-":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(s){s=P(s);var u=s.fill,d=s.align,g=s.sign,p=s.symbol,b=s.zero,M=s.width,I=s.comma,S=s.precision,O=s.trim,y=s.type;y==="n"?(I=!0,y="g"):J[y]||(S===void 0&&(S=12),O=!0,y="g"),(b||u==="0"&&d==="=")&&(b=!0,u="0",d="=");var fn=p==="$"?e:p==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",cn=p==="$"?r:/[%p]/.test(y)?a:"",U=J[y],sn=/[defgprs%]/.test(y);S=S===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function Y(h){var N=fn,w=cn,v,Z,j;if(y==="c")w=U(h)+w,h="";else{h=+h;var z=h<0||1/h<0;if(h=isNaN(h)?l:U(Math.abs(h),S),O&&(h=Pn(h)),z&&+h==0&&g!=="+"&&(z=!1),N=(z?g==="("?g:f:g==="-"||g==="("?"":g)+N,w=(y==="s"?V[8+on/3]:"")+w+(z&&g==="("?")":""),sn){for(v=-1,Z=h.length;++v<Z;)if(j=h.charCodeAt(v),48>j||j>57){w=(j===46?i+h.slice(v+1):h.slice(v))+w,h=h.slice(0,v);break}}}I&&!b&&(h=t(h,1/0));var E=N.length+h.length+w.length,x=E<M?new Array(M-E+1).join(u):"";switch(I&&b&&(h=t(x+h,x.length?M-w.length:1/0),x=""),d){case"<":h=N+h+w+x;break;case"=":h=N+x+h+w;break;case"^":h=x.slice(0,E=x.length>>1)+N+h+w+x.slice(E);break;default:h=x+N+h+w;break}return o(h)}return Y.toString=function(){return s+""},Y}function m(s,u){var d=c((s=P(s),s.type="f",s)),g=Math.max(-8,Math.min(8,Math.floor(A(u)/3)))*3,p=Math.pow(10,-g),b=V[8+g/3];return function(M){return d(p*M)+b}}return{format:c,formatPrefix:m}}var F,G,an;En({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function En(n){return F=zn(n),G=F.format,an=F.formatPrefix,F}function Fn(n){return Math.max(0,-A(Math.abs(n)))}function $n(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(A(t)/3)))*3-A(Math.abs(n)))}function Ln(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,A(t)-A(n))+1}function Rn(n,t,e,r){var i=gn(n,t,e),o;switch(r=P(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=$n(i,a))&&(r.precision=o),an(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ln(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Fn(i))&&(r.precision=o-(r.type==="%")*2);break}}return G(r)}function X(n){var t=n.domain;return n.ticks=function(e){var r=t();return T(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Rn(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],l,c,m=10;for(f<a&&(c=a,a=f,f=c,c=i,i=o,o=c);m-- >0;){if(c=dn(a,f,e),c===l)return r[i]=a,r[o]=f,t(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;l=c}return n},n}function qn(){var n=xn();return n.copy=function(){return R(n,qn())},L.apply(n,arguments),X(n)}function In(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function W(n){return Math.log(n)}function _(n){return Math.exp(n)}function Tn(n){return-Math.log(-n)}function Cn(n){return-Math.exp(-n)}function Dn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Gn(n){return n===10?Dn:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Xn(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function nn(n){return(t,e)=>-n(-t,e)}function On(n){const t=n(W,_),e=t.domain;let r=10,i,o;function a(){return i=Xn(r),o=Gn(r),e()[0]<0?(i=nn(i),o=nn(o),n(Tn,Cn)):n(W,_),t}return t.base=function(f){return arguments.length?(r=+f,a()):r},t.domain=function(f){return arguments.length?(e(f),a()):e()},t.ticks=f=>{const l=e();let c=l[0],m=l[l.length-1];const s=m<c;s&&([c,m]=[m,c]);let u=i(c),d=i(m),g,p;const b=f==null?10:+f;let M=[];if(!(r%1)&&d-u<b){if(u=Math.floor(u),d=Math.ceil(d),c>0){for(;u<=d;++u)for(g=1;g<r;++g)if(p=u<0?g/o(-u):g*o(u),!(p<c)){if(p>m)break;M.push(p)}}else for(;u<=d;++u)for(g=r-1;g>=1;--g)if(p=u>0?g/o(-u):g*o(u),!(p<c)){if(p>m)break;M.push(p)}M.length*2<b&&(M=T(c,m,b))}else M=T(u,d,Math.min(d-u,b)).map(o);return s?M.reverse():M},t.tickFormat=(f,l)=>{if(f==null&&(f=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=P(l)).precision==null&&(l.trim=!0),l=G(l)),f===1/0)return l;const c=Math.max(1,r*f/t.ticks().length);return m=>{let s=m/o(Math.round(i(m)));return s*r<r-.5&&(s*=r),s<=c?l(m):""}},t.nice=()=>e(In(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function Un(){const n=On(q()).domain([1,10]);return n.copy=()=>R(n,Un()).base(n.base()),L.apply(n,arguments),n}function tn(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function rn(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Yn(n){var t=1,e=n(tn(t),rn(t));return e.constant=function(r){return arguments.length?n(tn(t=+r),rn(t)):t},X(e)}function Zn(){var n=Yn(q());return n.copy=function(){return R(n,Zn()).constant(n.constant())},L.apply(n,arguments)}function en(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Bn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Hn(n){return n<0?-n*n:n*n}function Jn(n){var t=n(k,k),e=1;function r(){return e===1?n(k,k):e===.5?n(Bn,Hn):n(en(e),en(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},X(t)}function un(){var n=Jn(q());return n.copy=function(){return R(n,un()).exponent(n.exponent())},L.apply(n,arguments),n}function Wn(){return un.apply(null,arguments).exponent(.5)}export{Un as a,Wn as b,X as c,On as d,Yn as e,G as f,Jn as g,xn as h,k as i,In as j,R as k,qn as l,yn as n,un as p,Zn as s,Rn as t};
