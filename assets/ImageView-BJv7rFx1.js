import{d as i,g as o,n}from"./index-D_sw2g-2.js";import{r}from"./index-CwaVpBWb.js";const l=i({name:"ImageViewPlugin",props:{fileApi:{type:Object,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,thumbnail:Boolean},data:()=>({globalState:o.state,myState:{},matsimPngTitles:{"modestats.png":"Mode statistics","ph_modestats.png":"Passenger hours traveled per mode","pkm_modestats.png":"Passenger km traveled per mode","scorestats.png":"Score statistics","stopwatch.png":"Stopwatch: computation time","traveldistancestatslegs.png":"Leg travel distance","traveldistancestatstrips.png":"Trip travel distance"}}),computed:{isDarkMode(){return this.globalState.isDarkMode}},methods:{buildRouteFromUrl(){const e=this.$route.params;if(!e.project||!e.pathMatch){console.log("I CANT EVEN: NO PROJECT/PARHMATCH");return}const t=1+e.pathMatch.lastIndexOf("/"),a=e.pathMatch.substring(0,t),s=e.pathMatch.substring(t);this.myState.subfolder=a,this.myState.yamlConfig=s},async getVizDetails(){try{const e=await this.myState.fileApi.getFileBlob(this.myState.subfolder+"/"+this.myState.yamlConfig);if(!e){console.log("no blob! :-(");return}const t=await r.dataurl(e);this.myState.imageData=t;const a=this.yamlConfig,s=this.matsimPngTitles[a]?this.matsimPngTitles[a]:this.yamlConfig;this.$emit("title",s)}catch(e){return console.error({e}),null}}},watch:{yamlConfig(){this.myState.yamlConfig=this.yamlConfig,this.getVizDetails()},subfolder(){this.myState.subfolder=this.subfolder,this.getVizDetails()}},mounted(){this.myState={fileApi:this.fileApi,subfolder:this.subfolder,yamlConfig:this.yamlConfig,thumbnail:this.thumbnail,imageData:""},this.yamlConfig||this.buildRouteFromUrl(),this.getVizDetails()}});var m=function(){var t=this,a=t._self._c;return t._self._setupProxy,t.myState.yamlConfig?a("div",{staticClass:"image-container",class:{zthumbnail:t.thumbnail}},[a("img",{staticClass:"medium-zoom",class:{"invert-colors":t.isDarkMode},attrs:{src:t.myState.imageData}})]):t._e()},g=[],c=n(l,m,g,!1,null,"8f2dfac3");const u=c.exports;export{u as default};
